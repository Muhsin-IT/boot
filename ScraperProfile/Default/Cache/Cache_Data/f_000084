var app=function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function e(t,e,i,n,r,a,s){try{var o=t[a](s),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(n,r)}function i(t){return function(){var i=this,n=arguments;return new Promise(function(r,a){var s=t.apply(i,n);function o(t){e(s,r,a,o,l,"next",t)}function l(t){e(s,r,a,o,l,"throw",t)}o(void 0)})}}function n(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=d(t))||e){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw a}}}}function r(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){r(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function o(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,e,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",r=i.toStringTag||"@@toStringTag";function a(i,n,r,a){var o=n&&n.prototype instanceof c?n:c,d=Object.create(o.prototype);return l(d,"_invoke",function(i,n,r){var a,o,l,c=0,d=r||[],h=!1,u={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,i){return a=e,o=0,l=t,u.n=i,s}};function f(i,n){for(o=i,l=n,e=0;!h&&c&&!r&&e<d.length;e++){var r,a=d[e],f=u.p,p=a[2];i>3?(r=p===n)&&(l=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=f&&((r=i<2&&f<a[1])?(o=0,u.v=n,u.n=a[1]):f<p&&(r=i<3||a[0]>n||n>p)&&(a[4]=i,a[5]=n,u.n=p,o=0))}if(r||i>1)return s;throw h=!0,n}return function(r,d,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===d&&f(d,p),o=d,l=p;(e=o<2?t:l)||!h;){a||(o?o<3?(o>1&&(u.n=-1),f(o,l)):u.n=l:u.v=l);try{if(c=2,a){if(o||(r="next"),e=a[r]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,o<2&&(o=0)}else 1===o&&(e=a.return)&&e.call(a),o<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),o=1);a=t}else if((e=(h=u.n<0)?l:i.call(n,u))!==s)break}catch(e){a=t,o=1,l=e}finally{c=1}}return{value:e,done:h}}}(i,r,a),!0),d}var s={};function c(){}function d(){}function h(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(l(e={},n,function(){return this}),e),f=h.prototype=c.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,r,"GeneratorFunction")),t.prototype=Object.create(f),t}return d.prototype=h,l(f,"constructor",h),l(h,"constructor",d),d.displayName="GeneratorFunction",l(h,r,"GeneratorFunction"),l(f),l(f,r,"Generator"),l(f,n,function(){return this}),l(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:a,m:p}})()}function l(t,e,i,n){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}l=function(t,e,i,n){function a(e,i){l(t,e,function(t){return this._invoke(e,i,t)})}e?r?r(t,e,{value:i,enumerable:!n,configurable:!n,writable:!n}):t[e]=i:(a("next",0),a("throw",1),a("return",2))},l(t,e,i,n)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,s,o=[],l=!0,c=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,i){if(e){if("string"==typeof e)return t(e,i);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,i):void 0}}function h(){}var u,f=t=>t;function p(t){return t()}function g(){return Object.create(null)}function v(t){t.forEach(p)}function m(t){return"function"==typeof t}function b(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function x(t,e){return t===e||(u||(u=document.createElement("a")),u.href=e,t===u.href)}function _(t,e,i){t.$$.on_destroy.push(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];if(null==t){var a,s=n(i);try{for(s.s();!(a=s.n()).done;)(0,a.value)(void 0)}catch(t){s.e(t)}finally{s.f()}return h}var o=t.subscribe(...i);return o.unsubscribe?()=>o.unsubscribe():o}(e,i))}function y(t,e,i,n){if(t){var r=w(t,e,i,n);return t[0](r)}}function w(t,e,i,n){return t[1]&&n?function(t,e){for(var i in e)t[i]=e[i];return t}(i.ctx.slice(),t[1](n(e))):i.ctx}function $(t,e,i,n){if(t[2]&&n){var r=t[2](n(i));if(void 0===e.dirty)return r;if("object"==typeof r){for(var a=[],s=Math.max(e.dirty.length,r.length),o=0;o<s;o+=1)a[o]=e.dirty[o]|r[o];return a}return e.dirty|r}return e.dirty}function k(t,e,i,n,r,a){if(r){var s=w(e,i,n,a);t.p(s,r)}}function M(t){if(t.ctx.length>32){for(var e=[],i=t.ctx.length/32,n=0;n<i;n++)e[n]=-1;return e}return-1}function C(t){return t&&m(t.destroy)?t.destroy:h}var S="undefined"!=typeof window,T=S?()=>window.performance.now():()=>Date.now(),P=S?t=>requestAnimationFrame(t):h,D=new Set;function z(t){D.forEach(e=>{e.c(t)||(D.delete(e),e.f())}),0!==D.size&&P(z)}function O(t){var e;return 0===D.size&&P(z),{promise:new Promise(i=>{D.add(e={c:t,f:i})}),abort(){D.delete(e)}}}var A="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function L(t,e){t.appendChild(e)}function j(t,e,i){var n=E(t);if(!n.getElementById(e)){var r=V("style");r.id=e,r.textContent=i,R(n,r)}}function E(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function I(t){var e=V("style");return e.textContent="/* empty */",R(E(t),e),e.sheet}function R(t,e){return L(t.head||t,e),e.sheet}function F(t,e,i){t.insertBefore(e,i||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function N(t,e){for(var i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function V(t){return document.createElement(t)}function W(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function q(){return B(" ")}function Y(){return B("")}function U(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function X(t){return function(e){return e.preventDefault(),t.call(this,e)}}function K(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function G(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function J(t){var e;return{p(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];(e=n).forEach(e=>t.push(e))},r(){e.forEach(e=>t.splice(t.indexOf(e),1))}}}function Z(t,e){e=""+e,t.data!==e&&(t.data=e)}function Q(t,e){t.value=null==e?"":e}function tt(t,e,i,n){null==i?t.style.removeProperty(e):t.style.setProperty(e,i,"")}function et(t,e,i){t.classList.toggle(e,!!i)}function it(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.bubbles,r=void 0!==n&&n,a=i.cancelable;return new CustomEvent(t,{detail:e,bubbles:r,cancelable:void 0!==a&&a})}var nt,rt=new Map,at=0;function st(t,e,i,n,r,a,s){for(var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=16.666/n,c="{\n",d=0;d<=1;d+=l){var h=e+(i-e)*a(d);c+=100*d+"%{".concat(s(h,1-h),"}\n")}var u=c+"100% {".concat(s(i,1-i),"}\n}"),f="__svelte_".concat(function(t){for(var e=5381,i=t.length;i--;)e=(e<<5)-e^t.charCodeAt(i);return e>>>0}(u),"_").concat(o),p=E(t),g=rt.get(p)||function(t,e){var i={stylesheet:I(e),rules:{}};return rt.set(t,i),i}(p,t),v=g.stylesheet,m=g.rules;m[f]||(m[f]=!0,v.insertRule("@keyframes ".concat(f," ").concat(u),v.cssRules.length));var b=t.style.animation||"";return t.style.animation="".concat(b?"".concat(b,", "):"").concat(f," ").concat(n,"ms linear ").concat(r,"ms 1 both"),at+=1,f}function ot(t,e){var i=(t.style.animation||"").split(", "),n=i.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=i.length-n.length;r&&(t.style.animation=n.join(", "),(at-=r)||P(()=>{at||(rt.forEach(t=>{var e=t.stylesheet.ownerNode;e&&H(e)}),rt.clear())}))}function lt(t){var e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){var i=e.width,n=e.height,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=i,t.style.height=n,function(t,e){var i=t.getBoundingClientRect();if(e.left!==i.left||e.top!==i.top){var n=getComputedStyle(t),r="none"===n.transform?"":n.transform;t.style.transform="".concat(r," translate(").concat(e.left-i.left,"px, ").concat(e.top-i.top,"px)")}}(t,r)}}function ct(t){nt=t}function dt(){if(!nt)throw new Error("Function called outside component initialization");return nt}function ht(t){dt().$$.on_mount.push(t)}function ut(){var t=dt();return function(e,i){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).cancelable,r=void 0!==n&&n,a=t.$$.callbacks[e];if(a){var s=it(e,i,{cancelable:r});return a.slice().forEach(e=>{e.call(t,s)}),!s.defaultPrevented}return!0}}function ft(t,e){var i=t.$$.callbacks[e.type];i&&i.slice().forEach(t=>t.call(this,e))}var pt=[],gt=[],vt=[],mt=[],bt=Promise.resolve(),xt=!1;function _t(){xt||(xt=!0,bt.then(Ct))}function yt(){return _t(),bt}function wt(t){vt.push(t)}var $t,kt=new Set,Mt=0;function Ct(){if(0===Mt){var t=nt;do{try{for(;Mt<pt.length;){var e=pt[Mt];Mt++,ct(e),St(e.$$)}}catch(t){throw pt.length=0,Mt=0,t}for(ct(null),pt.length=0,Mt=0;gt.length;)gt.pop()();for(var i=0;i<vt.length;i+=1){var n=vt[i];kt.has(n)||(kt.add(n),n())}vt.length=0}while(pt.length);for(;mt.length;)mt.pop()();xt=!1,kt.clear(),ct(t)}}function St(t){if(null!==t.fragment){t.update(),v(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(wt)}}function Tt(t,e,i){t.dispatchEvent(it("".concat(e?"intro":"outro").concat(i)))}var Pt,Dt=new Set;function zt(){Pt={r:0,c:[],p:Pt}}function Ot(){Pt.r||v(Pt.c),Pt=Pt.p}function At(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function Lt(t,e,i,n){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),Pt.c.push(()=>{Dt.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}var jt={duration:0};function Et(t,e,i,n){var r,a=e(t,i,{direction:"both"}),s=n?0:1,o=null,l=null,c=null;function d(){c&&ot(t,c)}function u(t,e){var i=t.b-s;return e*=Math.abs(i),{a:s,b:t.b,d:i,duration:e,start:t.start,end:t.start+e,group:t.group}}function p(e){var i=a||jt,n=i.delay,p=void 0===n?0:n,g=i.duration,m=void 0===g?300:g,b=i.easing,x=void 0===b?f:b,_=i.tick,y=void 0===_?h:_,w=i.css,$={start:T()+p,b:e};e||($.group=Pt,Pt.r+=1),"inert"in t&&(e?void 0!==r&&(t.inert=r):(r=t.inert,t.inert=!0)),o||l?l=$:(w&&(d(),c=st(t,s,e,m,p,x,w)),e&&y(0,1),o=u($,m),wt(()=>Tt(t,e,"start")),O(e=>{if(l&&e>l.start&&(o=u(l,m),l=null,Tt(t,o.b,"start"),w&&(d(),c=st(t,s,o.b,o.duration,0,x,a.css))),o)if(e>=o.end)y(s=o.b,1-s),Tt(t,o.b,"end"),l||(o.b?d():--o.group.r||v(o.group.c)),o=null;else if(e>=o.start){var i=e-o.start;s=o.a+o.d*x(i/o.duration),y(s,1-s)}return!(!o&&!l)}))}return{run(t){m(a)?($t||($t=Promise.resolve()).then(()=>{$t=null}),$t).then(()=>{a=a({direction:t?"in":"out"}),p(t)}):p(t)},end(){d(),o=l=null}}}function It(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function Rt(t,e){t.d(1),e.delete(t.key)}function Ft(t,e){t.f(),function(t,e){Lt(t,1,1,()=>{e.delete(t.key)})}(t,e)}function Ht(t,e,i,n,r,a,s,o,l,c,d,h){for(var u=t.length,f=a.length,p=u,g={};p--;)g[t[p].key]=p;var m=[],b=new Map,x=new Map,_=[];p=f;for(var y=function(){var t=h(r,a,p),n=i(t),o=s.get(n);o?_.push(()=>o.p(t,e)):(o=c(n,t)).c(),b.set(n,m[p]=o),n in g&&x.set(n,Math.abs(p-g[n]))};p--;)y();var w=new Set,$=new Set;function k(t){At(t,1),t.m(o,d),s.set(t.key,t),d=t.first,f--}for(;u&&f;){var M=m[f-1],C=t[u-1],S=M.key,T=C.key;M===C?(d=M.first,u--,f--):b.has(T)?!s.has(S)||w.has(S)?k(M):$.has(T)?u--:x.get(S)>x.get(T)?($.add(S),k(M)):(w.add(T),u--):(l(C,s),u--)}for(;u--;){var P=t[u];b.has(P.key)||l(P,s)}for(;f;)k(m[f-1]);return v(_),m}function Nt(t){t&&t.c()}function Vt(t,e,i){var n=t.$$,r=n.fragment,a=n.after_update;r&&r.m(e,i),wt(()=>{var e=t.$$.on_mount.map(p).filter(m);t.$$.on_destroy?t.$$.on_destroy.push(...e):v(e),t.$$.on_mount=[]}),a.forEach(wt)}function Wt(t,e){var i,n,r,a=t.$$;null!==a.fragment&&(i=a.after_update,n=[],r=[],vt.forEach(t=>-1===i.indexOf(t)?n.push(t):r.push(t)),r.forEach(t=>t()),vt=n,v(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function Bt(t,e,i,n,r,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],l=nt;ct(t);var c=t.$$={fragment:null,ctx:[],props:a,update:h,not_equal:r,bound:g(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:g(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);var d=!1;if(c.ctx=i?i(t,e.props||{},function(e,i){var n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:i;return c.ctx&&r(c.ctx[e],c.ctx[e]=n)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](n),d&&function(t,e){-1===t.$$.dirty[0]&&(pt.push(t),_t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),i}):[],c.update(),d=!0,v(c.before_update),c.fragment=!!n&&n(c.ctx),e.target){if(e.hydrate){var u=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(u),u.forEach(H)}else c.fragment&&c.fragment.c();e.intro&&At(t.$$.fragment),Vt(t,e.target,e.anchor),Ct()}ct(l)}class qt{constructor(){r(this,"$$",void 0),r(this,"$$set",void 0)}$destroy(){Wt(this,1),this.$destroy=h}$on(t,e){if(!m(e))return h;var i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{var t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Yt={id:"",name:"",size:0,bandwidth_used:0,bandwidth_used_paid:0,downloads:0,views:0,mime_type:"",availability:"",abuse_type:"",hash_sha256:"",show_ads:!1,can_edit:!1,can_download:!1,get_href:"",info_href:"",download_href:"",icon_href:""},Ut={id:"",title:"",files:[],download_href:"",info_href:"",can_edit:!1},Xt=t=>{t.get_href=window.api_endpoint+"/file/"+t.id,t.info_href=window.api_endpoint+"/file/"+t.id+"/info",t.download_href=window.api_endpoint+"/file/"+t.id+"?download",t.icon_href=window.api_endpoint+"/file/"+t.id+"/thumbnail",t.timeseries_href=window.api_endpoint+"/file/"+t.id+"/timeseries"},Kt=t=>"application/bittorrent"===t.mime_type||"application/x-bittorrent"===t.mime_type?"torrent":"application/zip"===t.mime_type||"application/x-7z-compressed"===t.mime_type||"application/x-tar"===t.mime_type||"application/gzip"===t.mime_type&&t.name.endsWith(".tar.gz")||"application/x-xz"===t.mime_type&&t.name.endsWith(".tar.xz")||"application/zstd"===t.mime_type&&t.name.endsWith(".tar.zst")?"zip":t.mime_type.startsWith("image")?"image":t.mime_type.startsWith("video")&&"video/x-matroska"!==t.mime_type?"video":t.mime_type.startsWith("audio")||"application/ogg"===t.mime_type||t.name.endsWith(".mp3")?"audio":"application/pdf"===t.mime_type||"application/x-pdf"===t.mime_type?"pdf":"application/json"===t.mime_type||"application/x-shellscript"===t.mime_type||t.mime_type.startsWith("text")?"text":"file";function Gt(t){var e=t-1;return e*e*e+1}function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.delay,n=void 0===i?0:i,r=e.duration,a=void 0===r?400:r,s=e.easing,o=void 0===s?f:s,l=+getComputedStyle(t).opacity;return{delay:n,duration:a,easing:o,css:t=>"opacity: ".concat(t*l)}}function Zt(t){j(t,"svelte-1ef47mx",".button.svelte-1ef47mx{flex:0 0 content}.flat.svelte-1ef47mx{background:none;color:var(--body_text_color);box-shadow:none}")}function Qt(t){var e,i,n=""!==t[5]&&ee(t),r=""!==t[7]&&ie(t);return{c(){e=V("a"),n&&n.c(),i=q(),r&&r.c(),G(e,"href",t[9]),G(e,"target",t[10]),G(e,"class","button svelte-1ef47mx"),G(e,"title",t[8]),G(e,"style",t[11]),et(e,"button_highlight",t[0]),et(e,"button_red",t[1]),et(e,"round",t[2]),et(e,"flat",t[3])},m(t,a){F(t,e,a),n&&n.m(e,null),L(e,i),r&&r.m(e,null)},p(t,a){""!==t[5]?n?n.p(t,a):((n=ee(t)).c(),n.m(e,i)):n&&(n.d(1),n=null),""!==t[7]?r?r.p(t,a):((r=ie(t)).c(),r.m(e,null)):r&&(r.d(1),r=null),512&a&&G(e,"href",t[9]),1024&a&&G(e,"target",t[10]),256&a&&G(e,"title",t[8]),2048&a&&G(e,"style",t[11]),1&a&&et(e,"button_highlight",t[0]),2&a&&et(e,"button_red",t[1]),4&a&&et(e,"round",t[2]),8&a&&et(e,"flat",t[3])},d(t){t&&H(e),n&&n.d(),r&&r.d()}}}function te(t){var e,i,n,r,a,s=""!==t[5]&&ne(t),o=""!==t[7]&&re(t);return{c(){e=V("button"),s&&s.c(),i=q(),o&&o.c(),G(e,"class","button svelte-1ef47mx"),G(e,"title",t[8]),G(e,"style",t[11]),G(e,"type",t[12]),G(e,"form",t[13]),e.disabled=n=!!t[4]||null,et(e,"button_highlight",t[0]),et(e,"button_red",t[1]),et(e,"round",t[2]),et(e,"flat",t[3])},m(n,l){F(n,e,l),s&&s.m(e,null),L(e,i),o&&o.m(e,null),r||(a=U(e,"click",t[14]),r=!0)},p(t,r){""!==t[5]?s?s.p(t,r):((s=ne(t)).c(),s.m(e,i)):s&&(s.d(1),s=null),""!==t[7]?o?o.p(t,r):((o=re(t)).c(),o.m(e,null)):o&&(o.d(1),o=null),256&r&&G(e,"title",t[8]),2048&r&&G(e,"style",t[11]),4096&r&&G(e,"type",t[12]),8192&r&&G(e,"form",t[13]),16&r&&n!==(n=!!t[4]||null)&&(e.disabled=n),1&r&&et(e,"button_highlight",t[0]),2&r&&et(e,"button_red",t[1]),4&r&&et(e,"round",t[2]),8&r&&et(e,"flat",t[3])},d(t){t&&H(e),s&&s.d(),o&&o.d(),r=!1,a()}}}function ee(t){var e,i;return{c(){e=V("i"),i=B(t[5]),G(e,"class","icon"),et(e,"small",t[6])},m(t,n){F(t,e,n),L(e,i)},p(t,n){32&n&&Z(i,t[5]),64&n&&et(e,"small",t[6])},d(t){t&&H(e)}}}function ie(t){var e,i;return{c(){e=V("span"),i=B(t[7])},m(t,n){F(t,e,n),L(e,i)},p(t,e){128&e&&Z(i,t[7])},d(t){t&&H(e)}}}function ne(t){var e,i;return{c(){e=V("i"),i=B(t[5]),G(e,"class","icon"),et(e,"small",t[6])},m(t,n){F(t,e,n),L(e,i)},p(t,n){32&n&&Z(i,t[5]),64&n&&et(e,"small",t[6])},d(t){t&&H(e)}}}function re(t){var e,i;return{c(){e=V("span"),i=B(t[7])},m(t,n){F(t,e,n),L(e,i)},p(t,e){128&e&&Z(i,t[7])},d(t){t&&H(e)}}}function ae(t){var e;function i(t,e){return""===t[9]?te:Qt}var n=i(t),r=n(t);return{c(){r.c(),e=Y()},m(t,i){r.m(t,i),F(t,e,i)},p(t,a){var s=c(a,1)[0];n===(n=i(t))&&r?r.p(t,s):(r.d(1),(r=n(t))&&(r.c(),r.m(e.parentNode,e)))},i:h,o:h,d(t){t&&H(e),r.d(t)}}}function se(t,e,i){var n=e.highlight,r=void 0!==n&&n,a=e.highlight_on_click,s=void 0!==a&&a,o=e.red,l=void 0!==o&&o,c=e.round,d=void 0!==c&&c,h=e.flat,u=void 0!==h&&h,f=e.disabled,p=void 0!==f&&f,g=e.icon,v=void 0===g?"":g,m=e.icon_small,b=void 0!==m&&m,x=e.label,_=void 0===x?"":x,y=e.title,w=void 0===y?null:y,$=e.link_href,k=void 0===$?"":$,M=e.link_target,C=void 0===M?"_self":M,S=e.click,T=void 0===S?null:S,P=e.style,D=void 0===P?null:P,z=e.type,O=void 0===z?null:z,A=e.form,L=void 0===A?null:A;return t.$$set=t=>{"highlight"in t&&i(0,r=t.highlight),"highlight_on_click"in t&&i(15,s=t.highlight_on_click),"red"in t&&i(1,l=t.red),"round"in t&&i(2,d=t.round),"flat"in t&&i(3,u=t.flat),"disabled"in t&&i(4,p=t.disabled),"icon"in t&&i(5,v=t.icon),"icon_small"in t&&i(6,b=t.icon_small),"label"in t&&i(7,_=t.label),"title"in t&&i(8,w=t.title),"link_href"in t&&i(9,k=t.link_href),"link_target"in t&&i(10,C=t.link_target),"click"in t&&i(16,T=t.click),"style"in t&&i(11,D=t.style),"type"in t&&i(12,O=t.type),"form"in t&&i(13,L=t.form)},[r,l,d,u,p,v,b,_,w,k,C,D,O,L,t=>{if(s)try{T(t),i(0,r=!0)}catch(t){throw i(1,l=!0),t}else null!==T&&T(t)},s,T]}class oe extends qt{constructor(t){super(),Bt(this,t,se,ae,b,{highlight:0,highlight_on_click:15,red:1,round:2,flat:3,disabled:4,icon:5,icon_small:6,label:7,title:8,link_href:9,link_target:10,click:16,style:11,type:12,form:13},Zt)}}function le(t){j(t,"svelte-1f8gt9n",".background.svelte-1f8gt9n{position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, 0.7)}.top_padding.svelte-1f8gt9n{flex:1 1 25%}.bottom_padding.svelte-1f8gt9n{flex:1 1 75%}.window.svelte-1f8gt9n{position:relative;z-index:inherit;flex:0 0 auto;display:flex;flex-direction:column;background:var(--body_color);max-height:100%;max-width:100%;padding:0;border-radius:18px 18px 8px 8px;overflow:hidden;text-align:left}.header.svelte-1f8gt9n{flex-grow:0;flex-shrink:0;display:flex;flex-direction:row;padding:1px;background:var(--background_color);color:var(--background_text_color);align-items:center}.title.svelte-1f8gt9n{flex-grow:1;flex-shrink:1;font-size:1.1em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;text-align:center}.body.svelte-1f8gt9n{flex-grow:1;flex-shrink:1;overflow:auto}.padding.svelte-1f8gt9n{padding:10px}")}var ce=t=>({}),de=t=>({});function he(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p=t[15].title,g=y(p,t,t[14],de),m=g||function(t){var e,i,n,r,a=[fe,ue],s=[];function o(t,e){return""!==t[1]?0:1}return e=o(t),i=s[e]=a[e](t),{c(){i.c(),n=Y()},m(t,i){s[e].m(t,i),F(t,n,i),r=!0},p(t,r){var l=e;(e=o(t))===l?s[e].p(t,r):(zt(),Lt(s[l],1,1,()=>{s[l]=null}),Ot(),(i=s[e])?i.p(t,r):(i=s[e]=a[e](t)).c(),At(i,1),i.m(n.parentNode,n))},i(t){r||(At(i),r=!0)},o(t){Lt(i),r=!1},d(t){t&&H(n),s[e].d(t)}}}(t),b=t[15].default,x=y(b,t,t[14],null);return{c(){e=V("div"),i=V("div"),n=q(),r=V("div"),a=V("div"),m&&m.c(),s=q(),o=V("div"),x&&x.c(),l=q(),c=V("div"),G(i,"class","top_padding svelte-1f8gt9n"),G(a,"class","header svelte-1f8gt9n"),G(o,"class","body svelte-1f8gt9n"),et(o,"padding",t[5]),G(r,"class","window svelte-1f8gt9n"),G(r,"role","dialog"),G(r,"aria-modal","true"),tt(r,"width",t[3]),tt(r,"height",t[4]),G(c,"class","bottom_padding svelte-1f8gt9n"),G(e,"class","background svelte-1f8gt9n"),G(e,"style",t[6]),G(e,"role","dialog")},m(d,p){F(d,e,p),L(e,i),L(e,n),L(e,r),L(r,a),m&&m.m(a,null),L(r,s),L(r,o),x&&x.m(o,null),L(e,l),L(e,c),h=!0,u||(f=[U(r,"click",K(t[16])),U(r,"keydown",t[9]),C(t[8].call(null,e)),U(e,"click",t[7]),U(e,"keydown",t[9])],u=!0)},p(t,i){g?g.p&&(!h||16384&i)&&k(g,p,t,t[14],h?$(p,t[14],i,ce):M(t[14]),de):m&&m.p&&(!h||6&i)&&m.p(t,h?i:-1),x&&x.p&&(!h||16384&i)&&k(x,b,t,t[14],h?$(b,t[14],i,null):M(t[14]),null),(!h||32&i)&&et(o,"padding",t[5]),(!h||8&i)&&tt(r,"width",t[3]),(!h||16&i)&&tt(r,"height",t[4]),(!h||64&i)&&G(e,"style",t[6])},i(t){h||(At(m,t),At(x,t),t&&wt(()=>{h&&(d||(d=Et(e,Jt,{duration:200},!0)),d.run(1))}),h=!0)},o(t){Lt(m,t),Lt(x,t),t&&(d||(d=Et(e,Jt,{duration:200},!1)),d.run(0)),h=!1},d(t){t&&H(e),m&&m.d(t),x&&x.d(t),t&&d&&d.end(),u=!1,v(f)}}}function ue(t){var e,i,n,r,a;return r=new oe({props:{round:!0,click:t[7],icon:"close"}}),{c(){e=V("span"),i=B(t[2]),n=q(),Nt(r.$$.fragment),G(e,"class","title svelte-1f8gt9n")},m(t,s){F(t,e,s),L(e,i),F(t,n,s),Vt(r,t,s),a=!0},p(t,e){(!a||4&e)&&Z(i,t[2])},i(t){a||(At(r.$$.fragment,t),a=!0)},o(t){Lt(r.$$.fragment,t),a=!1},d(t){t&&(H(e),H(n)),Wt(r,t)}}}function fe(t){var e,i,n,r,a,s,o;return e=new oe({props:{round:!0,click:t[7],icon:"close"}}),s=new oe({props:{round:!0,highlight:!0,type:"submit",form:t[1],click:t[7],icon:"save",label:"Save"}}),{c(){Nt(e.$$.fragment),i=q(),n=V("span"),r=B(t[2]),a=q(),Nt(s.$$.fragment),G(n,"class","title svelte-1f8gt9n")},m(t,l){Vt(e,t,l),F(t,i,l),F(t,n,l),L(n,r),F(t,a,l),Vt(s,t,l),o=!0},p(t,e){(!o||4&e)&&Z(r,t[2]);var i={};2&e&&(i.form=t[1]),s.$set(i)},i(t){o||(At(e.$$.fragment,t),At(s.$$.fragment,t),o=!0)},o(t){Lt(e.$$.fragment,t),Lt(s.$$.fragment,t),o=!1},d(t){t&&(H(i),H(n),H(a)),Wt(e,t),Wt(s,t)}}}function pe(t){var e,i,n,r,a=t[0]&&he(t);return{c(){a&&a.c(),e=Y()},m(s,o){a&&a.m(s,o),F(s,e,o),i=!0,n||(r=U(window,"keydown",t[9]),n=!0)},p(t,i){var n=c(i,1)[0];t[0]?a?(a.p(t,n),1&n&&At(a,1)):((a=he(t)).c(),At(a,1),a.m(e.parentNode,e)):a&&(zt(),Lt(a,1,1,()=>{a=null}),Ot())},i(t){i||(At(a),i=!0)},o(t){Lt(a),i=!1},d(t){t&&H(e),a&&a.d(t),n=!1,r()}}}var ge=1e4;function ve(t,e,i){var n=e.$$slots,r=void 0===n?{}:n,a=e.$$scope,s=e.form,o=void 0===s?"":s,l=e.title,c=void 0===l?"":l,d=e.width,h=void 0===d?"800px":d,u=e.height,f=void 0===u?"auto":u,p=e.padding,g=void 0!==p&&p,v=e.visible,m=void 0!==v&&v,b=e.style,x=void 0===b?"":b,_=ut(),y=t=>{i(0,m=t),_("is_visible",m)};return t.$$set=t=>{"form"in t&&i(1,o=t.form),"title"in t&&i(2,c=t.title),"width"in t&&i(3,h=t.width),"height"in t&&i(4,f=t.height),"padding"in t&&i(5,g=t.padding),"visible"in t&&i(0,m=t.visible),"style"in t&&i(6,x=t.style),"$$scope"in t&&i(14,a=t.$$scope)},[m,o,c,h,f,g,x,()=>{y(!1)},t=>{t.style.zIndex=ge.valueOf(),ge++},t=>{if(!document.activeElement.type||"text"!==document.activeElement.type)return"Escape"===t.key&&m?(y(!1),t.preventDefault(),void t.stopPropagation()):void 0},()=>{y(!0)},()=>{y(!m)},()=>m,y,a,r,function(e){ft.call(this,t,e)}]}class me extends qt{constructor(t){super(),Bt(this,t,ve,pe,b,{form:1,title:2,width:3,height:4,padding:5,visible:0,style:6,show:10,hide:7,toggle:11,is_visible:12,set_visible:13},le)}get show(){return this.$$.ctx[10]}get hide(){return this.$$.ctx[7]}get toggle(){return this.$$.ctx[11]}get is_visible(){return this.$$.ctx[12]}get set_visible(){return this.$$.ctx[13]}}var be=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),xe=(t,e)=>(e<3&&(e=3),t>=999e15?(t/1e18).toPrecision(e)+" EB":t>=999e12?(t/1e15).toPrecision(e)+" PB":t>=999e9?(t/1e12).toPrecision(e)+" TB":t>=999e6?(t/1e9).toPrecision(e)+" GB":t>=999e3?(t/1e6).toPrecision(e)+" MB":t>=999?(t/1e3).toPrecision(e)+" kB":t.toPrecision(e)+" B"),_e=6e4,ye=36e5,we=24*ye,$e=(t,e)=>{var i="";return t>=we&&(i+=Math.floor(t/we)+"d "),t>=ye&&(i+=Math.floor(t%we/ye)+"h "),t>=_e&&(i+=Math.floor(t%ye/_e)+"m "),i+(t%_e/1e3).toFixed(e)+"s"},ke=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t instanceof Date||(t=new Date(t));var r=t.getFullYear()+"-"+("00"+(t.getMonth()+1)).slice(-2)+"-"+("00"+t.getDate()).slice(-2);return e&&(r+=" "+("00"+t.getHours()).slice(-2)),i&&(r+=":"+("00"+t.getMinutes()).slice(-2)),n&&(r+=":"+("00"+t.getSeconds()).slice(-2)),r};function Me(){var t=window.location.protocol+"//"+window.location.hostname;return""!=window.location.port&&(t=t+":"+window.location.port),t}var Ce=t=>getComputedStyle(document.documentElement).getPropertyValue("--"+t);
/*!
   * @kurkle/color v0.3.4
   * https://github.com/kurkle/color#readme
   * (c) 2024 Jukka Kurkela
   * Released under the MIT License
   */function Se(t){return t+.5|0}var Te=(t,e,i)=>Math.max(Math.min(t,i),e);function Pe(t){return Te(Se(2.55*t),0,255)}function De(t){return Te(Se(255*t),0,255)}function ze(t){return Te(Se(t/2.55)/100,0,1)}function Oe(t){return Te(Se(100*t),0,100)}var Ae={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Le=[..."0123456789ABCDEF"],je=t=>Le[15&t],Ee=t=>Le[(240&t)>>4]+Le[15&t],Ie=t=>(240&t)>>4==(15&t);function Re(t){var e=(t=>Ie(t.r)&&Ie(t.g)&&Ie(t.b)&&Ie(t.a))(t)?je:Ee;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}var Fe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function He(t,e,i){var n=e*Math.min(i,1-i),r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return i-n*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Ne(t,e,i){var n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+t/60)%6;return i-i*e*Math.max(Math.min(r,4-r,1),0)};return[n(5),n(3),n(1)]}function Ve(t,e,i){var n,r=He(t,1,.5);for(e+i>1&&(e*=n=1/(e+i),i*=n),n=0;n<3;n++)r[n]*=1-e-i,r[n]+=e;return r}function We(t){var e,i,n,r=t.r/255,a=t.g/255,s=t.b/255,o=Math.max(r,a,s),l=Math.min(r,a,s),c=(o+l)/2;return o!==l&&(n=o-l,i=c>.5?n/(2-o-l):n/(o+l),e=function(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}(r,a,s,n,o),e=60*e+.5),[0|e,i||0,c]}function Be(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(De)}function qe(t,e,i){return Be(He,t,e,i)}function Ye(t){return(t%360+360)%360}function Ue(t){var e,i=Fe.exec(t),n=255;if(i){i[5]!==e&&(n=i[6]?Pe(+i[5]):De(+i[5]));var r=Ye(+i[2]),a=+i[3]/100,s=+i[4]/100;return{r:(e="hwb"===i[1]?function(t,e,i){return Be(Ve,t,e,i)}(r,a,s):"hsv"===i[1]?function(t,e,i){return Be(Ne,t,e,i)}(r,a,s):qe(r,a,s))[0],g:e[1],b:e[2],a:n}}}var Xe,Ke={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ge={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Je(t){Xe||((Xe=function(){var t,e,i,n,r,a={},s=Object.keys(Ge),o=Object.keys(Ke);for(t=0;t<s.length;t++){for(n=r=s[t],e=0;e<o.length;e++)i=o[e],r=r.replace(i,Ke[i]);i=parseInt(Ge[n],16),a[r]=[i>>16&255,i>>8&255,255&i]}return a}()).transparent=[0,0,0,0]);var e=Xe[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}var Ze=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var Qe=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,ti=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ei(t,e,i){if(t){var n=We(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=qe(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function ii(t,e){return t?Object.assign(e||{},t):t}function ni(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=De(t[3]))):(e=ii(t,{r:0,g:0,b:0,a:1})).a=De(e.a),e}function ri(t){return"r"===t.charAt(0)?function(t){var e,i,n,r=Ze.exec(t),a=255;if(r){if(r[7]!==e){var s=+r[7];a=r[8]?Pe(s):Te(255*s,0,255)}return e=+r[1],i=+r[3],n=+r[5],{r:e=255&(r[2]?Pe(e):Te(e,0,255)),g:i=255&(r[4]?Pe(i):Te(i,0,255)),b:n=255&(r[6]?Pe(n):Te(n,0,255)),a:a}}}(t):Ue(t)}class ai{constructor(t){if(t instanceof ai)return t;var e,i,n,r,a=typeof t;"object"===a?e=ni(t):"string"===a&&(r=(i=t).length,"#"===i[0]&&(4===r||5===r?n={r:255&17*Ae[i[1]],g:255&17*Ae[i[2]],b:255&17*Ae[i[3]],a:5===r?17*Ae[i[4]]:255}:7!==r&&9!==r||(n={r:Ae[i[1]]<<4|Ae[i[2]],g:Ae[i[3]]<<4|Ae[i[4]],b:Ae[i[5]]<<4|Ae[i[6]],a:9===r?Ae[i[7]]<<4|Ae[i[8]]:255})),e=n||Je(t)||ri(t)),this._rgb=e,this._valid=!!e}get valid(){return this._valid}get rgb(){var t=ii(this._rgb);return t&&(t.a=ze(t.a)),t}set rgb(t){this._rgb=ni(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(ze(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?Re(this._rgb):void 0}hslString(){return this._valid?function(t){if(t){var e=We(t),i=e[0],n=Oe(e[1]),r=Oe(e[2]);return t.a<255?"hsla(".concat(i,", ").concat(n,"%, ").concat(r,"%, ").concat(ze(t.a),")"):"hsl(".concat(i,", ").concat(n,"%, ").concat(r,"%)")}}(this._rgb):void 0}mix(t,e){if(t){var i,n=this.rgb,r=t.rgb,a=e===i?.5:e,s=2*a-1,o=n.a-r.a,l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){var n=ti(ze(t.r)),r=ti(ze(t.g)),a=ti(ze(t.b));return{r:De(Qe(n+i*(ti(ze(e.r))-n))),g:De(Qe(r+i*(ti(ze(e.g))-r))),b:De(Qe(a+i*(ti(ze(e.b))-a))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new ai(this.rgb)}alpha(t){return this._rgb.a=De(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){var t=this._rgb,e=Se(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ei(this._rgb,2,t),this}darken(t){return ei(this._rgb,2,-t),this}saturate(t){return ei(this._rgb,1,t),this}desaturate(t){return ei(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=We(t);i[0]=Ye(i[0]+e),i=qe(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function si(){}var oi,li=(oi=0,()=>oi++);function ci(t){return null==t}function di(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function hi(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function ui(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function fi(t,e){return ui(t)?t:e}function pi(t,e){return void 0===t?e:t}var gi=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vi(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function mi(t,e,i,n){var r,a,s;if(di(t))for(a=t.length,r=0;r<a;r++)e.call(i,t[r],r);else if(hi(t))for(a=(s=Object.keys(t)).length,r=0;r<a;r++)e.call(i,t[s[r]],s[r])}function bi(t,e){var i,n,r,a;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],a=e[i],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function xi(t){if(di(t))return t.map(xi);if(hi(t)){for(var e=Object.create(null),i=Object.keys(t),n=i.length,r=0;r<n;++r)e[i[r]]=xi(t[i[r]]);return e}return t}function _i(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function yi(t,e,i,n){if(_i(t)){var r=e[t],a=i[t];hi(r)&&hi(a)?wi(r,a,n):e[t]=xi(a)}}function wi(t,e,i){var n=di(e)?e:[e],r=n.length;if(!hi(t))return t;for(var a,s=(i=i||{}).merger||yi,o=0;o<r;++o)if(hi(a=n[o]))for(var l=Object.keys(a),c=0,d=l.length;c<d;++c)s(l[c],t,a,i);return t}function $i(t,e){return wi(t,e,{merger:ki})}function ki(t,e,i){if(_i(t)){var n=e[t],r=i[t];hi(n)&&hi(r)?$i(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xi(r))}}var Mi={"":t=>t,x:t=>t.x,y:t=>t.y};function Ci(t){var e=function(t){var e,i=[],r="",a=n(t.split("."));try{for(a.s();!(e=a.n()).done;)(r+=e.value).endsWith("\\")?r=r.slice(0,-1)+".":(i.push(r),r="")}catch(t){a.e(t)}finally{a.f()}return i}(t);return t=>{var i,r=n(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(""===a)break;t=t&&t[a]}}catch(t){r.e(t)}finally{r.f()}return t}}function Si(t,e){return(Mi[e]||(Mi[e]=Ci(e)))(t)}function Ti(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Pi=t=>void 0!==t,Di=t=>"function"==typeof t,zi=(t,e)=>{if(t.size!==e.size)return!1;var i,r=n(t);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(!e.has(a))return!1}}catch(t){r.e(t)}finally{r.f()}return!0};var Oi=Math.PI,Ai=2*Oi,Li=Ai+Oi,ji=Number.POSITIVE_INFINITY,Ei=Oi/180,Ii=Oi/2,Ri=Oi/4,Fi=2*Oi/3,Hi=Math.log10,Ni=Math.sign;function Vi(t,e,i){return Math.abs(t-e)<i}function Wi(t){var e=Math.round(t);t=Vi(t,e,t/1e3)?e:t;var i=Math.pow(10,Math.floor(Hi(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function Bi(t){return!function(t){return"symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function qi(t,e,i){var n,r,a;for(n=0,r=t.length;n<r;n++)a=t[n][i],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Yi(t){return t*(Oi/180)}function Ui(t){return t*(180/Oi)}function Xi(t){if(ui(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}}function Ki(t,e){var i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),a=Math.atan2(n,i);return a<-.5*Oi&&(a+=Ai),{angle:a,distance:r}}function Gi(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ji(t,e){return(t-e+Li)%Ai-Oi}function Zi(t){return(t%Ai+Ai)%Ai}function Qi(t,e,i,n){var r=Zi(t),a=Zi(e),s=Zi(i),o=Zi(a-r),l=Zi(s-r),c=Zi(r-a),d=Zi(r-s);return r===a||r===s||n&&a===s||o>l&&c<d}function tn(t,e,i){return Math.max(e,Math.min(i,t))}function en(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function nn(t,e,i){i=i||(i=>t[i]<e);for(var n,r=t.length-1,a=0;r-a>1;)i(n=a+r>>1)?a=n:r=n;return{lo:a,hi:r}}var rn=(t,e,i,n)=>nn(t,i,n?n=>{var r=t[n][e];return r<i||r===i&&t[n+1][e]===i}:n=>t[n][e]<i),an=(t,e,i)=>nn(t,i,n=>t[n][e]>=i);var sn=["push","pop","shift","splice","unshift"];function on(t,e){var i=t._chartjs;if(i){var n=i.listeners,r=n.indexOf(e);-1!==r&&n.splice(r,1),n.length>0||(sn.forEach(e=>{delete t[e]}),delete t._chartjs)}}function ln(t){var e=new Set(t);return e.size===t.length?t:Array.from(e)}var cn="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function dn(t,e){var i=[],n=!1;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i=a,n||(n=!0,cn.call(window,()=>{n=!1,t.apply(e,i)}))}}var hn=t=>"start"===t?"left":"end"===t?"right":"center",un=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2;function fn(t,e,i){var n=e.length,r=0,a=n;if(t._sorted){var s=t.iScale,o=t.vScale,l=t._parsed,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=s.axis,h=s.getUserBounds(),u=h.min,f=h.max,p=h.minDefined,g=h.maxDefined;if(p){if(r=Math.min(rn(l,d,u).lo,i?n:rn(e,d,s.getPixelForValue(u)).lo),c){var v=l.slice(0,r+1).reverse().findIndex(t=>!ci(t[o.axis]));r-=Math.max(0,v)}r=tn(r,0,n-1)}if(g){var m=Math.max(rn(l,s.axis,f,!0).hi+1,i?0:rn(e,d,s.getPixelForValue(f),!0).hi+1);if(c){var b=l.slice(m-1).findIndex(t=>!ci(t[o.axis]));m+=Math.max(0,b)}a=tn(m,r,n)-r}else a=n-r}return{start:r,count:a}}function pn(t){var e=t.xScale,i=t.yScale,n=t._scaleRanges,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;var a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),a}var gn=t=>0===t||1===t,vn=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ai/i),mn=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ai/i)+1,bn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Ii),easeOutSine:t=>Math.sin(t*Ii),easeInOutSine:t=>-.5*(Math.cos(Oi*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>gn(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>gn(t)?t:vn(t,.075,.3),easeOutElastic:t=>gn(t)?t:mn(t,.075,.3),easeInOutElastic(t){var e=.1125;return gn(t)?t:t<.5?.5*vn(2*t,e,.45):.5+.5*mn(2*t-1,e,.45)},easeInBack(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-bn.easeOutBounce(1-t),easeOutBounce(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*bn.easeInBounce(2*t):.5*bn.easeOutBounce(2*t-1)+.5};function xn(t){if(t&&"object"==typeof t){var e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function _n(t){return xn(t)?t:new ai(t)}function yn(t){return xn(t)?t:new ai(t).saturate(.5).darken(.1).hexString()}var wn=["x","y","borderWidth","radius","tension"],$n=["color","borderColor","backgroundColor"];var kn=new Map;function Mn(t,e,i){return function(t,e){e=e||{};var i=t+JSON.stringify(e),n=kn.get(i);return n||(n=new Intl.NumberFormat(t,e),kn.set(i,n)),n}(e,i).format(t)}var Cn={values:t=>di(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";var n,r=this.chart.options.locale,a=t;if(i.length>1){var s=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(s<1e-4||s>1e15)&&(n="scientific"),a=function(t,e){var i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}var o=Hi(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Mn(t,r,c)},logarithmic(t,e,i){if(0===t)return"0";var n=i[e].significand||t/Math.pow(10,Math.floor(Hi(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?Cn.numeric.call(this,t,e,i):""}};var Sn={formatters:Cn};var Tn=Object.create(null),Pn=Object.create(null);function Dn(t,e){if(!e)return t;for(var i=e.split("."),n=0,r=i.length;n<r;++n){var a=i[n];t=t[a]||(t[a]=Object.create(null))}return t}function zn(t,e,i){return"string"==typeof e?wi(Dn(t,e),i):wi(Dn(t,""),e)}class On{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>yn(e.backgroundColor),this.hoverBorderColor=(t,e)=>yn(e.borderColor),this.hoverColor=(t,e)=>yn(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return zn(this,t,e)}get(t){return Dn(this,t)}describe(t,e){return zn(Pn,t,e)}override(t,e){return zn(Tn,t,e)}route(t,e,i,n){var r=Dn(this,t),a=Dn(this,i),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){var t=this[s],e=a[n];return hi(t)?Object.assign({},e,t):pi(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach(t=>t(this))}}var An=new On({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:$n},numbers:{type:"number",properties:wn}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Sn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Ln(t,e,i,n,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,i.push(r)),a>n&&(n=a),n}function jn(t,e,i,n){var r=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;var s,o,l,c,d,h=0,u=i.length;for(s=0;s<u;s++)if(null==(c=i[s])||di(c)){if(di(c))for(o=0,l=c.length;o<l;o++)null==(d=c[o])||di(d)||(h=Ln(t,r,a,h,d))}else h=Ln(t,r,a,h,c);t.restore();var f=a.length/2;if(f>i.length){for(s=0;s<f;s++)delete r[a[s]];a.splice(0,f)}return h}function En(t,e,i){var n=t.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function In(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Rn(t,e,i,n){Fn(t,e,i,n,null)}function Fn(t,e,i,n,r){var a,s,o,l,c,d,h,u,f=e.pointStyle,p=e.rotation,g=e.radius,v=(p||0)*Ei;if(f&&"object"==typeof f&&("[object HTMLImageElement]"===(a=f.toString())||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(i,n),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(i,n,r/2,g,0,0,Ai):t.arc(i,n,g,0,Ai),t.closePath();break;case"triangle":d=r?r/2:g,t.moveTo(i+Math.sin(v)*d,n-Math.cos(v)*g),v+=Fi,t.lineTo(i+Math.sin(v)*d,n-Math.cos(v)*g),v+=Fi,t.lineTo(i+Math.sin(v)*d,n-Math.cos(v)*g),t.closePath();break;case"rectRounded":l=g-(c=.516*g),s=Math.cos(v+Ri)*l,h=Math.cos(v+Ri)*(r?r/2-c:l),o=Math.sin(v+Ri)*l,u=Math.sin(v+Ri)*(r?r/2-c:l),t.arc(i-h,n-o,c,v-Oi,v-Ii),t.arc(i+u,n-s,c,v-Ii,v),t.arc(i+h,n+o,c,v,v+Ii),t.arc(i-u,n+s,c,v+Ii,v+Oi),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,d=r?r/2:l,t.rect(i-d,n-l,2*d,2*l);break}v+=Ri;case"rectRot":h=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,u=Math.sin(v)*(r?r/2:g),t.moveTo(i-h,n-o),t.lineTo(i+u,n-s),t.lineTo(i+h,n+o),t.lineTo(i-u,n+s),t.closePath();break;case"crossRot":v+=Ri;case"cross":h=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,u=Math.sin(v)*(r?r/2:g),t.moveTo(i-h,n-o),t.lineTo(i+h,n+o),t.moveTo(i+u,n-s),t.lineTo(i-u,n+s);break;case"star":h=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,u=Math.sin(v)*(r?r/2:g),t.moveTo(i-h,n-o),t.lineTo(i+h,n+o),t.moveTo(i+u,n-s),t.lineTo(i-u,n+s),v+=Ri,h=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,u=Math.sin(v)*(r?r/2:g),t.moveTo(i-h,n-o),t.lineTo(i+h,n+o),t.moveTo(i+u,n-s),t.lineTo(i-u,n+s);break;case"line":s=r?r/2:Math.cos(v)*g,o=Math.sin(v)*g,t.moveTo(i-s,n-o),t.lineTo(i+s,n+o);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(v)*(r?r/2:g),n+Math.sin(v)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Hn(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Nn(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Vn(t){t.restore()}function Wn(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if("middle"===r){var a=(e.x+i.x)/2;t.lineTo(a,e.y),t.lineTo(a,i.y)}else"after"===r!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Bn(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function qn(t,e,i,n,r){if(r.strikethrough||r.underline){var a=t.measureText(n),s=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=i-a.actualBoundingBoxAscent,c=i+a.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,d),t.lineTo(o,d),t.stroke()}}function Yn(t,e){var i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Un(t,e,i,n,r){var a,s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=di(e)?e:[e],c=o.strokeWidth>0&&""!==o.strokeColor;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ci(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),a=0;a<l.length;++a)s=l[a],o.backdrop&&Yn(t,o.backdrop),c&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ci(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(s,i,n,o.maxWidth)),t.fillText(s,i,n,o.maxWidth),qn(t,i,n,s,o),n+=Number(r.lineHeight);t.restore()}function Xn(t,e){var i=e.x,n=e.y,r=e.w,a=e.h,s=e.radius;t.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*Oi,Oi,!0),t.lineTo(i,n+a-s.bottomLeft),t.arc(i+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,Oi,Ii,!0),t.lineTo(i+r-s.bottomRight,n+a),t.arc(i+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,Ii,0,!0),t.lineTo(i+r,n+s.topRight),t.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-Ii,!0),t.lineTo(i+s.topLeft,n)}var Kn=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gn=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jn(t,e){var i=(""+t).match(Kn);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}var Zn=t=>+t||0;function Qn(t,e){var i,r={},a=hi(e),s=a?Object.keys(e):e,o=hi(t)?a?i=>pi(t[i],t[e[i]]):e=>t[e]:()=>t,l=n(s);try{for(l.s();!(i=l.n()).done;){var c=i.value;r[c]=Zn(o(c))}}catch(t){l.e(t)}finally{l.f()}return r}function tr(t){return Qn(t,{top:"y",right:"x",bottom:"y",left:"x"})}function er(t){return Qn(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ir(t){var e=tr(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nr(t,e){t=t||{},e=e||An.font;var i=pi(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));var n=pi(t.style,e.style);n&&!(""+n).match(Gn)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);var r={family:pi(t.family,e.family),lineHeight:Jn(pi(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:pi(t.weight,e.weight),string:""};return r.string=function(t){return!t||ci(t.size)||ci(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function rr(t,e,i,n){var r,a,s;for(r=0,a=t.length;r<a;++r)if(void 0!==(s=t[r])&&void 0!==s)return s}function ar(t,e){return Object.assign(Object.create(t),e)}function sr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0],a=(arguments.length>2?arguments[2]:void 0)||t;void 0===i&&(i=mr("_fallback",t));var s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:r,override:n=>sr([n,...t],e,a,i)};return new Proxy(s,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,r)=>hr(i,r,()=>function(t,e,i,r){var a,s,o=n(e);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(void 0!==(a=mr(cr(l,t),i)))return dr(t,a)?gr(i,r,t,a):a}}catch(t){o.e(t)}finally{o.f()}}(r,e,t,i)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>br(t).includes(e),ownKeys:t=>br(t),set(t,e,i){var n=t._storage||(t._storage=r());return t[e]=n[e]=i,delete t._keys,!0}})}function or(t,e,i,r){var a={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:lr(t,r),setContext:e=>or(t,e,i,r),override:n=>or(t.override(n),e,i,r)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>hr(t,e,()=>function(t,e,i){var r=t._proxy,a=t._context,s=t._subProxy,o=t._descriptors,l=r[e];Di(l)&&o.isScriptable(e)&&(l=function(t,e,i,n){var r=i._proxy,a=i._context,s=i._subProxy,o=i._stack;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);var l=e(a,s||n);o.delete(t),dr(t,l)&&(l=gr(r._scopes,r,t,l));return l}(e,l,t,i));di(l)&&l.length&&(l=function(t,e,i,r){var a=i._proxy,s=i._context,o=i._subProxy,l=i._descriptors;if(void 0!==s.index&&r(t))return e[s.index%e.length];if(hi(e[0])){var c=e,d=a._scopes.filter(t=>t!==c);e=[];var h,u=n(c);try{for(u.s();!(h=u.n()).done;){var f=gr(d,a,t,h.value);e.push(or(f,s,o&&o[t],l))}}catch(t){u.e(t)}finally{u.f()}}return e}(e,l,t,o.isIndexable));dr(e,l)&&(l=or(l,a,s&&s[e],o));return l}(t,e,i)),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,n)=>(t[i]=n,delete e[i],!0)})}function lr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},i=t._scriptable,n=void 0===i?e.scriptable:i,r=t._indexable,a=void 0===r?e.indexable:r,s=t._allKeys;return{allKeys:void 0===s?e.allKeys:s,scriptable:n,indexable:a,isScriptable:Di(n)?n:()=>n,isIndexable:Di(a)?a:()=>a}}var cr=(t,e)=>t?t+Ti(e):e,dr=(t,e)=>hi(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function hr(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];var n=i();return t[e]=n,n}function ur(t,e,i){return Di(t)?t(e,i):t}var fr=(t,e)=>!0===t?e:"string"==typeof t?Si(e,t):void 0;function pr(t,e,i,r,a){var s,o=n(e);try{for(o.s();!(s=o.n()).done;){var l=s.value,c=fr(i,l);if(c){t.add(c);var d=ur(c._fallback,i,a);if(void 0!==d&&d!==i&&d!==r)return d}else if(!1===c&&void 0!==r&&i!==r)return null}}catch(t){o.e(t)}finally{o.f()}return!1}function gr(t,e,i,n){var r=e._rootScopes,a=ur(e._fallback,i,n),s=[...t,...r],o=new Set;o.add(n);var l=vr(o,s,i,a||i,n);return null!==l&&((void 0===a||a===i||null!==(l=vr(o,s,a,l,n)))&&sr(Array.from(o),[""],r,a,()=>function(t,e,i){var n=t._getTarget();e in n||(n[e]={});var r=n[e];if(di(r)&&hi(i))return i;return r||{}}(e,i,n)))}function vr(t,e,i,n,r){for(;i;)i=pr(t,e,i,n,r);return i}function mr(t,e){var i,r=n(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a){var s=a[t];if(void 0!==s)return s}}}catch(t){r.e(t)}finally{r.f()}}function br(t){var e=t._keys;return e||(e=t._keys=function(t){var e,i=new Set,r=n(t);try{for(r.s();!(e=r.n()).done;){var a,s=e.value,o=n(Object.keys(s).filter(t=>!t.startsWith("_")));try{for(o.s();!(a=o.n()).done;){var l=a.value;i.add(l)}}catch(t){o.e(t)}finally{o.f()}}}catch(t){r.e(t)}finally{r.f()}return Array.from(i)}(t._scopes)),e}function xr(t,e,i,n){var r,a,s,o,l=t.iScale,c=this._parsing.key,d=void 0===c?"r":c,h=new Array(n);for(r=0,a=n;r<a;++r)o=e[s=r+i],h[r]={r:l.parse(Si(o,d),s)};return h}var _r=Number.EPSILON||1e-14,yr=(t,e)=>e<t.length&&!t[e].skip&&t[e],wr=t=>"x"===t?"y":"x";function $r(t,e,i,n){var r=t.skip?e:t,a=e,s=i.skip?e:i,o=Gi(a,r),l=Gi(s,a),c=o/(o+l),d=l/(o+l),h=n*(c=isNaN(c)?0:c),u=n*(d=isNaN(d)?0:d);return{previous:{x:a.x-h*(s.x-r.x),y:a.y-h*(s.y-r.y)},next:{x:a.x+u*(s.x-r.x),y:a.y+u*(s.y-r.y)}}}function kr(t){var e,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=wr(r),s=t.length,o=Array(s).fill(0),l=Array(s),c=yr(t,0);for(e=0;e<s;++e)if(i=n,n=c,c=yr(t,e+1),n){if(c){var d=c[r]-n[r];o[e]=0!==d?(c[a]-n[a])/d:0}l[e]=i?c?Ni(o[e-1])!==Ni(o[e])?0:(o[e-1]+o[e])/2:o[e-1]:o[e]}!function(t,e,i){for(var n,r,a,s,o,l=t.length,c=yr(t,0),d=0;d<l-1;++d)o=c,c=yr(t,d+1),o&&c&&(Vi(e[d],0,_r)?i[d]=i[d+1]=0:(n=i[d]/e[d],r=i[d+1]/e[d],(s=Math.pow(n,2)+Math.pow(r,2))<=9||(a=3/Math.sqrt(s),i[d]=n*a*e[d],i[d+1]=r*a*e[d])))}(t,o,l),function(t,e){for(var i,n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",s=wr(a),o=t.length,l=yr(t,0),c=0;c<o;++c)if(n=r,r=l,l=yr(t,c+1),r){var d=r[a],h=r[s];n&&(i=(d-n[a])/3,r["cp1".concat(a)]=d-i,r["cp1".concat(s)]=h-i*e[c]),l&&(i=(l[a]-d)/3,r["cp2".concat(a)]=d+i,r["cp2".concat(s)]=h+i*e[c])}}(t,l,r)}function Mr(t,e,i){return Math.max(Math.min(t,i),e)}function Cr(t,e,i,n,r){var a,s,o,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)kr(t,r);else{var c=n?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)l=$r(c,o=t[a],t[Math.min(a+1,s-(n?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&function(t,e){var i,n,r,a,s,o=Hn(t[0],e);for(i=0,n=t.length;i<n;++i)s=a,a=o,o=i<n-1&&Hn(t[i+1],e),a&&(r=t[i],s&&(r.cp1x=Mr(r.cp1x,e.left,e.right),r.cp1y=Mr(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=Mr(r.cp2x,e.left,e.right),r.cp2y=Mr(r.cp2y,e.top,e.bottom)))}(t,i)}function Sr(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Tr(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Pr(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}var Dr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);var zr=["top","right","bottom","left"];function Or(t,e,i){var n={};i=i?"-"+i:"";for(var r=0;r<4;r++){var a=zr[r];n[a]=parseFloat(t[e+"-"+a+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ar(t,e){if("native"in t)return t;var i=e.canvas,n=e.currentDevicePixelRatio,r=Dr(i),a="border-box"===r.boxSizing,s=Or(r,"padding"),o=Or(r,"border","width"),l=function(t,e){var i,n,r=t.touches,a=r&&r.length?r[0]:t,s=a.offsetX,o=a.offsetY,l=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(s,o,t.target))i=s,n=o;else{var c=e.getBoundingClientRect();i=a.clientX-c.left,n=a.clientY-c.top,l=!0}return{x:i,y:n,box:l}}(t,i),c=l.x,d=l.y,h=l.box,u=s.left+(h&&o.left),f=s.top+(h&&o.top),p=e.width,g=e.height;return a&&(p-=s.width+o.width,g-=s.height+o.height),{x:Math.round((c-u)/p*i.width/n),y:Math.round((d-f)/g*i.height/n)}}var Lr=t=>Math.round(10*t)/10;function jr(t,e,i,n){var r=Dr(t),a=Or(r,"margin"),s=Pr(r.maxWidth,t,"clientWidth")||ji,o=Pr(r.maxHeight,t,"clientHeight")||ji,l=function(t,e,i){var n,r;if(void 0===e||void 0===i){var a=t&&Tr(t);if(a){var s=a.getBoundingClientRect(),o=Dr(a),l=Or(o,"border","width"),c=Or(o,"padding");e=s.width-c.width-l.width,i=s.height-c.height-l.height,n=Pr(o.maxWidth,a,"clientWidth"),r=Pr(o.maxHeight,a,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||ji,maxHeight:r||ji}}(t,e,i),c=l.width,d=l.height;if("content-box"===r.boxSizing){var h=Or(r,"border","width"),u=Or(r,"padding");c-=u.width+h.width,d-=u.height+h.height}return c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=Lr(Math.min(c,s,l.maxWidth)),d=Lr(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Lr(c/2)),(void 0!==e||void 0!==i)&&n&&l.height&&d>l.height&&(d=l.height,c=Lr(Math.floor(d*n))),{width:c,height:d}}function Er(t,e,i){var n=e||1,r=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);var s=t.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height="".concat(t.height,"px"),s.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==n||s.height!==r||s.width!==a)&&(t.currentDevicePixelRatio=n,s.height=r,s.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0)}var Ir=function(){var t=!1;try{var e={get passive(){return t=!0,!1}};Sr()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function Rr(t,e){var i=function(t,e){return Dr(t).getPropertyValue(e)}(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Fr(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Hr(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function Nr(t,e,i,n){var r={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=Fr(t,r,i),o=Fr(r,a,i),l=Fr(a,e,i),c=Fr(s,o,i),d=Fr(o,l,i);return Fr(c,d,i)}function Vr(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Wr(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Br(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function qr(t){return"angle"===t?{between:Qi,compare:Ji,normalize:Zi}:{between:en,compare:(t,e)=>t-e,normalize:t=>t}}function Yr(t){var e=t.start,i=t.end,n=t.count;return{start:e%n,end:i%n,loop:t.loop&&(i-e+1)%n==0,style:t.style}}function Ur(t,e,i){if(!i)return[t];for(var n,r,a,s=i.property,o=i.start,l=i.end,c=e.length,d=qr(s),h=d.compare,u=d.between,f=d.normalize,p=function(t,e,i){var n,r,a=i.property,s=i.start,o=i.end,l=qr(a),c=l.between,d=l.normalize,h=e.length,u=t.start,f=t.end,p=t.loop;if(p){for(u+=h,f+=h,n=0,r=h;n<r&&c(d(e[u%h][a]),s,o);++n)u--,f--;u%=h,f%=h}return f<u&&(f+=h),{start:u,end:f,loop:p,style:t.style}}(t,e,i),g=p.start,v=p.end,m=p.loop,b=p.style,x=[],_=!1,y=null,w=()=>_||u(o,a,n)&&0!==h(o,a),$=()=>!_||0===h(l,n)||u(l,a,n),k=g,M=g;k<=v;++k)(r=e[k%c]).skip||(n=f(r[s]))!==a&&(_=u(n,o,l),null===y&&w()&&(y=0===h(n,o)?k:M),null!==y&&$()&&(x.push(Yr({start:y,end:k,loop:m,count:c,style:b})),y=null),M=k,a=n);return null!==y&&x.push(Yr({start:y,end:v,loop:m,count:c,style:b})),x}function Xr(t,e){for(var i=[],n=t.segments,r=0;r<n.length;r++){var a=Ur(n[r],t.points,e);a.length&&i.push(...a)}return i}function Kr(t,e,i,r){return r&&r.setContext&&i?function(t,e,i,r){var a=t._chart.getContext(),s=Gr(t.options),o=t._datasetIndex,l=t.options.spanGaps,c=i.length,d=[],h=s,u=e[0].start,f=u;function p(t,e,n,r){var a=l?-1:1;if(t!==e){for(t+=c;i[t%c].skip;)t-=a;for(;i[e%c].skip;)e+=a;t%c!==e%c&&(d.push({start:t%c,end:e%c,loop:n,style:r}),h=r,u=e%c)}}var g,v=n(e);try{for(v.s();!(g=v.n()).done;){var m=g.value;u=l?u:m.start;var b=i[u%c],x=void 0;for(f=u+1;f<=m.end;f++){var _=i[f%c];Jr(x=Gr(r.setContext(ar(a,{type:"segment",p0:b,p1:_,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),h)&&p(u,f-1,m.loop,h),b=_,h=x}u<f-1&&p(u,f-1,m.loop,h)}}catch(t){v.e(t)}finally{v.f()}return d}(t,e,i,r):e}function Gr(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Jr(t,e){if(!e)return!1;var i=[],n=function(t,e){return xn(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Zr(t,e,i){return t.options.clip?t[i]:e[i]}function Qr(t,e){var i=e._clip;if(i.disabled)return!1;var n=function(t,e){var i=t.xScale,n=t.yScale;return i&&n?{left:Zr(i,e,"left"),right:Zr(i,e,"right"),top:Zr(n,e,"top"),bottom:Zr(n,e,"bottom")}:e}(e,t.chartArea);return{left:!1===i.left?0:n.left-(!0===i.left?0:i.left),right:!1===i.right?t.width:n.right+(!0===i.right?0:i.right),top:!1===i.top?0:n.top-(!0===i.top?0:i.top),bottom:!1===i.bottom?t.height:n.bottom+(!0===i.bottom?0:i.bottom)}}class ta{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){var r=e.listeners[n],a=e.duration;r.forEach(n=>n({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=cn.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach((i,n)=>{if(i.running&&i.items.length){for(var r,a=i.items,s=a.length-1,o=!1;s>=0;--s)(r=a[s])._active?(r._total>i.duration&&(i.duration=r._total),r.tick(t),o=!0):(a[s]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,i,t,"progress")),a.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=a.length}}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){var e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){var e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;var e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){var e=this._charts.get(t);if(e&&e.items.length){for(var i=e.items,n=i.length-1;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}}remove(t){return this._charts.delete(t)}}var ea=new ta,ia="transparent",na={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){var n=_n(t||ia),r=n.valid&&_n(e||ia);return r&&r.valid?r.mix(n,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class ra{constructor(t,e,i,n){var r=e[i];n=rr([t.to,n,r,t.from]);var a=rr([t.from,r,n]);this._active=!0,this._fn=t.fn||na[t.type||typeof a],this._easing=bn[t.easing]||bn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);var n=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=rr([t.to,e,n,t.from]),this._from=rr([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){var e,i=t-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to;if(this._active=a!==o&&(s||i<n),!this._active)return this._target[r]=o,void this._notify(!0);i<0?this._target[r]=a:(e=i/n%2,e=s&&e>1?2-e:e,e=this._easing(Math.min(1,Math.max(0,e))),this._target[r]=this._fn(a,o,e))}wait(){var t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){for(var e=t?"res":"rej",i=this._promises||[],n=0;n<i.length;n++)i[n][e]()}}class aa{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(hi(t)){var e=Object.keys(An.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{var r=t[n];if(hi(r)){for(var a={},s=0,o=e;s<o.length;s++){var l=o[s];a[l]=r[l]}(di(r.properties)&&r.properties||[n]).forEach(t=>{t!==n&&i.has(t)||i.set(t,a)})}})}}_animateOptions(t,e){var i=e.options,n=function(t,e){if(!e)return;var i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!n)return[];var r=this._createAnimations(n,i);return i.$shared&&function(t,e){for(var i=[],n=Object.keys(e),r=0;r<n.length;r++){var a=t[n[r]];a&&a.active()&&i.push(a.wait())}return Promise.all(i)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){var i,n=this._properties,r=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();for(i=s.length-1;i>=0;--i){var l=s[i];if("$"!==l.charAt(0))if("options"!==l){var c=e[l],d=a[l],h=n.get(l);if(d){if(h&&d.active()){d.update(h,c,o);continue}d.cancel()}h&&h.duration?(a[l]=d=new ra(h,t,l,c),r.push(d)):t[l]=c}else r.push(...this._animateOptions(t,e))}return r}update(t,e){if(0!==this._properties.size){var i=this._createAnimations(t,e);return i.length?(ea.add(this._chart,i),!0):void 0}Object.assign(t,e)}}function sa(t,e){var i=t&&t.options||{},n=i.reverse,r=void 0===i.min?e:0,a=void 0===i.max?e:0;return{start:n?a:r,end:n?r:a}}function oa(t,e){var i,n,r=[],a=t._getSortedDatasetMetas(e);for(i=0,n=a.length;i<n;++i)r.push(a[i].index);return r}function la(t,e,i){var n,r,a,s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=t.keys,c="single"===o.mode;if(null!==e){var d=!1;for(n=0,r=l.length;n<r;++n){if((a=+l[n])===i){if(d=!0,o.all)continue;break}ui(s=t.values[a])&&(c||0===e||Ni(e)===Ni(s))&&(e+=s)}return d||o.all?e:0}}function ca(t,e){var i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function da(t,e,i){var n=t[e]||(t[e]={});return n[i]||(n[i]={})}function ha(t,e,i,r){var a,s=n(e.getMatchingVisibleMetas(r).reverse());try{for(s.s();!(a=s.n()).done;){var o=a.value,l=t[o.index];if(i&&l>0||!i&&l<0)return o.index}}catch(t){s.e(t)}finally{s.f()}return null}function ua(t,e){for(var i,n=t.chart,r=t._cachedMeta,a=n._stacks||(n._stacks={}),s=r.iScale,o=r.vScale,l=r.index,c=s.axis,d=o.axis,h=function(t,e,i){return"".concat(t.id,".").concat(e.id,".").concat(i.stack||i.type)}(s,o,r),u=e.length,f=0;f<u;++f){var p=e[f],g=p[c],v=p[d];(i=(p._stacks||(p._stacks={}))[d]=da(a,h,g))[l]=v,i._top=ha(i,o,!0,r.type),i._bottom=ha(i,o,!1,r.type),(i._visualValues||(i._visualValues={}))[l]=v}}function fa(t,e){var i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function pa(t,e){var i=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){var a,s=n(e=e||t._parsed);try{for(s.s();!(a=s.n()).done;){var o=a.value._stacks;if(!o||void 0===o[r]||void 0===o[r][i])return;delete o[r][i],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[i]&&delete o[r]._visualValues[i]}}catch(t){s.e(t)}finally{s.f()}}}var ga=t=>"reset"===t||"none"===t,va=(t,e)=>e?t:Object.assign({},t);class ma{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ca(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&pa(this._cachedMeta),this.index=t}linkScales(){var t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,r=e.xAxisID=pi(i.xAxisID,fa(t,"x")),a=e.yAxisID=pi(i.yAxisID,fa(t,"y")),s=e.rAxisID=pi(i.rAxisID,fa(t,"r")),o=e.indexAxis,l=e.iAxisID=n(o,r,a,s),c=e.vAxisID=n(o,a,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){var t=this._cachedMeta;this._data&&on(this._data,this),t._stacked&&pa(t)}_dataCheck(){var t,e,i=this.getDataset(),n=i.data||(i.data=[]),r=this._data;if(hi(n)){var a=this._cachedMeta;this._data=function(t,e){var i,n,r,a=e.iScale,s=e.vScale,o="x"===a.axis?"x":"y",l="x"===s.axis?"x":"y",c=Object.keys(t),d=new Array(c.length);for(i=0,n=c.length;i<n;++i)r=c[i],d[i]={[o]:r,[l]:t[r]};return d}(n,a)}else if(r!==n){if(r){on(r,this);var s=this._cachedMeta;pa(s),s._parsed=[]}n&&Object.isExtensible(n)&&(e=this,(t=n)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),sn.forEach(e=>{var i="_onData"+Ti(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var s=n.apply(this,r);return t._chartjs.listeners.forEach(t=>{"function"==typeof t[i]&&t[i](...r)}),s}})}))),this._syncList=[],this._data=n}}addElements(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){var e=this._cachedMeta,i=this.getDataset(),n=!1;this._dataCheck();var r=e._stacked;e._stacked=ca(e.vScale,e),e.stack!==i.stack&&(n=!0,pa(e),e.stack=i.stack),this._resyncElements(t),(n||r!==e._stacked)&&(ua(this,e._parsed),e._stacked=ca(e.vScale,e))}configure(){var t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){var i,n,r,a=this._cachedMeta,s=this._data,o=a.iScale,l=a._stacked,c=o.axis,d=0===t&&e===s.length||a._sorted,h=t>0&&a._parsed[t-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,r=s;else{r=di(s[t])?this.parseArrayData(a,s,t,e):hi(s[t])?this.parseObjectData(a,s,t,e):this.parsePrimitiveData(a,s,t,e);var u=()=>null===n[c]||h&&n[c]<h[c];for(i=0;i<e;++i)a._parsed[i+t]=n=r[i],d&&(u()&&(d=!1),h=n);a._sorted=d}l&&ua(this,r)}parsePrimitiveData(t,e,i,n){var r,a,s,o=t.iScale,l=t.vScale,c=o.axis,d=l.axis,h=o.getLabels(),u=o===l,f=new Array(n);for(r=0,a=n;r<a;++r)s=r+i,f[r]={[c]:u||o.parse(h[s],s),[d]:l.parse(e[s],s)};return f}parseArrayData(t,e,i,n){var r,a,s,o,l=t.xScale,c=t.yScale,d=new Array(n);for(r=0,a=n;r<a;++r)o=e[s=r+i],d[r]={x:l.parse(o[0],s),y:c.parse(o[1],s)};return d}parseObjectData(t,e,i,n){var r,a,s,o,l=t.xScale,c=t.yScale,d=this._parsing,h=d.xAxisKey,u=void 0===h?"x":h,f=d.yAxisKey,p=void 0===f?"y":f,g=new Array(n);for(r=0,a=n;r<a;++r)o=e[s=r+i],g[r]={x:l.parse(Si(o,u),s),y:c.parse(Si(o,p),s)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){var n=this.chart,r=this._cachedMeta,a=e[t.axis];return la({keys:oa(n,!0),values:e._stacks[t.axis]._visualValues},a,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){var r=i[e.axis],a=null===r?NaN:r,s=n&&i._stacks[e.axis];n&&s&&(n.values=s,a=la(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){var i,n,r=this._cachedMeta,a=r._parsed,s=r._sorted&&t===r.iScale,o=a.length,l=this._getOtherScale(t),c=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:oa(i,!0),values:null})(e,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},h=function(t){var e=t.getUserBounds(),i=e.min,n=e.max,r=e.minDefined,a=e.maxDefined;return{min:r?i:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}(l),u=h.min,f=h.max;function p(){var e=(n=a[i])[l.axis];return!ui(n[t.axis])||u>e||f<e}for(i=0;i<o&&(p()||(this.updateRangeFromParsed(d,t,n,c),!s));++i);if(s)for(i=o-1;i>=0;--i)if(!p()){this.updateRangeFromParsed(d,t,n,c);break}return d}getAllParsedValues(t){var e,i,n,r=this._cachedMeta._parsed,a=[];for(e=0,i=r.length;e<i;++e)ui(n=r[e][t.axis])&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(t){var e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){var e,i,n,r,a,s=this._cachedMeta;this.update(t||"default"),s._clip=(hi(e=pi(this.options.clip,function(t,e,i){if(!1===i)return!1;var n=sa(t,i),r=sa(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(s.xScale,s.yScale,this.getMaxOverflow())))?(i=e.top,n=e.right,r=e.bottom,a=e.left):i=n=r=a=e,{top:i,right:n,bottom:r,left:a,disabled:!1===e})}update(t){}draw(){var t,e=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],a=i.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(e,a,o,l),t=o;t<o+l;++t){var d=r[t];d.hidden||(d.active&&c?s.push(d):d.draw(e,a))}for(t=0;t<s.length;++t)s[t].draw(e,a)}getStyle(t,e){var i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){var n,r=this.getDataset();if(t>=0&&t<this._cachedMeta.data.length){var a=this._cachedMeta.data[t];n=a.$context||(a.$context=function(t,e,i){return ar(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,a)),n.parsed=this.getParsed(t),n.raw=r.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return ar(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=r,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,n="active"===e,r=this._cachedDataOpts,a=t+"-"+e,s=r[a],o=this.enableOptionSharing&&Pi(i);if(s)return va(s,o);var l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),d=n?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),u=Object.keys(An.elements[t]),f=l.resolveNamedOptions(h,u,()=>this.getContext(i,n,e),d);return f.$shared&&(f.$shared=o,r[a]=Object.freeze(va(f,o))),f}_resolveAnimations(t,e,i){var n,r=this.chart,a=this._cachedDataOpts,s="animation-".concat(e),o=a[s];if(o)return o;if(!1!==r.options.animation){var l=this.chart.config,c=l.datasetAnimationScopeKeys(this._type,e),d=l.getOptionScopes(this.getDataset(),c);n=l.createResolver(d,this.getContext(t,i,e))}var h=new aa(r,n&&n.animations);return n&&n._cacheable&&(a[s]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ga(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){var i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:a}}updateElement(t,e,i,n){ga(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!ga(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;var r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){var e,i=this._data,r=this._cachedMeta.data,a=n(this._syncList);try{for(a.s();!(e=a.n()).done;){var s=c(e.value,3),o=s[0],l=s[1],d=s[2];this[o](l,d)}}catch(t){a.e(t)}finally{a.f()}this._syncList=[];var h=r.length,u=i.length,f=Math.min(u,h);f&&this.parse(0,f),u>h?this._insertElements(h,u-h,t):u<h&&this._removeElements(u,h-u)}_insertElements(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._cachedMeta,a=r.data,s=t+e,o=t=>{for(t.length+=e,i=t.length-1;i>=s;i--)t[i]=t[i-e]};for(o(a),i=t;i<s;++i)a[i]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(t,e),n&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){var i=this._cachedMeta;if(this._parsing){var n=i._parsed.splice(t,e);i._stacked&&pa(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{var e=c(t,3),i=e[0],n=e[1],r=e[2];this[i](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){var t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);var i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ba(t){var e,i,n,r,a=t.iScale,s=function(t,e){if(!t._cache.$bar){for(var i=t.getMatchingVisibleMetas(e),n=[],r=0,a=i.length;r<a;r++)n=n.concat(i[r].controller.getAllParsedValues(t));t._cache.$bar=ln(n.sort((t,e)=>t-e))}return t._cache.$bar}(a,t.type),o=a._length,l=()=>{32767!==n&&-32768!==n&&(Pi(r)&&(o=Math.min(o,Math.abs(n-r)||o)),r=n)};for(e=0,i=s.length;e<i;++e)n=a.getPixelForValue(s[e]),l();for(r=void 0,e=0,i=a.ticks.length;e<i;++e)n=a.getPixelForTick(e),l();return o}function xa(t,e,i,n){return di(t)?function(t,e,i,n){var r=i.parse(t[0],n),a=i.parse(t[1],n),s=Math.min(r,a),o=Math.max(r,a),l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:a,min:s,max:o}}(t,e,i,n):e[i.axis]=i.parse(t,n),e}function _a(t,e,i,n){var r,a,s,o,l=t.iScale,c=t.vScale,d=l.getLabels(),h=l===c,u=[];for(r=i,a=i+n;r<a;++r)o=e[r],(s={})[l.axis]=h||l.parse(d[r],r),u.push(xa(o,s,c,r));return u}function ya(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function wa(t,e,i,n){var r=e.borderSkipped,a={};if(r)if(!0!==r){var s=function(t){var e,i,n,r,a;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",a="start"):(r="start",a="end"),{start:i,end:n,reverse:e,top:r,bottom:a}}(t),o=s.start,l=s.end,c=s.reverse,d=s.top,h=s.bottom;"middle"===r&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=d:(i._bottom||0)===n?r=h:(a[$a(h,o,l,c)]=!0,r=d)),a[$a(r,o,l,c)]=!0,t.borderSkipped=a}else t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else t.borderSkipped=a}function $a(t,e,i,n){var r,a,s;return n?(s=i,t=ka(t=(r=t)===(a=e)?s:r===s?a:r,i,e)):t=ka(t,e,i),t}function ka(t,e,i){return"start"===t?e:"end"===t?i:t}function Ma(t,e,i){var n=e.inflateAmount;t.inflateAmount="auto"===n?1===i?.33:0:n}r(ma,"defaults",{}),r(ma,"datasetElementType",null),r(ma,"dataElementType",null);class Ca extends ma{parsePrimitiveData(t,e,i,n){return _a(t,e,i,n)}parseArrayData(t,e,i,n){return _a(t,e,i,n)}parseObjectData(t,e,i,n){var r,a,s,o,l=t.iScale,c=t.vScale,d=this._parsing,h=d.xAxisKey,u=void 0===h?"x":h,f=d.yAxisKey,p=void 0===f?"y":f,g="x"===l.axis?u:p,v="x"===c.axis?u:p,m=[];for(r=i,a=i+n;r<a;++r)o=e[r],(s={})[l.axis]=l.parse(Si(o,g),r),m.push(xa(Si(o,v),s,c,r));return m}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);var r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){var e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t),a=r._custom,s=ya(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){for(var r="reset"===n,a=this.index,s=this._cachedMeta.vScale,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),d=this._getSharedOptions(e,n),h=d.sharedOptions,u=d.includeOptions,f=e;f<e+i;f++){var p=this.getParsed(f),g=r||ci(p[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,c),m=(p._stacks||{})[s.axis],b={horizontal:l,base:g.base,enableBorderRadius:!m||ya(p._custom)||a===m._top||a===m._bottom,x:l?g.head:v.center,y:l?v.center:g.head,height:l?v.size:Math.abs(g.size),width:l?Math.abs(g.size):v.size};u&&(b.options=h||this.resolveDataElementOptions(f,t[f].active?"active":n));var x=b.options||t[f].options;wa(b,x,m,a),Ma(b,x,c.ratio),this.updateElement(t[f],f,b,n)}}_getStacks(t,e){var i,r=this._cachedMeta.iScale,a=r.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),s=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(e),c=l&&l[r.axis],d=t=>{var e=t._parsed.find(t=>t[r.axis]===c),i=e&&e[t.vScale.axis];if(ci(i)||isNaN(i))return!0},h=n(a);try{for(h.s();!(i=h.n()).done;){var u=i.value;if((void 0===e||!d(u))&&((!1===s||-1===o.indexOf(u.stack)||void 0===s&&void 0===u.stack)&&o.push(u.stack),u.index===t))break}}catch(t){h.e(t)}finally{h.f()}return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){var t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){var t,e={},i=this.getFirstScaleIdForIndexAxis(),r=n(this.chart.data.datasets);try{for(r.s();!(t=r.n()).done;){var a=t.value;e[pi("x"===this.chart.options.indexAxis?a.xAxisID:a.yAxisID,i)]=!0}}catch(t){r.e(t)}finally{r.f()}return Object.keys(e)}_getStackIndex(t,e,i){var n=this._getStacks(t,i),r=void 0!==e?n.indexOf(e):-1;return-1===r?n.length-1:r}_getRuler(){var t,e,i=this.options,n=this._cachedMeta,r=n.iScale,a=[];for(t=0,e=n.data.length;t<e;++t)a.push(r.getPixelForValue(this.getParsed(t)[r.axis],t));var s=i.barThickness;return{min:s||ba(n),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:i.grouped,ratio:s?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(t){var e,i,n=this._cachedMeta,r=n.vScale,a=n._stacked,s=n.index,o=this.options,l=o.base,c=o.minBarLength,d=l||0,h=this.getParsed(t),u=h._custom,f=ya(u),p=h[r.axis],g=0,v=a?this.applyStack(r,h,a):p;v!==p&&(g=v-p,v=p),f&&(p=u.barStart,v=u.barEnd-u.barStart,0!==p&&Ni(p)!==Ni(u.barEnd)&&(g=0),g+=p);var m=ci(l)||f?g:l,b=r.getPixelForValue(m);if(i=(e=this.chart.getDataVisibility(t)?r.getPixelForValue(g+v):b)-b,Math.abs(i)<c){i=function(t,e,i){return 0!==t?Ni(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(i,r,d)*c,p===d&&(b-=i/2);var x=r.getPixelForDecimal(0),_=r.getPixelForDecimal(1),y=Math.min(x,_),w=Math.max(x,_);e=(b=Math.max(Math.min(b,w),y))+i,a&&!f&&(h._stacks[r.axis]._visualValues[s]=r.getValueForPixel(e)-r.getValueForPixel(b))}if(b===r.getPixelForValue(d)){var $=Ni(i)*r.getLineWidthForValue(d)/2;b+=$,i-=$}return{size:i,base:b,head:e,center:e+i/2}}_calculateBarIndexPixels(t,e){var i,n,r=e.scale,a=this.options,s=a.skipNull,o=pi(a.maxBarThickness,1/0),l=this._getAxisCount();if(e.grouped){var c=s?this._getStackCount(t):e.stackCount,d="flex"===a.barThickness?function(t,e,i,n){var r=e.pixels,a=r[t],s=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null,l=i.categoryPercentage;null===s&&(s=a-(null===o?e.end-e.start:o-a)),null===o&&(o=a+a-s);var c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:i.barPercentage,start:c}}(t,e,a,c*l):function(t,e,i,n){var r,a,s=i.barThickness;return ci(s)?(r=e.min*i.categoryPercentage,a=i.barPercentage):(r=s*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[t]-r/2}}(t,e,a,c*l),h="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(pi(h,this.getFirstScaleIdForIndexAxis())),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+u;i=d.start+d.chunk*f+d.chunk/2,n=Math.min(o,d.chunk*d.ratio)}else i=r.getPixelForValue(this.getParsed(t)[r.axis],t),n=Math.min(o,e.min*e.ratio);return{base:i-n/2,head:i+n/2,center:i,size:n}}draw(){for(var t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length,r=0;r<n;++r)null===this.getParsed(r)[e.axis]||i[r].hidden||i[r].draw(this._ctx)}}r(Ca,"id","bar"),r(Ca,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),r(Ca,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Sa extends ma{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){for(var r=super.parsePrimitiveData(t,e,i,n),a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+i).radius;return r}parseArrayData(t,e,i,n){for(var r=super.parseArrayData(t,e,i,n),a=0;a<r.length;a++){var s=e[i+a];r[a]._custom=pi(s[2],this.resolveDataElementOptions(a+i).radius)}return r}parseObjectData(t,e,i,n){for(var r=super.parseObjectData(t,e,i,n),a=0;a<r.length;a++){var s=e[i+a];r[a]._custom=pi(s&&s.r&&+s.r,this.resolveDataElementOptions(a+i).radius)}return r}getMaxOverflow(){for(var t=this._cachedMeta.data,e=0,i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart.data.labels||[],n=e.xScale,r=e.yScale,a=this.getParsed(t),s=n.getLabelForValue(a.x),o=r.getLabelForValue(a.y),l=a._custom;return{label:i[t]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){for(var r="reset"===n,a=this._cachedMeta,s=a.iScale,o=a.vScale,l=this._getSharedOptions(e,n),c=l.sharedOptions,d=l.includeOptions,h=s.axis,u=o.axis,f=e;f<e+i;f++){var p=t[f],g=!r&&this.getParsed(f),v={},m=v[h]=r?s.getPixelForDecimal(.5):s.getPixelForValue(g[h]),b=v[u]=r?o.getBasePixel():o.getPixelForValue(g[u]);v.skip=isNaN(m)||isNaN(b),d&&(v.options=c||this.resolveDataElementOptions(f,p.active?"active":n),r&&(v.options.radius=0)),this.updateElement(p,f,v,n)}}resolveDataElementOptions(t,e){var i=this.getParsed(t),n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));var r=n.radius;return"active"!==e&&(n.radius=0),n.radius+=pi(i&&i._custom,r),n}}r(Sa,"id","bubble"),r(Sa,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),r(Sa,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ta extends ma{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){var i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{var r,a,s=t=>+i[t];if(hi(i[t])){var o=this._parsing.key,l=void 0===o?"value":o;s=t=>+Si(i[t],l)}for(r=t,a=t+e;r<a;++r)n._parsed[r]=s(r)}}_getRotation(){return Yi(this.options.rotation-90)}_getCircumference(){return Yi(this.options.circumference)}_getRotationExtents(){for(var t=Ai,e=-Ai,i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){var n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),a=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+a)}return{rotation:t,circumference:e-t}}update(t){var e,i,n=this.chart.chartArea,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),l=Math.min((e=this.options.cutout,i=o,"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/i),1),c=this._getRingWeight(this.index),d=this._getRotationExtents(),h=d.circumference,u=function(t,e,i){var n=1,r=1,a=0,s=0;if(e<Ai){var o=t,l=o+e,c=Math.cos(o),d=Math.sin(o),h=Math.cos(l),u=Math.sin(l),f=(t,e,n)=>Qi(t,o,l,!0)?1:Math.max(e,e*i,n,n*i),p=(t,e,n)=>Qi(t,o,l,!0)?-1:Math.min(e,e*i,n,n*i),g=f(0,c,h),v=f(Ii,d,u),m=p(Oi,c,h),b=p(Oi+Ii,d,u);n=(g-m)/2,r=(v-b)/2,a=-(g+m)/2,s=-(v+b)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}(d.rotation,h,l),f=u.ratioX,p=u.ratioY,g=u.offsetX,v=u.offsetY,m=(n.width-s)/f,b=(n.height-s)/p,x=Math.max(Math.min(m,b)/2,0),_=gi(this.options.radius,x),y=(_-Math.max(_*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=v*_,r.total=this.calculateTotal(),this.outerRadius=_-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*c,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){var i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/Ai)}updateElements(t,e,i,n){var r,a="reset"===n,s=this.chart,o=s.chartArea,l=s.options.animation,c=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=a&&l.animateScale,u=h?0:this.innerRadius,f=h?0:this.outerRadius,p=this._getSharedOptions(e,n),g=p.sharedOptions,v=p.includeOptions,m=this._getRotation();for(r=0;r<e;++r)m+=this._circumference(r,a);for(r=e;r<e+i;++r){var b=this._circumference(r,a),x=t[r],_={x:c+this.offsetX,y:d+this.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:f,innerRadius:u};v&&(_.options=g||this.resolveDataElementOptions(r,x.active?"active":n)),m+=b,this.updateElement(x,r,_,n)}}calculateTotal(){var t,e=this._cachedMeta,i=e.data,n=0;for(t=0;t<i.length;t++){var r=e._parsed[t];null===r||isNaN(r)||!this.chart.getDataVisibility(t)||i[t].hidden||(n+=Math.abs(r))}return n}calculateCircumference(t){var e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ai*(Math.abs(t)/e):0}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=Mn(e._parsed[t],i.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){var e,i,n,r,a,s=0,o=this.chart;if(!t)for(e=0,i=o.data.datasets.length;e<i;++e)if(o.isDatasetVisible(e)){t=(n=o.getDatasetMeta(e)).data,r=n.controller;break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)"inner"!==(a=r.resolveDataElementOptions(e)).borderAlign&&(s=Math.max(s,a.borderWidth||0,a.hoverBorderWidth||0));return s}getMaxOffset(t){for(var e=0,i=0,n=t.length;i<n;++i){var r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(pi(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}r(Ta,"id","doughnut"),r(Ta,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),r(Ta,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),r(Ta,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){var e=t.data;if(e.labels.length&&e.datasets.length){var i=t.legend.options.labels,n=i.pointStyle,r=i.color;return e.labels.map((e,i)=>{var a=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Pa extends ma{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){var e=this._cachedMeta,i=e.dataset,n=e.data,r=void 0===n?[]:n,a=e._dataset,s=this.chart._animationsDisabled,o=fn(e,r,s),l=o.start,c=o.count;this._drawStart=l,this._drawCount=c,pn(e)&&(l=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;var d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:d},t),this.updateElements(r,l,c,t)}updateElements(t,e,i,n){for(var r="reset"===n,a=this._cachedMeta,s=a.iScale,o=a.vScale,l=a._stacked,c=a._dataset,d=this._getSharedOptions(e,n),h=d.sharedOptions,u=d.includeOptions,f=s.axis,p=o.axis,g=this.options,v=g.spanGaps,m=g.segment,b=Bi(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||"none"===n,_=e+i,y=t.length,w=e>0&&this.getParsed(e-1),$=0;$<y;++$){var k=t[$],M=x?k:{};if($<e||$>=_)M.skip=!0;else{var C=this.getParsed($),S=ci(C[p]),T=M[f]=s.getPixelForValue(C[f],$),P=M[p]=r||S?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[p],$);M.skip=isNaN(T)||isNaN(P)||S,M.stop=$>0&&Math.abs(C[f]-w[f])>b,m&&(M.parsed=C,M.raw=c.data[$]),u&&(M.options=h||this.resolveDataElementOptions($,k.active?"active":n)),x||this.updateElement(k,$,M,n),w=C}}}getMaxOverflow(){var t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;var r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,a)/2}draw(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}r(Pa,"id","line"),r(Pa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),r(Pa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Da extends ma{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=Mn(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,i,n){return xr.bind(this)(t,e,i,n)}update(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){var t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,i)=>{var n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))}),e}_updateRadius(){var t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),a=(r-Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,n){var r,a="reset"===n,s=this.chart,o=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,d=l.yCenter,h=l.getIndexAngle(0)-.5*Oi,u=h,f=360/this.countVisibleElements();for(r=0;r<e;++r)u+=this._computeAngle(r,n,f);for(r=e;r<e+i;r++){var p=t[r],g=u,v=u+this._computeAngle(r,n,f),m=s.getDataVisibility(r)?l.getDistanceFromCenterForValue(this.getParsed(r).r):0;u=v,a&&(o.animateScale&&(m=0),o.animateRotate&&(g=v=h));var b={x:c,y:d,innerRadius:0,outerRadius:m,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(r,p.active?"active":n)};this.updateElement(p,r,b,n)}}countVisibleElements(){var t=this._cachedMeta,e=0;return t.data.forEach((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Yi(this.resolveDataElementOptions(t,e).angle||i):0}}r(Da,"id","polarArea"),r(Da,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),r(Da,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){var e=t.data;if(e.labels.length&&e.datasets.length){var i=t.legend.options.labels,n=i.pointStyle,r=i.color;return e.labels.map((e,i)=>{var a=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class za extends Ta{}r(za,"id","pie"),r(za,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Oa extends ma{getLabelAndValue(t){var e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return xr.bind(this)(t,e,i,n)}update(t){var e=this._cachedMeta,i=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(i.points=n,"resize"!==t){var a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);var s={_loop:!0,_fullLoop:r.length===n.length,options:a};this.updateElement(i,void 0,s,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){for(var r=this._cachedMeta.rScale,a="reset"===n,s=e;s<e+i;s++){var o=t[s],l=this.resolveDataElementOptions(s,o.active?"active":n),c=r.getPointPositionForValue(s,this.getParsed(s).r),d=a?r.xCenter:c.x,h=a?r.yCenter:c.y,u={x:d,y:h,angle:c.angle,skip:isNaN(d)||isNaN(h),options:l};this.updateElement(o,s,u,n)}}}r(Oa,"id","radar"),r(Oa,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),r(Oa,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Aa extends ma{getLabelAndValue(t){var e=this._cachedMeta,i=this.chart.data.labels||[],n=e.xScale,r=e.yScale,a=this.getParsed(t),s=n.getLabelForValue(a.x),o=r.getLabelForValue(a.y);return{label:i[t]||"",value:"("+s+", "+o+")"}}update(t){var e=this._cachedMeta,i=e.data,n=void 0===i?[]:i,r=this.chart._animationsDisabled,a=fn(e,n,r),s=a.start,o=a.count;if(this._drawStart=s,this._drawCount=o,pn(e)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();var l=e.dataset,c=e._dataset;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;var d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,t)}addElements(){var t=this.options.showLine;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){for(var r="reset"===n,a=this._cachedMeta,s=a.iScale,o=a.vScale,l=a._stacked,c=a._dataset,d=this.resolveDataElementOptions(e,n),h=this.getSharedOptions(d),u=this.includeOptions(n,h),f=s.axis,p=o.axis,g=this.options,v=g.spanGaps,m=g.segment,b=Bi(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||"none"===n,_=e>0&&this.getParsed(e-1),y=e;y<e+i;++y){var w=t[y],$=this.getParsed(y),k=x?w:{},M=ci($[p]),C=k[f]=s.getPixelForValue($[f],y),S=k[p]=r||M?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,$,l):$[p],y);k.skip=isNaN(C)||isNaN(S)||M,k.stop=y>0&&Math.abs($[f]-_[f])>b,m&&(k.parsed=$,k.raw=c.data[y]),u&&(k.options=h||this.resolveDataElementOptions(y,w.active?"active":n)),x||this.updateElement(w,y,k,n),_=$}this.updateSharedOptions(h,n,d)}getMaxOverflow(){var t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){for(var i=0,n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}var r=t.dataset,a=r.options&&r.options.borderWidth||0;if(!e.length)return a;var s=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,s,o)/2}}function La(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}r(Aa,"id","scatter"),r(Aa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),r(Aa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});class ja{static override(t){Object.assign(ja.prototype,t)}constructor(t){r(this,"options",void 0),this.options=t||{}}init(){}formats(){return La()}parse(){return La()}format(){return La()}add(){return La()}diff(){return La()}startOf(){return La()}endOf(){return La()}}var Ea=ja;function Ia(t,e,i,n){var r=t.controller,a=t.data,s=t._sorted,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&"r"!==e&&s&&a.length){var c=o._reversePixels?an:rn;if(!n){var d=c(a,e,i);if(l){var h=r._cachedMeta.vScale,u=t._parsed,f=u.slice(0,d.lo+1).reverse().findIndex(t=>!ci(t[h.axis]));d.lo-=Math.max(0,f);var p=u.slice(d.hi).findIndex(t=>!ci(t[h.axis]));d.hi+=Math.max(0,p)}return d}if(r._sharedOptions){var g=a[0],v="function"==typeof g.getRange&&g.getRange(e);if(v){var m=c(a,e,i-v),b=c(a,e,i+v);return{lo:m.lo,hi:b.hi}}}}return{lo:0,hi:a.length-1}}function Ra(t,e,i,n,r){for(var a=t.getSortedVisibleDatasetMetas(),s=i[e],o=0,l=a.length;o<l;++o)for(var c=a[o],d=c.index,h=c.data,u=Ia(a[o],e,s,r),f=u.lo,p=u.hi,g=f;g<=p;++g){var v=h[g];v.skip||n(v,d,g)}}function Fa(t,e,i,n,r){var a=[];if(!r&&!t.isPointInArea(e))return a;return Ra(t,i,e,function(i,s,o){(r||Hn(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&a.push({element:i,datasetIndex:s,index:o})},!0),a}function Ha(t,e,i,n,r,a){var s=[],o=function(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var r=e?Math.abs(t.x-n.x):0,a=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(i),l=Number.POSITIVE_INFINITY;return Ra(t,i,e,function(i,c,d){var h=i.inRange(e.x,e.y,r);if(!n||h){var u=i.getCenterPoint(r);if(!!a||t.isPointInArea(u)||h){var f=o(e,u);f<l?(s=[{element:i,datasetIndex:c,index:d}],l=f):f===l&&s.push({element:i,datasetIndex:c,index:d})}}}),s}function Na(t,e,i,n,r,a){return a||t.isPointInArea(e)?"r"!==i||n?Ha(t,e,i,n,r,a):function(t,e,i,n){var r=[];return Ra(t,i,e,function(t,i,a){var s=t.getProps(["startAngle","endAngle"],n),o=s.startAngle,l=s.endAngle;Qi(Ki(t,{x:e.x,y:e.y}).angle,o,l)&&r.push({element:t,datasetIndex:i,index:a})}),r}(t,e,i,r):[]}function Va(t,e,i,n,r){var a=[],s="x"===i?"inXRange":"inYRange",o=!1;return Ra(t,i,e,(t,n,l)=>{t[s]&&t[s](e[i],r)&&(a.push({element:t,datasetIndex:n,index:l}),o=o||t.inRange(e.x,e.y,r))}),n&&!o?[]:a}var Wa={modes:{index(t,e,i,n){var r=Ar(e,t),a=i.axis||"x",s=i.includeInvisible||!1,o=i.intersect?Fa(t,r,a,n,s):Na(t,r,a,!1,n,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{var e=o[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,i,n){var r=Ar(e,t),a=i.axis||"xy",s=i.includeInvisible||!1,o=i.intersect?Fa(t,r,a,n,s):Na(t,r,a,!1,n,s);if(o.length>0){var l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(var d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point:(t,e,i,n)=>Fa(t,Ar(e,t),i.axis||"xy",n,i.includeInvisible||!1),nearest(t,e,i,n){var r=Ar(e,t),a=i.axis||"xy",s=i.includeInvisible||!1;return Na(t,r,a,i.intersect,n,s)},x:(t,e,i,n)=>Va(t,Ar(e,t),"x",i.intersect,n),y:(t,e,i,n)=>Va(t,Ar(e,t),"y",i.intersect,n)}},Ba=["left","top","right","bottom"];function qa(t,e){return t.filter(t=>t.pos===e)}function Ya(t,e){return t.filter(t=>-1===Ba.indexOf(t.pos)&&t.box.axis===e)}function Ua(t,e){return t.sort((t,i)=>{var n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function Xa(t,e){var i,r,a,s=function(t){var e,i={},r=n(t);try{for(r.s();!(e=r.n()).done;){var a=e.value,s=a.stack,o=a.pos,l=a.stackWeight;if(s&&Ba.includes(o)){var c=i[s]||(i[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}}}catch(t){r.e(t)}finally{r.f()}return i}(t),o=e.vBoxMaxWidth,l=e.hBoxMaxHeight;for(i=0,r=t.length;i<r;++i){var c=(a=t[i]).box.fullSize,d=s[a.stack],h=d&&a.stackWeight/d.weight;a.horizontal?(a.width=h?h*o:c&&e.availableWidth,a.height=l):(a.width=o,a.height=h?h*l:c&&e.availableHeight)}return s}function Ka(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function Ga(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ja(t,e,i,n){var r=i.pos,a=i.box,s=t.maxPadding;if(!hi(r)){i.size&&(t[r]-=i.size);var o=n[i.stack]||{size:0,count:1};o.size=Math.max(o.size,i.horizontal?a.height:a.width),i.size=o.size/o.count,t[r]+=i.size}a.getPadding&&Ga(s,a.getPadding());var l=Math.max(0,e.outerWidth-Ka(s,t,"left","right")),c=Math.max(0,e.outerHeight-Ka(s,t,"top","bottom")),d=l!==t.w,h=c!==t.h;return t.w=l,t.h=c,i.horizontal?{same:d,other:h}:{same:h,other:d}}function Za(t,e){var i=e.maxPadding;function n(t){var n={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{n[t]=Math.max(e[t],i[t])}),n}return n(t?["left","right"]:["top","bottom"])}function Qa(t,e,i,n){var r,a,s,o,l,c,d=[];for(r=0,a=t.length,l=0;r<a;++r){(o=(s=t[r]).box).update(s.width||e.w,s.height||e.h,Za(s.horizontal,e));var h=Ja(e,i,s,n),u=h.same,f=h.other;l|=u&&d.length,c=c||f,o.fullSize||d.push(s)}return l&&Qa(d,e,i,n)||c}function ts(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function es(t,e,i,r){var a,s=i.padding,o=e.x,l=e.y,c=n(t);try{for(c.s();!(a=c.n()).done;){var d=a.value,h=d.box,u=r[d.stack]||{count:1,placed:0,weight:1},f=d.stackWeight/u.weight||1;if(d.horizontal){var p=e.w*f,g=u.size||h.height;Pi(u.start)&&(l=u.start),h.fullSize?ts(h,s.left,l,i.outerWidth-s.right-s.left,g):ts(h,e.left+u.placed,l,p,g),u.start=l,u.placed+=p,l=h.bottom}else{var v=e.h*f,m=u.size||h.width;Pi(u.start)&&(o=u.start),h.fullSize?ts(h,o,s.top,m,i.outerHeight-s.bottom-s.top):ts(h,o,e.top+u.placed,m,v),u.start=o,u.placed+=v,o=h.right}}}catch(t){c.e(t)}finally{c.f()}e.x=o,e.y=l}var is={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(t){var r=ir(t.options.layout.padding),a=Math.max(e-r.width,0),s=Math.max(i-r.height,0),o=function(t){var e=function(t){var e,i,n,r,a,s,o=[];for(e=0,i=(t||[]).length;e<i;++e){var l=n=t[e];r=l.position;var c=l.options;a=c.stack;var d=c.stackWeight;s=void 0===d?1:d,o.push({index:e,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&r+a,stackWeight:s})}return o}(t),i=Ua(e.filter(t=>t.box.fullSize),!0),n=Ua(qa(e,"left"),!0),r=Ua(qa(e,"right")),a=Ua(qa(e,"top"),!0),s=Ua(qa(e,"bottom")),o=Ya(e,"x"),l=Ya(e,"y");return{fullSize:i,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:qa(e,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}(t.boxes),l=o.vertical,c=o.horizontal;mi(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()});var d=l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/d,hBoxMaxHeight:s/2}),u=Object.assign({},r);Ga(u,ir(n));var f=Object.assign({maxPadding:u,w:a,h:s,x:r.left,y:r.top},r),p=Xa(l.concat(c),h);Qa(o.fullSize,f,h,p),Qa(l,f,h,p),Qa(c,f,h,p)&&Qa(l,f,h,p),function(t){var e=t.maxPadding;function i(i){var n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(f),es(o.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,es(o.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},mi(o.chartArea,e=>{var i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}}};class ns{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class rs extends ns{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}var as="$chartjs",ss={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},os=t=>null===t||""===t;var ls=!!Ir&&{passive:!0};function cs(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,ls)}function ds(t,e){var i,r=n(t);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a===e||a.contains(e))return!0}}catch(t){r.e(t)}finally{r.f()}}function hs(t,e,i){var r=t.canvas,a=new MutationObserver(t=>{var e,a=!1,s=n(t);try{for(s.s();!(e=s.n()).done;){var o=e.value;a=(a=a||ds(o.addedNodes,r))&&!ds(o.removedNodes,r)}}catch(t){s.e(t)}finally{s.f()}a&&i()});return a.observe(document,{childList:!0,subtree:!0}),a}function us(t,e,i){var r=t.canvas,a=new MutationObserver(t=>{var e,a=!1,s=n(t);try{for(s.s();!(e=s.n()).done;){var o=e.value;a=(a=a||ds(o.removedNodes,r))&&!ds(o.addedNodes,r)}}catch(t){s.e(t)}finally{s.f()}a&&i()});return a.observe(document,{childList:!0,subtree:!0}),a}var fs=new Map,ps=0;function gs(){var t=window.devicePixelRatio;t!==ps&&(ps=t,fs.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function vs(t,e,i){var n=t.canvas,r=n&&Tr(n);if(r){var a=dn((t,e)=>{var n=r.clientWidth;i(t,e),n<r.clientWidth&&i()},window),s=new ResizeObserver(t=>{var e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||a(i,n)});return s.observe(r),function(t,e){fs.size||window.addEventListener("resize",gs),fs.set(t,e)}(t,a),s}}function ms(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){fs.delete(t),fs.size||window.removeEventListener("resize",gs)}(t)}function bs(t,e,i){var n=t.canvas,r=dn(e=>{null!==t.ctx&&i(function(t,e){var i=ss[t.type]||t.type,n=Ar(t,e),r=n.x,a=n.y;return{type:i,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==a?a:null}}(e,t))},t);return function(t,e,i){t&&t.addEventListener(e,i,ls)}(n,e,r),r}class xs extends ns{acquireContext(t,e){var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){var i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[as]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",os(r)){var a=Rr(t,"width");void 0!==a&&(t.width=a)}if(os(n))if(""===t.style.height)t.height=t.width/(e||2);else{var s=Rr(t,"height");void 0!==s&&(t.height=s)}}(t,e),i):null}releaseContext(t){var e=t.canvas;if(!e[as])return!1;var i=e[as].initial;["height","width"].forEach(t=>{var n=i[t];ci(n)?e.removeAttribute(t):e.setAttribute(t,n)});var n=i.style||{};return Object.keys(n).forEach(t=>{e.style[t]=n[t]}),e.width=e.width,delete e[as],!0}addEventListener(t,e,i){this.removeEventListener(t,e);var n=t.$proxies||(t.$proxies={}),r={attach:hs,detach:us,resize:vs}[e]||bs;n[e]=r(t,e,i)}removeEventListener(t,e){var i=t.$proxies||(t.$proxies={}),n=i[e];n&&(({attach:ms,detach:ms,resize:ms}[e]||cs)(t,e,n),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return jr(t,e,i,n)}isAttached(t){var e=t&&Tr(t);return!(!e||!e.isConnected)}}class _s{constructor(){r(this,"x",void 0),r(this,"y",void 0),r(this,"active",!1),r(this,"options",void 0),r(this,"$animations",void 0)}tooltipPosition(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}hasValue(){return Bi(this.x)&&Bi(this.y)}getProps(t,e){var i=this.$animations;if(!e||!i)return this;var n={};return t.forEach(t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]}),n}}function ys(t,e){var i=t.options.ticks,n=function(t){var e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}(t),r=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(e):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>r)return function(t,e,i,n){var r,a=0,s=i[0];for(n=Math.ceil(n),r=0;r<t.length;r++)r===s&&(e.push(t[r]),s=i[++a*n])}(e,c,a,s/r),c;var d=function(t,e,i){var n=function(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),r=e.length/i;if(!n)return Math.max(r,1);for(var a=function(t){var e,i=[],n=Math.sqrt(t);for(e=1;e<n;e++)t%e===0&&(i.push(e),i.push(t/e));return n===(0|n)&&i.push(n),i.sort((t,e)=>t-e).pop(),i}(n),s=0,o=a.length-1;s<o;s++){var l=a[s];if(l>r)return l}return Math.max(r,1)}(a,e,r);if(s>0){var h,u,f=s>1?Math.round((l-o)/(s-1)):null;for(ws(e,c,d,ci(f)?0:o-f,o),h=0,u=s-1;h<u;h++)ws(e,c,d,a[h],a[h+1]);return ws(e,c,d,l,ci(f)?e.length:l+f),c}return ws(e,c,d),c}function ws(t,e,i,n,r){var a,s,o,l=pi(n,0),c=Math.min(pi(r,t.length),t.length),d=0;for(i=Math.ceil(i),r&&(i=(a=r-n)/Math.floor(a/i)),o=l;o<0;)d++,o=Math.round(l+d*i);for(s=Math.max(l,0);s<c;s++)s===o&&(e.push(t[s]),d++,o=Math.round(l+d*i))}r(_s,"defaults",{}),r(_s,"defaultRoutes",void 0);var $s=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,ks=(t,e)=>Math.min(e||t,t);function Ms(t,e){for(var i=[],n=t.length/e,r=t.length,a=0;a<r;a+=n)i.push(t[Math.floor(a)]);return i}function Cs(t,e,i){var n,r=t.ticks.length,a=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,l=1e-6,c=t.getPixelForTick(a);if(!(i&&(n=1===r?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(a-1))/2,(c+=a<e?n:-n)<s-l||c>o+l)))return c}function Ss(t){return t.drawTicks?t.tickLength:0}function Ts(t,e){if(!t.display)return 0;var i=nr(t.font,e),n=ir(t.padding);return(di(t.text)?t.text.length:1)*i.lineHeight+n.height}function Ps(t,e,i){var n=hn(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=(t=>"left"===t?"right":"right"===t?"left":t)(n)),n}class Ds extends _s{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){var t=this._userMin,e=this._userMax,i=this._suggestedMin,n=this._suggestedMax;return t=fi(t,Number.POSITIVE_INFINITY),e=fi(e,Number.NEGATIVE_INFINITY),i=fi(i,Number.POSITIVE_INFINITY),n=fi(n,Number.NEGATIVE_INFINITY),{min:fi(t,i),max:fi(e,n),minDefined:ui(t),maxDefined:ui(e)}}getMinMax(t){var e,i=this.getUserBounds(),n=i.min,r=i.max,a=i.minDefined,s=i.maxDefined;if(a&&s)return{min:n,max:r};for(var o=this.getMatchingVisibleMetas(),l=0,c=o.length;l<c;++l)e=o[l].controller.getMinMax(this,t),a||(n=Math.min(n,e.min)),s||(r=Math.max(r,e.max));return{min:fi(n=s&&n>r?r:n,fi(r=a&&n>r?n:r,n)),max:fi(r,fi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vi(this.options.beforeUpdate,[this])}update(t,e,i){var n=this.options,r=n.beginAtZero,a=n.grace,s=n.ticks,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,i){var n=t.min,r=t.max,a=gi(e,(r-n)/2),s=(t,e)=>i&&0===t?0:t+e;return{min:s(n,-Math.abs(a)),max:s(r,a)}}(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var l=o<this.ticks.length;this._convertTicksToLabels(l?Ms(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=ys(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){var t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vi(this.options.afterUpdate,[this])}beforeSetDimensions(){vi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),vi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){var e,i,n,r=this.options.ticks;for(e=0,i=t.length;e<i;e++)(n=t[e]).label=vi(r.callback,[n.value,e,t],this)}afterTickToLabelConversion(){vi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){var t,e,i,n=this.options,r=n.ticks,a=ks(this.ticks.length,n.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation,l=s;if(!this._isVisible()||!r.display||s>=o||a<=1||!this.isHorizontal())this.labelRotation=s;else{var c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,u=tn(this.chart.width-d,0,this.maxWidth);d+6>(t=n.offset?this.maxWidth/a:u/(a-1))&&(t=u/(a-(n.offset?.5:1)),e=this.maxHeight-Ss(n.grid)-r.padding-Ts(n.title,this.chart.options.font),i=Math.sqrt(d*d+h*h),l=Ui(Math.min(Math.asin(tn((c.highest.height+6)/t,-1,1)),Math.asin(tn(e/i,-1,1))-Math.asin(tn(h/i,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}}afterCalculateLabelRotation(){vi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vi(this.options.beforeFit,[this])}fit(){var t={width:0,height:0},e=this.chart,i=this.options,n=i.ticks,r=i.title,a=i.grid,s=this._isVisible(),o=this.isHorizontal();if(s){var l=Ts(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=Ss(a)+l):(t.height=this.maxHeight,t.width=Ss(a)+l),n.display&&this.ticks.length){var c=this._getLabelSizes(),d=c.first,h=c.last,u=c.widest,f=c.highest,p=2*n.padding,g=Yi(this.labelRotation),v=Math.cos(g),m=Math.sin(g);if(o){var b=n.mirror?0:m*u.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+b+p)}else{var x=n.mirror?0:v*u.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+x+p)}this._calculatePadding(d,h,m,v)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){var r=this.options,a=r.ticks,s=a.align,o=a.padding,l=r.position,c=0!==this.labelRotation,d="top"!==l&&"x"===this.axis;if(this.isHorizontal()){var h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;c?d?(f=n*t.width,p=i*e.height):(f=i*t.height,p=n*e.width):"start"===s?p=e.width:"end"===s?f=t.width:"inner"!==s&&(f=t.width/2,p=e.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-u+o)*this.width/(this.width-u),0)}else{var g=e.height/2,v=t.height/2;"start"===s?(g=0,v=t.height):"end"===s&&(g=e.height,v=0),this.paddingTop=g+o,this.paddingBottom=v+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vi(this.options.afterFit,[this])}isHorizontal(){var t=this.options,e=t.axis,i=t.position;return"top"===i||"bottom"===i||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){var e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)ci(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){var t=this._labelSizes;if(!t){var e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=Ms(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){var n,r,a,s,o,l,c,d,h,u,f,p=this.ctx,g=this._longestTextCache,v=[],m=[],b=Math.floor(e/ks(e,i)),x=0,_=0;for(n=0;n<e;n+=b){if(s=t[n].label,o=this._resolveTickFontOptions(n),p.font=l=o.string,c=g[l]=g[l]||{data:{},gc:[]},d=o.lineHeight,h=u=0,ci(s)||di(s)){if(di(s))for(r=0,a=s.length;r<a;++r)ci(f=s[r])||di(f)||(h=Ln(p,c.data,c.gc,h,f),u+=d)}else h=Ln(p,c.data,c.gc,h,s),u=d;v.push(h),m.push(u),x=Math.max(h,x),_=Math.max(u,_)}!function(t,e){mi(t,t=>{var i,n=t.gc,r=n.length/2;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}})}(g,e);var y=v.indexOf(x),w=m.indexOf(_),$=t=>({width:v[t]||0,height:m[t]||0});return{first:$(0),last:$(e-1),widest:$(y),highest:$(w),widths:v,heights:m}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);var e=this._startPixel+t*this._length;return tn(this._alignToPixels?En(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){var t=this.min,e=this.max;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){var e=this.ticks||[];if(t>=0&&t<e.length){var i=e[t];return i.$context||(i.$context=function(t,e,i){return ar(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=ar(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){var t=this.options.ticks,e=Yi(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,s=r?r.widest.width+a:0,o=r?r.highest.height+a:0;return this.isHorizontal()?o*i>s*n?s/i:o/n:o*n<s*i?o/i:s/n}_isVisible(){var t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){var e,i,n,r,a,s,o,l,c,d,h,u,f=this.axis,p=this.chart,g=this.options,v=g.grid,m=g.position,b=g.border,x=v.offset,_=this.isHorizontal(),y=this.ticks.length+(x?1:0),w=Ss(v),$=[],k=b.setContext(this.getContext()),M=k.display?k.width:0,C=M/2,S=function(t){return En(p,t,M)};if("top"===m)e=S(this.bottom),s=this.bottom-w,l=e-C,d=S(t.top)+C,u=t.bottom;else if("bottom"===m)e=S(this.top),d=t.top,u=S(t.bottom)-C,s=e+C,l=this.top+w;else if("left"===m)e=S(this.right),a=this.right-w,o=e-C,c=S(t.left)+C,h=t.right;else if("right"===m)e=S(this.left),c=t.left,h=S(t.right)-C,a=e+C,o=this.left+w;else if("x"===f){if("center"===m)e=S((t.top+t.bottom)/2+.5);else if(hi(m)){var T=Object.keys(m)[0],P=m[T];e=S(this.chart.scales[T].getPixelForValue(P))}d=t.top,u=t.bottom,l=(s=e+C)+w}else if("y"===f){if("center"===m)e=S((t.left+t.right)/2);else if(hi(m)){var D=Object.keys(m)[0],z=m[D];e=S(this.chart.scales[D].getPixelForValue(z))}o=(a=e-C)-w,c=t.left,h=t.right}var O=pi(g.ticks.maxTicksLimit,y),A=Math.max(1,Math.ceil(y/O));for(i=0;i<y;i+=A){var L=this.getContext(i),j=v.setContext(L),E=b.setContext(L),I=j.lineWidth,R=j.color,F=E.dash||[],H=E.dashOffset,N=j.tickWidth,V=j.tickColor,W=j.tickBorderDash||[],B=j.tickBorderDashOffset;void 0!==(n=Cs(this,i,x))&&(r=En(p,n,I),_?a=o=c=h=r:s=l=d=u=r,$.push({tx1:a,ty1:s,tx2:o,ty2:l,x1:c,y1:d,x2:h,y2:u,width:I,color:R,borderDash:F,borderDashOffset:H,tickWidth:N,tickColor:V,tickBorderDash:W,tickBorderDashOffset:B}))}return this._ticksLength=y,this._borderValue=e,$}_computeLabelItems(t){var e,i,n,r,a,s,o,l,c,d,h,u=this.axis,f=this.options,p=f.position,g=f.ticks,v=this.isHorizontal(),m=this.ticks,b=g.align,x=g.crossAlign,_=g.padding,y=g.mirror,w=Ss(f.grid),$=w+_,k=y?-_:$,M=-Yi(this.labelRotation),C=[],S="middle";if("top"===p)a=this.bottom-k,s=this._getXAxisLabelAlignment();else if("bottom"===p)a=this.top+k,s=this._getXAxisLabelAlignment();else if("left"===p){var T=this._getYAxisLabelAlignment(w);s=T.textAlign,r=T.x}else if("right"===p){var P=this._getYAxisLabelAlignment(w);s=P.textAlign,r=P.x}else if("x"===u){if("center"===p)a=(t.top+t.bottom)/2+$;else if(hi(p)){var D=Object.keys(p)[0],z=p[D];a=this.chart.scales[D].getPixelForValue(z)+$}s=this._getXAxisLabelAlignment()}else if("y"===u){if("center"===p)r=(t.left+t.right)/2-$;else if(hi(p)){var O=Object.keys(p)[0],A=p[O];r=this.chart.scales[O].getPixelForValue(A)}s=this._getYAxisLabelAlignment(w).textAlign}"y"===u&&("start"===b?S="top":"end"===b&&(S="bottom"));var L=this._getLabelSizes();for(e=0,i=m.length;e<i;++e){n=m[e].label;var j=g.setContext(this.getContext(e));o=this.getPixelForTick(e)+g.labelOffset,c=(l=this._resolveTickFontOptions(e)).lineHeight;var E=(d=di(n)?n.length:1)/2,I=j.color,R=j.textStrokeColor,F=j.textStrokeWidth,H=s;v?(r=o,"inner"===s&&(H=e===i-1?this.options.reverse?"left":"right":0===e?this.options.reverse?"right":"left":"center"),h="top"===p?"near"===x||0!==M?-d*c+c/2:"center"===x?-L.highest.height/2-E*c+c:-L.highest.height+c/2:"near"===x||0!==M?c/2:"center"===x?L.highest.height/2-E*c:L.highest.height-d*c,y&&(h*=-1),0===M||j.showLabelBackdrop||(r+=c/2*Math.sin(M))):(a=o,h=(1-d)*c/2);var N=void 0;if(j.showLabelBackdrop){var V=ir(j.backdropPadding),W=L.heights[e],B=L.widths[e],q=h-V.top,Y=0-V.left;switch(S){case"middle":q-=W/2;break;case"bottom":q-=W}switch(s){case"center":Y-=B/2;break;case"right":Y-=B;break;case"inner":e===i-1?Y-=B:e>0&&(Y-=B/2)}N={left:Y,top:q,width:B+V.width,height:W+V.height,color:j.backdropColor}}C.push({label:n,font:l,textOffset:h,options:{rotation:M,color:I,strokeColor:R,strokeWidth:F,textAlign:H,textBaseline:S,translation:[r,a],backdrop:N}})}return C}_getXAxisLabelAlignment(){var t=this.options,e=t.position,i=t.ticks;if(-Yi(this.labelRotation))return"top"===e?"left":"right";var n="center";return"start"===i.align?n="left":"end"===i.align?n="right":"inner"===i.align&&(n="inner"),n}_getYAxisLabelAlignment(t){var e,i,n=this.options,r=n.position,a=n.ticks,s=a.crossAlign,o=a.mirror,l=a.padding,c=t+l,d=this._getLabelSizes().widest.width;return"left"===r?o?(i=this.right+l,"near"===s?e="left":"center"===s?(e="center",i+=d/2):(e="right",i+=d)):(i=this.right-c,"near"===s?e="right":"center"===s?(e="center",i-=d/2):(e="left",i=this.left)):"right"===r?o?(i=this.left+l,"near"===s?e="right":"center"===s?(e="center",i-=d/2):(e="left",i-=d)):(i=this.left+c,"near"===s?e="left":"center"===s?(e="center",i+=d/2):(e="right",i=this.right)):e="right",{textAlign:e,x:i}}_computeLabelArea(){if(!this.options.ticks.mirror){var t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}}drawBackground(){var t=this.ctx,e=this.options.backgroundColor,i=this.left,n=this.top,r=this.width,a=this.height;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,a),t.restore())}getLineWidthForValue(t){var e=this.options.grid;if(!this._isVisible()||!e.display)return 0;var i=this.ticks.findIndex(e=>e.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){var e,i,n=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s=(t,e,i)=>{i.width&&i.color&&(r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.setLineDash(i.borderDash||[]),r.lineDashOffset=i.borderDashOffset,r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.stroke(),r.restore())};if(n.display)for(e=0,i=a.length;e<i;++e){var o=a[e];n.drawOnChartArea&&s({x:o.x1,y:o.y1},{x:o.x2,y:o.y2},o),n.drawTicks&&s({x:o.tx1,y:o.ty1},{x:o.tx2,y:o.ty2},{color:o.tickColor,width:o.tickWidth,borderDash:o.tickBorderDash,borderDashOffset:o.tickBorderDashOffset})}}drawBorder(){var t=this.chart,e=this.ctx,i=this.options,n=i.border,r=i.grid,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(s){var o,l,c,d,h=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;this.isHorizontal()?(o=En(t,this.left,s)-s/2,l=En(t,this.right,h)+h/2,c=d=u):(c=En(t,this.top,s)-s/2,d=En(t,this.bottom,h)+h/2,o=l=u),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(o,c),e.lineTo(l,d),e.stroke(),e.restore()}}drawLabels(t){if(this.options.ticks.display){var e=this.ctx,i=this._computeLabelArea();i&&Nn(e,i);var r,a=n(this.getLabelItems(t));try{for(a.s();!(r=a.n()).done;){var s=r.value,o=s.options,l=s.font;Un(e,s.label,0,s.textOffset,l,o)}}catch(t){a.e(t)}finally{a.f()}i&&Vn(e)}}drawTitle(){var t=this.ctx,e=this.options,i=e.position,n=e.title,r=e.reverse;if(n.display){var a=nr(n.font),s=ir(n.padding),o=n.align,l=a.lineHeight/2;"bottom"===i||"center"===i||hi(i)?(l+=s.bottom,di(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;var c=function(t,e,i,n){var r,a,s,o=t.top,l=t.left,c=t.bottom,d=t.right,h=t.chart,u=h.chartArea,f=h.scales,p=0,g=c-o,v=d-l;if(t.isHorizontal()){if(a=un(n,l,d),hi(i)){var m=Object.keys(i)[0],b=i[m];s=f[m].getPixelForValue(b)+g-e}else s="center"===i?(u.bottom+u.top)/2+g-e:$s(t,i,e);r=d-l}else{if(hi(i)){var x=Object.keys(i)[0],_=i[x];a=f[x].getPixelForValue(_)-v+e}else a="center"===i?(u.left+u.right)/2-v+e:$s(t,i,e);s=un(n,c,o),p="left"===i?-Ii:Ii}return{titleX:a,titleY:s,maxWidth:r,rotation:p}}(this,l,i,o),d=c.titleX,h=c.titleY,u=c.maxWidth,f=c.rotation;Un(t,n.text,0,0,a,{color:n.color,maxWidth:u,rotation:f,textAlign:Ps(o,i,r),textBaseline:"middle",translation:[d,h]})}}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){var t=this.options,e=t.ticks&&t.ticks.z||0,i=pi(t.grid&&t.grid.z,-1),n=pi(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Ds.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){var e,i,n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];for(e=0,i=n.length;e<i;++e){var s=n[e];s[r]!==this.id||t&&s.type!==t||a.push(s)}return a}_resolveTickFontOptions(t){return nr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){var t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class zs{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){var e,i=Object.getPrototypeOf(t);(function(t){return"id"in t&&"defaults"in t})(i)&&(e=this.register(i));var n=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,function(t,e,i){var n=wi(Object.create(null),[i?An.get(i):{},An.get(e),t.defaults]);An.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(i=>{var n=i.split("."),r=n.pop(),a=[t].concat(n).join("."),s=e[i].split("."),o=s.pop(),l=s.join(".");An.route(a,r,l,o)})}(e,t.defaultRoutes);t.descriptors&&An.describe(e,t.descriptors)}(t,a,e),this.override&&An.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){var e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in An[n]&&(delete An[n][i],this.override&&delete Tn[i])}}class Os{constructor(){this.controllers=new zs(ma,"datasets",!0),this.elements=new zs(_s,"elements"),this.plugins=new zs(Object,"plugins"),this.scales=new zs(Ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.scales)}_each(t,e,i){[...e].forEach(e=>{var n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):mi(e,e=>{var n=i||this._getRegistryForType(e);this._exec(t,n,e)})})}_exec(t,e,i){var n=Ti(t);vi(i["before"+n],[],i),e[t](i),vi(i["after"+n],[],i)}_getRegistryForType(t){for(var e=0;e<this._typedRegistries.length;e++){var i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){var n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var As=new Os;class Ls{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));var r=n?this._descriptors(t).filter(n):this._descriptors(t),a=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};var a,s=n(t);try{for(s.s();!(a=s.n()).done;){var o=a.value,l=o.plugin;if(!1===vi(l[i],[e,r,o.options],l)&&r.cancelable)return!1}}catch(t){s.e(t)}finally{s.f()}return!0}invalidate(){ci(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;var e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){var i=t&&t.config,r=pi(i.options&&i.options.plugins,{}),a=function(t){for(var e={},i=[],n=Object.keys(As.plugins.items),r=0;r<n.length;r++)i.push(As.getPlugin(n[r]));for(var a=t.plugins||[],s=0;s<a.length;s++){var o=a[s];-1===i.indexOf(o)&&(i.push(o),e[o.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==r||e?function(t,e,i,r){var a,s=e.plugins,o=e.localIds,l=[],c=t.getContext(),d=n(s);try{for(d.s();!(a=d.n()).done;){var h=a.value,u=h.id,f=js(i[u],r);null!==f&&l.push({plugin:h,options:Es(t.config,{plugin:h,local:o[u]},f,c)})}}catch(t){d.e(t)}finally{d.f()}return l}(t,a,r,e):[]}_notifyStateChanges(t){var e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function js(t,e){return e||!1!==t?!0===t?{}:t:null}function Es(t,e,i,n){var r=e.plugin,a=e.local,s=t.pluginScopeKeys(r),o=t.getOptionScopes(i,s);return a&&r.defaults&&o.push(r.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Is(t,e){var i=An.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Rs(t){if("x"===t||"y"===t||"r"===t)return t}function Fs(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function Hs(t){if(Rs(t))return t;for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=0,a=i;r<a.length;r++){var s=a[r],o=s.axis||Fs(s.position)||t.length>1&&Rs(t[0].toLowerCase());if(o)return o}throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function Ns(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Vs(t,e){var i=Tn[t.type]||{scales:{}},n=e.scales||{},r=Is(t.type,e),a=Object.create(null);return Object.keys(n).forEach(e=>{var s=n[e];if(!hi(s))return console.error("Invalid scale configuration for scale: ".concat(e));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));var o=Hs(e,s,function(t,e){if(e.data&&e.data.datasets){var i=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(i.length)return Ns(t,"x",i[0])||Ns(t,"y",i[0])}return{}}(e,t),An.scales[s.type]),l=function(t,e){return t===e?"_index_":"_value_"}(o,r),c=i.scales||{};a[e]=$i(Object.create(null),[{axis:o},s,c[o],c[l]])}),t.data.datasets.forEach(i=>{var r=i.type||t.type,s=i.indexAxis||Is(r,e),o=(Tn[r]||{}).scales||{};Object.keys(o).forEach(t=>{var e=function(t,e){var i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,s),r=i[e+"AxisID"]||e;a[r]=a[r]||Object.create(null),$i(a[r],[{axis:e},n[r],o[t]])})}),Object.keys(a).forEach(t=>{var e=a[t];$i(e,[An.scales[e.type],An.scale])}),a}function Ws(t){var e=t.options||(t.options={});e.plugins=pi(e.plugins,{}),e.scales=Vs(t,e)}function Bs(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}var qs=new Map,Ys=new Set;function Us(t,e){var i=qs.get(t);return i||(i=e(),qs.set(t,i),Ys.add(i)),i}var Xs=(t,e,i)=>{var n=Si(e,i);void 0!==n&&t.add(n)};class Ks{constructor(t){this._config=function(t){return(t=t||{}).data=Bs(t.data),Ws(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Bs(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){var t=this._config;this.clearCache(),Ws(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Us(t,()=>[["datasets.".concat(t),""]])}datasetAnimationScopeKeys(t,e){return Us("".concat(t,".transition.").concat(e),()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]])}datasetElementScopeKeys(t,e){return Us("".concat(t,"-").concat(e),()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]])}pluginScopeKeys(t){var e=t.id,i=this.type;return Us("".concat(i,"-plugin-").concat(e),()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){var i=this._scopeCache,n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){var n=this.options,r=this.type,a=this._cachedScopes(t,i),s=a.get(e);if(s)return s;var o=new Set;e.forEach(e=>{t&&(o.add(t),e.forEach(e=>Xs(o,t,e))),e.forEach(t=>Xs(o,n,t)),e.forEach(t=>Xs(o,Tn[r]||{},t)),e.forEach(t=>Xs(o,An,t)),e.forEach(t=>Xs(o,Pn,t))});var l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Ys.has(e)&&a.set(e,l),l}chartOptionScopes(){var t=this.options,e=this.type;return[t,Tn[e]||{},An.datasets[e]||{},{type:e},An,Pn]}resolveNamedOptions(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],a={$shared:!0},s=Gs(this._resolverCache,t,r),o=s.resolver,l=s.subPrefixes,c=o;(function(t,e){var i,r=lr(t),a=r.isScriptable,s=r.isIndexable,o=n(e);try{for(o.s();!(i=o.n()).done;){var l=i.value,c=a(l),d=s(l),h=(d||c)&&t[l];if(c&&(Di(h)||Js(h))||d&&di(h))return!0}}catch(t){o.e(t)}finally{o.f()}return!1})(o,e)&&(a.$shared=!1,c=or(o,i=Di(i)?i():i,this.createResolver(t,i,l)));var d,h=n(e);try{for(h.s();!(d=h.n()).done;){var u=d.value;a[u]=c[u]}}catch(t){h.e(t)}finally{h.f()}return a}createResolver(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0,r=Gs(this._resolverCache,t,i).resolver;return hi(e)?or(r,e,void 0,n):r}}function Gs(t,e,i){var n=t.get(e);n||(n=new Map,t.set(e,n));var r=i.join(),a=n.get(r);a||(a={resolver:sr(e,i),subPrefixes:i.filter(t=>!t.toLowerCase().includes("hover"))},n.set(r,a));return a}var Js=t=>hi(t)&&Object.getOwnPropertyNames(t).some(e=>Di(t[e]));var Zs=["top","bottom","left","right","chartArea"];function Qs(t,e){return"top"===t||"bottom"===t||-1===Zs.indexOf(t)&&"x"===e}function to(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function eo(t){var e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),vi(i&&i.onComplete,[t],e)}function io(t){var e=t.chart,i=e.options.animation;vi(i&&i.onProgress,[t],e)}function no(t){return Sr()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var ro={},ao=t=>{var e=no(t);return Object.values(ro).filter(t=>t.canvas===e).pop()};function so(t,e,i){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n],s=+a;if(s>=e){var o=t[a];delete t[a],(i>0||s>e)&&(t[s+i]=o)}}}class oo{static register(){As.add(...arguments),lo()}static unregister(){As.remove(...arguments),lo()}constructor(t,e){var i=this.config=new Ks(e),n=no(t),r=ao(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");var a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(t){return!Sr()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?rs:xs}(n)),this.platform.updateConfig(i);var s,o,l,c=this.platform.acquireContext(n,a.aspectRatio),d=c&&c.canvas,h=d&&d.height,u=d&&d.width;this.id=li(),this.ctx=c,this.canvas=d,this.width=u,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ls,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(s=t=>this.update(t),o=a.resizeDelay||0,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return o?(clearTimeout(l),l=setTimeout(s,o,e)):s.apply(this,e),o}),this._dataChanges=[],ro[this.id]=this,c&&d?(ea.listen(this,"complete",eo),ea.listen(this,"progress",io),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){var t=this.options,e=t.aspectRatio,i=t.maintainAspectRatio,n=this.width,r=this.height,a=this._aspectRatio;return ci(e)?i&&a?a:r?n/r:null:e}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return As}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Er(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return In(this.canvas,this.ctx),this}stop(){return ea.stop(this),this}resize(t,e){ea.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){var i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,t,e,r),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Er(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),vi(i.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){mi(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){var t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce((t,e)=>(t[e]=!1,t),{}),r=[];e&&(r=r.concat(Object.keys(e).map(t=>{var i=e[t],n=Hs(t,i),r="r"===n,a="x"===n;return{options:i,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),mi(r,e=>{var r=e.options,a=r.id,s=Hs(a,r),o=pi(r.type,e.dtype);void 0!==r.position&&Qs(r.position,s)===Qs(e.dposition)||(r.position=e.dposition),n[a]=!0;var l=null;a in i&&i[a].type===o?l=i[a]:(l=new(As.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),i[l.id]=l);l.init(r,t)}),mi(n,(t,e)=>{t||delete i[e]}),mi(i,t=>{is.configure(this,t,t.options),is.addBox(this,t)})}_updateMetasets(){var t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((t,e)=>t.index-e.index),i>e){for(var n=e;n<i;++n)this._destroyDatasetMeta(n);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(to("order","index"))}_removeUnreferencedMetasets(){var t=this._metasets,e=this.data.datasets;t.length>e.length&&delete this._stacks,t.forEach((t,i)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){var t,e,i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),t=0,e=n.length;t<e;t++){var r=n[t],a=this.getDatasetMeta(t),s=r.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(t),a=this.getDatasetMeta(t)),a.type=s,a.indexAxis=r.indexAxis||Is(s,this.options),a.order=r.order||0,a.index=t,a.label=""+r.label,a.visible=this.isDatasetVisible(t),a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{var o=As.getController(s),l=An.datasets[s],c=l.datasetElementType,d=l.dataElementType;Object.assign(o,{dataElementType:As.getElement(d),datasetElementType:c&&As.getElement(c)}),a.controller=new o(this,t),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){mi(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){var e=this.config;e.update();var i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){var r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var a=0,s=0,o=this.data.datasets.length;s<o;s++){var l=this.getDatasetMeta(s).controller,c=!n&&-1===r.indexOf(l);l.buildOrUpdateElements(c),a=Math.max(+l.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),n||mi(r,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(to("z","_idx"));var d=this._active,h=this._lastEvent;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}}_updateScales(){mi(this.scales,t=>{is.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){var t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);zi(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){var t,e=this._hiddenIndices,i=n(this._getUniformDataChanges()||[]);try{for(i.s();!(t=i.n()).done;){var r=t.value,a=r.method,s=r.start,o=r.count;so(e,s,"_removeElements"===a?-o:o)}}catch(t){i.e(t)}finally{i.f()}}_getUniformDataChanges(){var t=this._dataChanges;if(t&&t.length){this._dataChanges=[];for(var e=this.data.datasets.length,i=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),n=i(0),r=1;r<e;r++)if(!zi(n,i(r)))return;return Array.from(n).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}}_updateLayout(t){if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){is.update(this,this.width,this.height,t);var e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],mi(this.boxes,t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(var e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(var n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Di(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){var i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ea.has(this)?this.attached&&!ea.running(this)&&ea.start(this):(this.draw(),eo({chart:this})))}draw(){var t;if(this._resizeBeforeDraw){var e=this._resizeBeforeDraw,i=e.width,n=e.height;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}}_getSortedDatasetMetas(t){var e,i,n=this._sortedMetasets,r=[];for(e=0,i=n.length;e<i;++e){var a=n[e];t&&!a.visible||r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=this.getSortedVisibleDatasetMetas(),e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}}_drawDataset(t){var e=this.ctx,i={meta:t,index:t.index,cancelable:!0},n=Qr(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(n&&Nn(e,n),t.controller.draw(),n&&Vn(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Hn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){var r=Wa.modes[e];return"function"==typeof r?r(this,t,i,n):[]}getDatasetMeta(t){var e=this.data.datasets[t],i=this._metasets,n=i.filter(t=>t&&t._dataset===e).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=ar(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){var e=this.data.datasets[t];if(!e)return!1;var i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){var n=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,n);Pi(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(e=>e.datasetIndex===t?n:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){var e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){var t,e;for(this.stop(),ea.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");var t=this.canvas,e=this.ctx;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),In(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ro[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){var t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};mi(this.options.events,t=>i(t,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});var t,e=this._responsiveListeners,i=this.platform,n=(t,n)=>{i.addEventListener(this,t,n),e[t]=n},r=(t,n)=>{e[t]&&(i.removeEventListener(this,t,n),delete e[t])},a=(t,e)=>{this.canvas&&this.resize(t,e)},s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",a),n("detach",t)};t=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",s)},i.isAttached(this.canvas)?s():t()}unbindEvents(){mi(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},mi(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){var n,r,a,s=i?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+s+"DatasetHoverStyle"](),r=0,a=t.length;r<a;++r){var o=(n=t[r])&&this.getDatasetMeta(n.datasetIndex).controller;o&&o[s+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){var e=this._active||[],i=t.map(t=>{var e=t.datasetIndex,i=t.index,n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[i],index:i}});!bi(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){var n=this.options.hover,r=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),a=r(e,t),s=i?t:r(t,e);a.length&&this.updateHoverStyle(a,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(t,e){var i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1!==this.notifyPlugins("beforeEvent",i,n)){var r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}}_handleEvent(t,e,i){var n=this._active,r=void 0===n?[]:n,a=this.options,s=e,o=this._getActiveElements(t,r,i,s),l=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),c=function(t,e,i,n){return i&&"mouseout"!==t.type?n?e:t:null}(t,this._lastEvent,i,l);i&&(this._lastEvent=null,vi(a.onHover,[t,o,this],this),l&&vi(a.onClick,[t,o,this],this));var d=!bi(o,r);return(d||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=c,d}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;var r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}function lo(){return mi(oo.instances,t=>t._plugins.invalidate())}function co(t,e,i,n){var r=Qn(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(i-e)/2,s=Math.min(a,n*e/2),o=t=>{var e=(i-Math.min(a,t))*n/2;return tn(t,0,Math.min(a,e))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:tn(r.innerStart,0,s),innerEnd:tn(r.innerEnd,0,s)}}function ho(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function uo(t,e,i,n,r,a){var s=e.x,o=e.y,l=e.startAngle,c=e.pixelMargin,d=e.innerRadius,h=Math.max(e.outerRadius+n+i-c,0),u=d>0?d+n+i+c:0,f=0,p=r-l;if(n){var g=((d>0?d-n:0)+(h>0?h-n:0))/2;f=(p-(0!==g?p*g/(g+n):p))/2}var v=(p-Math.max(.001,p*h-i/Oi)/h)/2,m=l+v+f,b=r-v-f,x=co(e,u,h,b-m),_=x.outerStart,y=x.outerEnd,w=x.innerStart,$=x.innerEnd,k=h-_,M=h-y,C=m+_/k,S=b-y/M,T=u+w,P=u+$,D=m+w/T,z=b-$/P;if(t.beginPath(),a){var O=(C+S)/2;if(t.arc(s,o,h,C,O),t.arc(s,o,h,O,S),y>0){var A=ho(M,S,s,o);t.arc(A.x,A.y,y,S,b+Ii)}var L=ho(P,b,s,o);if(t.lineTo(L.x,L.y),$>0){var j=ho(P,z,s,o);t.arc(j.x,j.y,$,b+Ii,z+Math.PI)}var E=(b-$/u+(m+w/u))/2;if(t.arc(s,o,u,b-$/u,E,!0),t.arc(s,o,u,E,m+w/u,!0),w>0){var I=ho(T,D,s,o);t.arc(I.x,I.y,w,D+Math.PI,m-Ii)}var R=ho(k,m,s,o);if(t.lineTo(R.x,R.y),_>0){var F=ho(k,C,s,o);t.arc(F.x,F.y,_,m-Ii,C)}}else{t.moveTo(s,o);var H=Math.cos(C)*h+s,N=Math.sin(C)*h+o;t.lineTo(H,N);var V=Math.cos(S)*h+s,W=Math.sin(S)*h+o;t.lineTo(V,W)}t.closePath()}function fo(t,e,i,n,r){var a=e.fullCircles,s=e.startAngle,o=e.circumference,l=e.options,c=l.borderWidth,d=l.borderJoinStyle,h=l.borderDash,u=l.borderDashOffset,f=l.borderRadius,p="inner"===l.borderAlign;if(c){t.setLineDash(h||[]),t.lineDashOffset=u,p?(t.lineWidth=2*c,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");var g=e.endAngle;if(a){uo(t,e,i,n,g,r);for(var v=0;v<a;++v)t.stroke();isNaN(o)||(g=s+(o%Ai||Ai))}p&&function(t,e,i){var n=e.startAngle,r=e.pixelMargin,a=e.x,s=e.y,o=e.outerRadius,l=e.innerRadius,c=r/o;t.beginPath(),t.arc(a,s,o,n-c,i+c),l>r?(c=r/l,t.arc(a,s,l,i+c,n-c,!0)):t.arc(a,s,r,i+Ii,n-Ii),t.closePath(),t.clip()}(t,e,g),l.selfJoin&&g-s>=Oi&&0===f&&"miter"!==d&&function(t,e,i){var n=e.startAngle,r=e.x,a=e.y,s=e.outerRadius,o=e.innerRadius,l=e.options,c=l.borderWidth,d=l.borderJoinStyle,h=Math.min(c/s,Zi(n-i));if(t.beginPath(),t.arc(r,a,s-c/2,n+h/2,i-h/2),o>0){var u=Math.min(c/o,Zi(n-i));t.arc(r,a,o+c/2,i-u/2,n+u/2,!0)}else{var f=Math.min(c/2,s*Zi(n-i));if("round"===d)t.arc(r,a,f,i-Oi/2,n+Oi/2,!0);else if("bevel"===d){var p=2*f*f,g=-p*Math.cos(i+Oi/2)+r,v=-p*Math.sin(i+Oi/2)+a,m=p*Math.cos(n+Oi/2)+r,b=p*Math.sin(n+Oi/2)+a;t.lineTo(g,v),t.lineTo(m,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}(t,e,g),a||(uo(t,e,i,n,g,r),t.stroke())}}r(oo,"defaults",An),r(oo,"instances",ro),r(oo,"overrides",Tn),r(oo,"registry",As),r(oo,"version","4.5.0"),r(oo,"getChart",ao);class po extends _s{constructor(t){super(),r(this,"circumference",void 0),r(this,"endAngle",void 0),r(this,"fullCircles",void 0),r(this,"innerRadius",void 0),r(this,"outerRadius",void 0),r(this,"pixelMargin",void 0),r(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){var n=Ki(this.getProps(["x","y"],i),{x:t,y:e}),r=n.angle,a=n.distance,s=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),o=s.startAngle,l=s.endAngle,c=s.innerRadius,d=s.outerRadius,h=s.circumference,u=(this.options.spacing+this.options.borderWidth)/2,f=pi(h,l-o),p=Qi(r,o,l)&&o!==l,g=f>=Ai||p,v=en(a,c+u,d+u);return g&&v}getCenterPoint(t){var e=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),i=e.x,n=e.y,r=e.startAngle,a=e.endAngle,s=e.innerRadius,o=e.outerRadius,l=this.options,c=l.offset,d=(r+a)/2,h=(s+o+l.spacing+c)/2;return{x:i+Math.cos(d)*h,y:n+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){var e=this.options,i=this.circumference,n=(e.offset||0)/4,r=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Ai?Math.floor(i/Ai):0,!(0===i||this.innerRadius<0||this.outerRadius<0)){t.save();var s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*n,Math.sin(s)*n);var o=n*(1-Math.sin(Math.min(Oi,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,n,r){var a=e.fullCircles,s=e.startAngle,o=e.circumference,l=e.endAngle;if(a){uo(t,e,i,n,l,r);for(var c=0;c<a;++c)t.fill();isNaN(o)||(l=s+(o%Ai||Ai))}uo(t,e,i,n,l,r),t.fill()}(t,this,o,r,a),fo(t,this,o,r,a),t.restore()}}}function go(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=pi(i.borderCapStyle,e.borderCapStyle),t.setLineDash(pi(i.borderDash,e.borderDash)),t.lineDashOffset=pi(i.borderDashOffset,e.borderDashOffset),t.lineJoin=pi(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=pi(i.borderWidth,e.borderWidth),t.strokeStyle=pi(i.borderColor,e.borderColor)}function vo(t,e,i){t.lineTo(i.x,i.y)}function mo(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.length,r=i.start,a=void 0===r?0:r,s=i.end,o=void 0===s?n-1:s,l=e.start,c=e.end,d=Math.max(a,l),h=Math.min(o,c),u=a<l&&o<l||a>c&&o>c;return{count:n,start:d,loop:e.loop,ilen:h<d&&!u?n+h-d:h-d}}function bo(t,e,i,n){var r,a,s,o=e.points,l=e.options,c=mo(o,i,n),d=c.count,h=c.start,u=c.loop,f=c.ilen,p=function(t){return t.stepped?Wn:t.tension||"monotone"===t.cubicInterpolationMode?Bn:vo}(l),g=n||{},v=g.move,m=void 0===v||v,b=g.reverse;for(r=0;r<=f;++r)(a=o[(h+(b?f-r:r))%d]).skip||(m?(t.moveTo(a.x,a.y),m=!1):p(t,s,a,b,l.stepped),s=a);return u&&p(t,s,a=o[(h+(b?f:0))%d],b,l.stepped),!!u}function xo(t,e,i,n){var r,a,s,o,l,c,d=e.points,h=mo(d,i,n),u=h.count,f=h.start,p=h.ilen,g=n||{},v=g.move,m=void 0===v||v,b=g.reverse,x=0,_=0,y=t=>(f+(b?p-t:t))%u,w=()=>{o!==l&&(t.lineTo(x,l),t.lineTo(x,o),t.lineTo(x,c))};for(m&&(a=d[y(0)],t.moveTo(a.x,a.y)),r=0;r<=p;++r)if(!(a=d[y(r)]).skip){var $=a.x,k=a.y,M=0|$;M===s?(k<o?o=k:k>l&&(l=k),x=(_*x+$)/++_):(w(),t.lineTo($,k),s=M,_=0,o=l=k),c=k}w()}function _o(t){var e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?xo:bo}r(po,"id","arc"),r(po,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),r(po,"defaultRoutes",{backgroundColor:"backgroundColor"}),r(po,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});var yo="function"==typeof Path2D;function wo(t,e,i,r){yo&&!e.options.segment?function(t,e,i,n){var r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),go(t,e.options),t.stroke(r)}(t,e,i,r):function(t,e,i,r){var a,s=e.segments,o=e.options,l=_o(e),c=n(s);try{for(c.s();!(a=c.n()).done;){var d=a.value;go(t,o,d.style),t.beginPath(),l(t,e,d,{start:i,end:i+r-1})&&t.closePath(),t.stroke()}}catch(t){c.e(t)}finally{c.f()}}(t,e,i,r)}class $o extends _s{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){var i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){var n=i.spanGaps?this._loop:this._fullLoop;Cr(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){var i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];var a=!!t._loop,s=function(t,e,i,n){var r=0,a=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(a+=r);a>r&&t[a%e].skip;)a--;return{start:r,end:a%=e}}(i,r,a,n),o=s.start,l=s.end;return Kr(t,!0===n?[{start:o,end:l,loop:a}]:function(t,e,i,n){var r,a=t.length,s=[],o=e,l=t[e];for(r=e+1;r<=i;++r){var c=t[r%a];c.skip||c.stop?l.skip||(n=!1,s.push({start:e%a,end:(r-1)%a,loop:n}),e=o=c.stop?r:null):(o=r,l.skip&&(e=r)),l=c}return null!==o&&s.push({start:e%a,end:o%a,loop:n}),s}(i,o,l<o?l+r:l,!!t._fullLoop&&0===o&&l===r-1),i,e)}(this,this.options.segment))}first(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){var t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){var i=this.options,n=t[e],r=this.points,a=Xr(this,{property:e,start:n,end:n});if(a.length){var s,o,l=[],c=function(t){return t.stepped?Hr:t.tension||"monotone"===t.cubicInterpolationMode?Nr:Fr}(i);for(s=0,o=a.length;s<o;++s){var d=a[s],h=d.start,u=d.end,f=r[h],p=r[u];if(f!==p){var g=c(f,p,Math.abs((n-f[e])/(p[e]-f[e])),i.stepped);g[e]=t[e],l.push(g)}else l.push(f)}return 1===l.length?l[0]:l}}pathSegment(t,e,i){return _o(this)(t,this,e,i)}path(t,e,i){var r=this.segments,a=_o(this),s=this._loop;e=e||0,i=i||this.points.length-e;var o,l=n(r);try{for(l.s();!(o=l.n()).done;){s&=a(t,this,o.value,{start:e,end:e+i-1})}}catch(t){l.e(t)}finally{l.f()}return!!s}draw(t,e,i,n){var r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),wo(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ko(t,e,i,n){var r=t.options,a=t.getProps([i],n)[i];return Math.abs(e-a)<r.radius+r.hitRadius}r($o,"id","line"),r($o,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),r($o,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),r($o,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Mo extends _s{constructor(t){super(),r(this,"parsed",void 0),r(this,"skip",void 0),r(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){var n=this.options,r=this.getProps(["x","y"],i),a=r.x,s=r.y;return Math.pow(t-a,2)+Math.pow(e-s,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return ko(this,t,"x",e)}inYRange(t,e){return ko(this,t,"y",e)}getCenterPoint(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}size(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}draw(t,e){var i=this.options;this.skip||i.radius<.1||!Hn(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Rn(t,i,this.x,this.y))}getRange(){var t=this.options||{};return t.radius+t.hitRadius}}function Co(t,e){var i,n,r,a,s,o=t.getProps(["x","y","base","width","height"],e),l=o.x,c=o.y,d=o.base,h=o.width,u=o.height;return t.horizontal?(s=u/2,i=Math.min(l,d),n=Math.max(l,d),r=c-s,a=c+s):(i=l-(s=h/2),n=l+s,r=Math.min(c,d),a=Math.max(c,d)),{left:i,top:r,right:n,bottom:a}}function So(t,e,i,n){return t?0:tn(e,i,n)}function To(t){var e=Co(t),i=e.right-e.left,n=e.bottom-e.top,r=function(t,e,i){var n=t.options.borderWidth,r=t.borderSkipped,a=tr(n);return{t:So(r.top,a.top,0,i),r:So(r.right,a.right,0,e),b:So(r.bottom,a.bottom,0,i),l:So(r.left,a.left,0,e)}}(t,i/2,n/2),a=function(t,e,i){var n=t.getProps(["enableBorderRadius"]).enableBorderRadius,r=t.options.borderRadius,a=er(r),s=Math.min(e,i),o=t.borderSkipped,l=n||hi(r);return{topLeft:So(!l||o.top||o.left,a.topLeft,0,s),topRight:So(!l||o.top||o.right,a.topRight,0,s),bottomLeft:So(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:So(!l||o.bottom||o.right,a.bottomRight,0,s)}}(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:a},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function Po(t,e,i,n){var r=null===e,a=null===i,s=t&&!(r&&a)&&Co(t,n);return s&&(r||en(e,s.left,s.right))&&(a||en(i,s.top,s.bottom))}function Do(t,e){t.rect(e.x,e.y,e.w,e.h)}function zo(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,a=(t.x+t.w!==i.x+i.w?e:0)-n,s=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+a,h:t.h+s,radius:t.radius}}r(Mo,"id","point"),r(Mo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),r(Mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Oo extends _s{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){var e,i=this.inflateAmount,n=this.options,r=n.borderColor,a=n.backgroundColor,s=To(this),o=s.inner,l=s.outer,c=(e=l.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?Xn:Do;t.save(),l.w===o.w&&l.h===o.h||(t.beginPath(),c(t,zo(l,i,o)),t.clip(),c(t,zo(o,-i,l)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),c(t,zo(o,i)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return Po(this,t,e,i)}inXRange(t,e){return Po(this,t,null,e)}inYRange(t,e){return Po(this,null,t,e)}getCenterPoint(t){var e=this.getProps(["x","y","base","horizontal"],t),i=e.x,n=e.y,r=e.base,a=e.horizontal;return{x:a?(i+r)/2:i,y:a?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}function Ao(t,e,i,n){if(!n){var r=e[t],a=i[t];return"angle"===t&&(r=Zi(r),a=Zi(a)),{property:t,start:r,end:a}}}function Lo(t,e,i){for(;e>t;e--){var n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function jo(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function Eo(t,e){var i=[],n=!1;return di(t)?(n=!0,i=t):i=function(t,e){var i=t||{},n=i.x,r=void 0===n?null:n,a=i.y,s=void 0===a?null:a,o=e.points,l=[];return e.segments.forEach(t=>{var e=t.start,i=t.end;i=Lo(e,i,o);var n=o[e],a=o[i];null!==s?(l.push({x:n.x,y:s}),l.push({x:a.x,y:s})):null!==r&&(l.push({x:r,y:n.y}),l.push({x:r,y:a.y}))}),l}(t,e),i.length?new $o({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Io(t){return t&&!1!==t.fill}function Ro(t,e,i){var n,r=t[e].fill,a=[e];if(!i)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!ui(r))return r;if(!(n=t[r]))return!1;if(n.visible)return r;a.push(r),r=n.fill}return!1}function Fo(t,e,i){var n=function(t){var e=t.options,i=e.fill,n=pi(i&&i.target,i);void 0===n&&(n=!!e.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(t);if(hi(n))return!isNaN(n.value)&&n;var r=parseFloat(n);return ui(r)&&Math.floor(r)===r?function(t,e,i,n){"-"!==t&&"+"!==t||(i=e+i);if(i===e||i<0||i>=n)return!1;return i}(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Ho(t,e,i){for(var n=[],r=0;r<i.length;r++){var a=No(i[r],e,"x"),s=a.first,o=a.last,l=a.point;if(!(!l||s&&o))if(s)n.unshift(l);else if(t.push(l),!o)break}t.push(...n)}function No(t,e,i){var n=t.interpolate(e,i);if(!n)return{};for(var r=n[i],a=t.segments,s=t.points,o=!1,l=!1,c=0;c<a.length;c++){var d=a[c],h=s[d.start][i],u=s[d.end][i];if(en(r,h,u)){o=r===h,l=r===u;break}}return{first:o,last:l,point:n}}r(Oo,"id","bar"),r(Oo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),r(Oo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Vo{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){var n=this.x,r=this.y,a=this.radius;return e=e||{start:0,end:Ai},t.arc(n,r,a,e.end,e.start,!0),!i.bounds}interpolate(t){var e=this.x,i=this.y,n=this.radius,r=t.angle;return{x:e+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function Wo(t){var e=t.chart,i=t.fill,n=t.line;if(ui(i))return function(t,e){var i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}(e,i);if("stack"===i)return function(t){var e=t.scale,i=t.index,n=t.line,r=[],a=n.segments,s=n.points,o=function(t,e){for(var i=[],n=t.getMatchingVisibleMetas("line"),r=0;r<n.length;r++){var a=n[r];if(a.index===e)break;a.hidden||i.unshift(a.dataset)}return i}(e,i);o.push(Eo({x:null,y:e.bottom},n));for(var l=0;l<a.length;l++)for(var c=a[l],d=c.start;d<=c.end;d++)Ho(r,s[d],o);return new $o({points:r,options:{}})}(t);if("shape"===i)return!0;var r=function(t){var e=t.scale||{};if(e.getPointPositionForValue)return function(t){var e=t.scale,i=t.fill,n=e.options,r=e.getLabels().length,a=n.reverse?e.max:e.min,s=function(t,e,i){return"start"===t?i:"end"===t?e.options.reverse?e.min:e.max:hi(t)?t.value:e.getBaseValue()}(i,e,a),o=[];if(n.grid.circular){var l=e.getPointPositionForValue(0,a);return new Vo({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(var c=0;c<r;++c)o.push(e.getPointPositionForValue(c,s));return o}(t);return function(t){var e=t.scale,i=void 0===e?{}:e,n=t.fill,r=function(t,e){var i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:hi(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(n,i);if(ui(r)){var a=i.isHorizontal();return{x:a?r:null,y:a?null:r}}return null}(t)}(t);return r instanceof Vo?r:Eo(r,n)}function Bo(t,e,i){var n=Wo(e),r=e.chart,a=e.index,s=e.line,o=e.scale,l=e.axis,c=s.options,d=c.fill,h=c.backgroundColor,u=d||{},f=u.above,p=void 0===f?h:f,g=u.below,v=void 0===g?h:g,m=r.getDatasetMeta(a),b=Qr(r,m);n&&s.points.length&&(Nn(t,i),function(t,e){var i=e.line,n=e.target,r=e.above,a=e.below,s=e.area,o=e.scale,l=e.clip,c=i._loop?"angle":e.axis;t.save();var d=a;a!==r&&("x"===c?(qo(t,n,s.top),Uo(t,{line:i,target:n,color:r,scale:o,property:c,clip:l}),t.restore(),t.save(),qo(t,n,s.bottom)):"y"===c&&(Yo(t,n,s.left),Uo(t,{line:i,target:n,color:a,scale:o,property:c,clip:l}),t.restore(),t.save(),Yo(t,n,s.right),d=r));Uo(t,{line:i,target:n,color:d,scale:o,property:c,clip:l}),t.restore()}(t,{line:s,target:n,above:p,below:v,area:i,scale:o,axis:l,clip:b}),Vn(t))}function qo(t,e,i){var r=e.segments,a=e.points,s=!0,o=!1;t.beginPath();var l,c=n(r);try{for(c.s();!(l=c.n()).done;){var d=l.value,h=d.start,u=d.end,f=a[h],p=a[Lo(h,u,a)];s?(t.moveTo(f.x,f.y),s=!1):(t.lineTo(f.x,i),t.lineTo(f.x,f.y)),(o=!!e.pathSegment(t,d,{move:o}))?t.closePath():t.lineTo(p.x,i)}}catch(t){c.e(t)}finally{c.f()}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function Yo(t,e,i){var r=e.segments,a=e.points,s=!0,o=!1;t.beginPath();var l,c=n(r);try{for(c.s();!(l=c.n()).done;){var d=l.value,h=d.start,u=d.end,f=a[h],p=a[Lo(h,u,a)];s?(t.moveTo(f.x,f.y),s=!1):(t.lineTo(i,f.y),t.lineTo(f.x,f.y)),(o=!!e.pathSegment(t,d,{move:o}))?t.closePath():t.lineTo(i,p.y)}}catch(t){c.e(t)}finally{c.f()}t.lineTo(i,e.first().y),t.closePath(),t.clip()}function Uo(t,e){var i,r=e.line,a=e.target,s=e.property,o=e.color,l=e.scale,c=e.clip,d=function(t,e,i){var r,a=t.segments,s=t.points,o=e.points,l=[],c=n(a);try{for(c.s();!(r=c.n()).done;){var d=r.value,h=d.start,u=d.end;u=Lo(h,u,s);var f=Ao(i,s[h],s[u],d.loop);if(e.segments){var p,g=n(Xr(e,f));try{for(g.s();!(p=g.n()).done;){var v,m=p.value,b=Ao(i,o[m.start],o[m.end],m.loop),x=n(Ur(d,s,b));try{for(x.s();!(v=x.n()).done;){var _=v.value;l.push({source:_,target:m,start:{[i]:jo(f,b,"start",Math.max)},end:{[i]:jo(f,b,"end",Math.min)}})}}catch(t){x.e(t)}finally{x.f()}}}catch(t){g.e(t)}finally{g.f()}}else l.push({source:d,target:f,start:s[h],end:s[u]})}}catch(t){c.e(t)}finally{c.f()}return l}(r,a,s),h=n(d);try{for(h.s();!(i=h.n()).done;){var u=i.value,f=u.source,p=u.target,g=u.start,v=u.end,m=f.style,b=(void 0===m?{}:m).backgroundColor,x=void 0===b?o:b,_=!0!==a;t.save(),t.fillStyle=x,Xo(t,l,c,_&&Ao(s,g,v)),t.beginPath();var y=!!r.pathSegment(t,f),w=void 0;if(_){y?t.closePath():Ko(t,a,v,s);var $=!!a.pathSegment(t,p,{move:y,reverse:!0});(w=y&&$)||Ko(t,a,g,s)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}catch(t){h.e(t)}finally{h.f()}}function Xo(t,e,i,n){var r,a,s,o,l=e.chart.chartArea,c=n||{},d=c.property,h=c.start,u=c.end;"x"!==d&&"y"!==d||("x"===d?(r=h,a=l.top,s=u,o=l.bottom):(r=l.left,a=h,s=l.right,o=u),t.beginPath(),i&&(r=Math.max(r,i.left),s=Math.min(s,i.right),a=Math.max(a,i.top),o=Math.min(o,i.bottom)),t.rect(r,a,s-r,o-a),t.clip())}function Ko(t,e,i,n){var r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var Go={id:"filler",afterDatasetsUpdate(t,e,i){var n,r,a,s,o=(t.data.datasets||[]).length,l=[];for(r=0;r<o;++r)s=null,(a=(n=t.getDatasetMeta(r)).dataset)&&a.options&&a instanceof $o&&(s={visible:t.isDatasetVisible(r),index:r,fill:Fo(a,r,o),chart:t,axis:n.controller.options.indexAxis,scale:n.vScale,line:a}),n.$filler=s,l.push(s);for(r=0;r<o;++r)(s=l[r])&&!1!==s.fill&&(s.fill=Ro(l,r,i.propagate))},beforeDraw(t,e,i){for(var n="beforeDraw"===i.drawTime,r=t.getSortedVisibleDatasetMetas(),a=t.chartArea,s=r.length-1;s>=0;--s){var o=r[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),n&&o.fill&&Bo(t.ctx,o,a))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"===i.drawTime)for(var n=t.getSortedVisibleDatasetMetas(),r=n.length-1;r>=0;--r){var a=n[r].$filler;Io(a)&&Bo(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,i){var n=e.meta.$filler;Io(n)&&"beforeDatasetDraw"===i.drawTime&&Bo(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Jo=(t,e)=>{var i=t.boxHeight,n=void 0===i?e:i,r=t.boxWidth,a=void 0===r?e:r;return t.usePointStyle&&(n=Math.min(n,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(e,n)}};class Zo extends _s{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){var t=this.options.labels||{},e=vi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,i)=>t.sort(e,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){var t=this.options,e=this.ctx;if(t.display){var i,n,r=t.labels,a=nr(r.font),s=a.size,o=this._computeTitleHeight(),l=Jo(r,s),c=l.boxWidth,d=l.itemHeight;e.font=a.string,this.isHorizontal()?(i=this.maxWidth,n=this._fitRows(o,s,c,d)+10):(n=this.maxHeight,i=this._fitCols(o,a,c,d)+10),this.width=Math.min(i,t.maxWidth||this.maxWidth),this.height=Math.min(n,t.maxHeight||this.maxHeight)}else this.width=this.height=0}_fitRows(t,e,i,n){var r=this.ctx,a=this.maxWidth,s=this.options.labels.padding,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s,d=t;r.textAlign="left",r.textBaseline="middle";var h=-1,u=-c;return this.legendItems.forEach((t,f)=>{var p=i+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*s>a)&&(d+=c,l[l.length-(f>0?0:1)]=0,u+=c,h++),o[f]={left:0,top:u,row:h,width:p,height:n},l[l.length-1]+=p+s}),d}_fitCols(t,e,i,n){var r=this.ctx,a=this.maxHeight,s=this.options.labels.padding,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-t,d=s,h=0,u=0,f=0,p=0;return this.legendItems.forEach((t,a)=>{var g=function(t,e,i,n,r){var a=function(t,e,i,n){var r=t.text;r&&"string"!=typeof r&&(r=r.reduce((t,e)=>t.length>e.length?t:e));return e+i.size/2+n.measureText(r).width}(n,t,e,i),s=function(t,e,i){var n=t;"string"!=typeof e.text&&(n=Qo(e,i));return n}(r,n,e.lineHeight);return{itemWidth:a,itemHeight:s}}(i,e,r,t,n),v=g.itemWidth,m=g.itemHeight;a>0&&u+m+2*s>c&&(d+=h+s,l.push({width:h,height:u}),f+=h+s,p++,h=u=0),o[a]={left:f,top:u,col:p,width:v,height:m},h=Math.max(h,v),u+=m+s}),d+=h,l.push({width:h,height:u}),d}adjustHitBoxes(){if(this.options.display){var t=this._computeTitleHeight(),e=this.legendHitBoxes,i=this.options,r=i.align,a=i.labels.padding,s=Vr(i.rtl,this.left,this.width);if(this.isHorizontal()){var o,l=0,c=un(r,this.left+a,this.right-this.lineWidths[l]),d=n(e);try{for(d.s();!(o=d.n()).done;){var h=o.value;l!==h.row&&(l=h.row,c=un(r,this.left+a,this.right-this.lineWidths[l])),h.top+=this.top+t+a,h.left=s.leftForLtr(s.x(c),h.width),c+=h.width+a}}catch(t){d.e(t)}finally{d.f()}}else{var u,f=0,p=un(r,this.top+t+a,this.bottom-this.columnSizes[f].height),g=n(e);try{for(g.s();!(u=g.n()).done;){var v=u.value;v.col!==f&&(f=v.col,p=un(r,this.top+t+a,this.bottom-this.columnSizes[f].height)),v.top=p,v.left+=this.left+a,v.left=s.leftForLtr(s.x(v.left),v.width),p+=v.height+a}}catch(t){g.e(t)}finally{g.f()}}}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){var t=this.ctx;Nn(t,this),this._draw(),Vn(t)}}_draw(){var t,e=this.options,i=this.columnSizes,n=this.lineWidths,r=this.ctx,a=e.align,s=e.labels,o=An.color,l=Vr(e.rtl,this.left,this.width),c=nr(s.font),d=s.padding,h=c.size,u=h/2;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;var f=Jo(s,h),p=f.boxWidth,g=f.boxHeight,v=f.itemHeight,m=this.isHorizontal(),b=this._computeTitleHeight();t=m?{x:un(a,this.left+d,this.right-n[0]),y:this.top+d+b,line:0}:{x:this.left+d,y:un(a,this.top+b+d,this.bottom-i[0].height),line:0},Wr(this.ctx,e.textDirection);var x=v+d;this.legendItems.forEach((f,_)=>{r.strokeStyle=f.fontColor,r.fillStyle=f.fontColor;var y=r.measureText(f.text).width,w=l.textAlign(f.textAlign||(f.textAlign=s.textAlign)),$=p+u+y,k=t.x,M=t.y;if(l.setWidth(this.width),m?_>0&&k+$+d>this.right&&(M=t.y+=x,t.line++,k=t.x=un(a,this.left+d,this.right-n[t.line])):_>0&&M+x>this.bottom&&(k=t.x=k+i[t.line].width+d,t.line++,M=t.y=un(a,this.top+b+d,this.bottom-i[t.line].height)),function(t,e,i){if(!(isNaN(p)||p<=0||isNaN(g)||g<0)){r.save();var n=pi(i.lineWidth,1);if(r.fillStyle=pi(i.fillStyle,o),r.lineCap=pi(i.lineCap,"butt"),r.lineDashOffset=pi(i.lineDashOffset,0),r.lineJoin=pi(i.lineJoin,"miter"),r.lineWidth=n,r.strokeStyle=pi(i.strokeStyle,o),r.setLineDash(pi(i.lineDash,[])),s.usePointStyle){var a={radius:g*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},c=l.xPlus(t,p/2);Fn(r,a,c,e+u,s.pointStyleWidth&&p)}else{var d=e+Math.max((h-g)/2,0),f=l.leftForLtr(t,p),v=er(i.borderRadius);r.beginPath(),Object.values(v).some(t=>0!==t)?Xn(r,{x:f,y:d,w:p,h:g,radius:v}):r.rect(f,d,p,g),r.fill(),0!==n&&r.stroke()}r.restore()}}(l.x(k),M,f),k=((t,e,i,n)=>t===(n?"left":"right")?i:"center"===t?(e+i)/2:e)(w,k+p+u,m?k+$:this.right,e.rtl),function(t,e,i){Un(r,i.text,t,e+v/2,c,{strikethrough:i.hidden,textAlign:l.textAlign(i.textAlign)})}(l.x(k),M,f),m)t.x+=$+d;else if("string"!=typeof f.text){var C=c.lineHeight;t.y+=Qo(f,C)+d}else t.y+=x}),Br(this.ctx,e.textDirection)}drawTitle(){var t=this.options,e=t.title,i=nr(e.font),n=ir(e.padding);if(e.display){var r,a=Vr(t.rtl,this.left,this.width),s=this.ctx,o=e.position,l=i.size/2,c=n.top+l,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),r=this.top+c,d=un(t.align,d,this.right-h);else{var u=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);r=c+un(t.align,this.top,this.bottom-u-t.labels.padding-this._computeTitleHeight())}var f=un(o,d,d+h);s.textAlign=a.textAlign(hn(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,Un(s,e.text,f,r,i)}}_computeTitleHeight(){var t=this.options.title,e=nr(t.font),i=ir(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){var i,n,r;if(en(t,this.left,this.right)&&en(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(en(t,(n=r[i]).left,n.left+n.width)&&en(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){var e=this.options;if(function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e)){var i,n,r=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){var a=this._hoveredItem,s=(n=r,null!==(i=a)&&null!==n&&i.datasetIndex===n.datasetIndex&&i.index===n.index);a&&!s&&vi(e.onLeave,[t,a,this],this),this._hoveredItem=r,r&&!s&&vi(e.onHover,[t,r,this],this)}else r&&vi(e.onClick,[t,r,this],this)}}}function Qo(t,e){return e*(t.text?t.text.length:0)}var tl={id:"legend",_element:Zo,start(t,e,i){var n=t.legend=new Zo({ctx:t.ctx,options:i,chart:t});is.configure(t,n,i),is.addBox(t,n)},stop(t){is.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){var n=t.legend;is.configure(t,n,i),n.options=i},afterUpdate(t){var e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){var n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){var e=t.data.datasets,i=t.legend.options.labels,n=i.usePointStyle,r=i.pointStyle,a=i.textAlign,s=i.color,o=i.useBorderRadius,l=i.borderRadius;return t._getSortedDatasetMetas().map(t=>{var i=t.controller.getStyle(n?0:void 0),c=ir(i.borderWidth);return{text:e[t.index].label,fillStyle:i.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:i.borderCapStyle,lineDash:i.borderDash,lineDashOffset:i.borderDashOffset,lineJoin:i.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:i.borderColor,pointStyle:r||i.pointStyle,rotation:i.rotation,textAlign:a||i.textAlign,borderRadius:o&&(l||i.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},el={average(t){if(!t.length)return!1;var e,i,n=new Set,r=0,a=0;for(e=0,i=t.length;e<i;++e){var s=t[e].element;if(s&&s.hasValue()){var o=s.tooltipPosition();n.add(o.x),r+=o.y,++a}}return 0!==a&&0!==n.size&&{x:[...n].reduce((t,e)=>t+e)/n.size,y:r/a}},nearest(t,e){if(!t.length)return!1;var i,n,r,a=e.x,s=e.y,o=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i].element;if(l&&l.hasValue()){var c=Gi(e,l.getCenterPoint());c<o&&(o=c,r=l)}}if(r){var d=r.tooltipPosition();a=d.x,s=d.y}return{x:a,y:s}}};function il(t,e){return e&&(di(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function nl(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function rl(t,e){var i=e.element,n=e.datasetIndex,r=e.index,a=t.getDatasetMeta(n).controller,s=a.getLabelAndValue(r),o=s.label,l=s.value;return{chart:t,label:o,parsed:a.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:l,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function al(t,e){var i=t.chart.ctx,n=t.body,r=t.footer,a=t.title,s=e.boxWidth,o=e.boxHeight,l=nr(e.bodyFont),c=nr(e.titleFont),d=nr(e.footerFont),h=a.length,u=r.length,f=n.length,p=ir(e.padding),g=p.height,v=0,m=n.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);(m+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m)&&(g+=f*(e.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(m-f)*l.lineHeight+(m-1)*e.bodySpacing);u&&(g+=e.footerMarginTop+u*d.lineHeight+(u-1)*e.footerSpacing);var b=0,x=function(t){v=Math.max(v,i.measureText(t).width+b)};return i.save(),i.font=c.string,mi(t.title,x),i.font=l.string,mi(t.beforeBody.concat(t.afterBody),x),b=e.displayColors?s+2+e.boxPadding:0,mi(n,t=>{mi(t.before,x),mi(t.lines,x),mi(t.after,x)}),b=0,i.font=d.string,mi(t.footer,x),i.restore(),{width:v+=p.width,height:g}}function sl(t,e,i,n){var r=i.x,a=i.width,s=t.width,o=t.chartArea,l=o.left,c=o.right,d="center";return"center"===n?d=r<=(l+c)/2?"left":"right":r<=a/2?d="left":r>=s-a/2&&(d="right"),function(t,e,i,n){var r=n.x,a=n.width,s=i.caretSize+i.caretPadding;return"left"===t&&r+a+s>e.width||"right"===t&&r-a-s<0||void 0}(d,t,e,i)&&(d="center"),d}function ol(t,e,i){var n=i.yAlign||e.yAlign||function(t,e){var i=e.y,n=e.height;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||sl(t,e,i,n),yAlign:n}}function ll(t,e,i,n){var r=t.caretSize,a=t.caretPadding,s=t.cornerRadius,o=i.xAlign,l=i.yAlign,c=r+a,d=er(s),h=d.topLeft,u=d.topRight,f=d.bottomLeft,p=d.bottomRight,g=function(t,e){var i=t.x,n=t.width;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}(e,o),v=function(t,e,i){var n=t.y,r=t.height;return"top"===e?n+=i:n-="bottom"===e?r+i:r/2,n}(e,l,c);return"center"===l?"left"===o?g+=c:"right"===o&&(g-=c):"left"===o?g-=Math.max(h,f)+r:"right"===o&&(g+=Math.max(u,p)+r),{x:tn(g,0,n.width-e.width),y:tn(v,0,n.height-e.height)}}function cl(t,e,i){var n=ir(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function dl(t){return il([],nl(t))}function hl(t,e){var i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}var ul={beforeTitle:si,title(t){if(t.length>0){var e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;var e=t.dataset.label||"";e&&(e+=": ");var i=t.formattedValue;return ci(i)||(e+=i),e},labelColor(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function fl(t,e,i,n){var r=t[e].call(i,n);return void 0===r?ul[e].call(i,n):r}class pl extends _s{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){var t=this._cachedAnimations;if(t)return t;var e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,r=new aa(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,ar(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){var i=e.callbacks,n=fl(i,"beforeTitle",this,t),r=fl(i,"title",this,t),a=fl(i,"afterTitle",this,t),s=[];return s=il(s,nl(n)),s=il(s,nl(r)),s=il(s,nl(a))}getBeforeBody(t,e){return dl(fl(e.callbacks,"beforeBody",this,t))}getBody(t,e){var i=e.callbacks,n=[];return mi(t,t=>{var e={before:[],lines:[],after:[]},r=hl(i,t);il(e.before,nl(fl(r,"beforeLabel",this,t))),il(e.lines,fl(r,"label",this,t)),il(e.after,nl(fl(r,"afterLabel",this,t))),n.push(e)}),n}getAfterBody(t,e){return dl(fl(e.callbacks,"afterBody",this,t))}getFooter(t,e){var i=e.callbacks,n=fl(i,"beforeFooter",this,t),r=fl(i,"footer",this,t),a=fl(i,"afterFooter",this,t),s=[];return s=il(s,nl(n)),s=il(s,nl(r)),s=il(s,nl(a))}_createItems(t){var e,i,n=this._active,r=this.chart.data,a=[],s=[],o=[],l=[];for(e=0,i=n.length;e<i;++e)l.push(rl(this.chart,n[e]));return t.filter&&(l=l.filter((e,i,n)=>t.filter(e,i,n,r))),t.itemSort&&(l=l.sort((e,i)=>t.itemSort(e,i,r))),mi(l,e=>{var i=hl(t.callbacks,e);a.push(fl(i,"labelColor",this,e)),s.push(fl(i,"labelPointStyle",this,e)),o.push(fl(i,"labelTextColor",this,e))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){var i,n=this.options.setContext(this.getContext()),r=this._active,a=[];if(r.length){var s=el[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);var o=this._size=al(this,n),l=Object.assign({},s,o),c=ol(this.chart,n,l),d=ll(n,l,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,i={opacity:1,x:d.x,y:d.y,width:o.width,height:o.height,caretX:s.x,caretY:s.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){var r=this.getCaretPosition(t,i,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){var n,r,a,s,o,l,c=this.xAlign,d=this.yAlign,h=i.caretSize,u=er(i.cornerRadius),f=u.topLeft,p=u.topRight,g=u.bottomLeft,v=u.bottomRight,m=t.x,b=t.y,x=e.width,_=e.height;return"center"===d?(o=b+_/2,"left"===c?(r=(n=m)-h,s=o+h,l=o-h):(r=(n=m+x)+h,s=o-h,l=o+h),a=n):(r="left"===c?m+Math.max(f,g)+h:"right"===c?m+x-Math.max(p,v)-h:this.caretX,"top"===d?(o=(s=b)-h,n=r-h,a=r+h):(o=(s=b+_)+h,n=r+h,a=r-h),l=s),{x1:n,x2:r,x3:a,y1:s,y2:o,y3:l}}drawTitle(t,e,i){var n,r,a,s=this.title,o=s.length;if(o){var l=Vr(i.rtl,this.x,this.width);for(t.x=cl(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",n=nr(i.titleFont),r=i.titleSpacing,e.fillStyle=i.titleColor,e.font=n.string,a=0;a<o;++a)e.fillText(s[a],l.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+r,a+1===o&&(t.y+=i.titleMarginBottom-r)}}_drawColorBox(t,e,i,n,r){var a=this.labelColors[i],s=this.labelPointStyles[i],o=r.boxHeight,l=r.boxWidth,c=nr(r.bodyFont),d=cl(this,"left",r),h=n.x(d),u=o<c.lineHeight?(c.lineHeight-o)/2:0,f=e.y+u;if(r.usePointStyle){var p={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},g=n.leftForLtr(h,l)+l/2,v=f+o/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Rn(t,p,g,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Rn(t,p,g,v)}else{t.lineWidth=hi(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;var m=n.leftForLtr(h,l),b=n.leftForLtr(n.xPlus(h,1),l-2),x=er(a.borderRadius);Object.values(x).some(t=>0!==t)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Xn(t,{x:m,y:f,w:l,h:o,radius:x}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Xn(t,{x:b,y:f+1,w:l-2,h:o-2,radius:x}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,f,l,o),t.strokeRect(m,f,l,o),t.fillStyle=a.backgroundColor,t.fillRect(b,f+1,l-2,o-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){var n,r,a,s,o,l,c,d=this.body,h=i.bodySpacing,u=i.bodyAlign,f=i.displayColors,p=i.boxHeight,g=i.boxWidth,v=i.boxPadding,m=nr(i.bodyFont),b=m.lineHeight,x=0,_=Vr(i.rtl,this.x,this.width),y=function(i){e.fillText(i,_.x(t.x+x),t.y+b/2),t.y+=b+h},w=_.textAlign(u);for(e.textAlign=u,e.textBaseline="middle",e.font=m.string,t.x=cl(this,w,i),e.fillStyle=i.bodyColor,mi(this.beforeBody,y),x=f&&"right"!==w?"center"===u?g/2+v:g+2+v:0,s=0,l=d.length;s<l;++s){for(n=d[s],r=this.labelTextColors[s],e.fillStyle=r,mi(n.before,y),a=n.lines,f&&a.length&&(this._drawColorBox(e,t,s,_,i),b=Math.max(m.lineHeight,p)),o=0,c=a.length;o<c;++o)y(a[o]),b=m.lineHeight;mi(n.after,y)}x=0,b=m.lineHeight,mi(this.afterBody,y),t.y-=h}drawFooter(t,e,i){var n,r,a=this.footer,s=a.length;if(s){var o=Vr(i.rtl,this.x,this.width);for(t.x=cl(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=o.textAlign(i.footerAlign),e.textBaseline="middle",n=nr(i.footerFont),e.fillStyle=i.footerColor,e.font=n.string,r=0;r<s;++r)e.fillText(a[r],o.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){var r=this.xAlign,a=this.yAlign,s=t.x,o=t.y,l=i.width,c=i.height,d=er(n.cornerRadius),h=d.topLeft,u=d.topRight,f=d.bottomLeft,p=d.bottomRight;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(s+h,o),"top"===a&&this.drawCaret(t,e,i,n),e.lineTo(s+l-u,o),e.quadraticCurveTo(s+l,o,s+l,o+u),"center"===a&&"right"===r&&this.drawCaret(t,e,i,n),e.lineTo(s+l,o+c-p),e.quadraticCurveTo(s+l,o+c,s+l-p,o+c),"bottom"===a&&this.drawCaret(t,e,i,n),e.lineTo(s+f,o+c),e.quadraticCurveTo(s,o+c,s,o+c-f),"center"===a&&"left"===r&&this.drawCaret(t,e,i,n),e.lineTo(s,o+h),e.quadraticCurveTo(s,o,s+h,o),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){var e=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){var a=el[t.position].call(this,this._active,this._eventPosition);if(!a)return;var s=this._size=al(this,t),o=Object.assign({},a,this._size),l=ol(e,t,o),c=ll(t,o,l,e);n._to===c.x&&r._to===c.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=s.width,this.height=s.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){var e=this.options.setContext(this.getContext()),i=this.opacity;if(i){this._updateAnimationTarget(e);var n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;var a=ir(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,n,e),Wr(t,e.textDirection),r.y+=a.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Br(t,e.textDirection),t.restore())}}getActiveElements(){return this._active||[]}setActiveElements(t,e){var i=this._active,n=t.map(t=>{var e=t.datasetIndex,i=t.index,n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[i],index:i}}),r=!bi(i,n),a=this._positionChanged(n,e);(r||a)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var n=this.options,r=this._active||[],a=this._getActiveElements(t,r,e,i),s=this._positionChanged(a,t),o=e||!bi(a,r)||s;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),o}_getActiveElements(t,e,i,n){var r=this.options;if("mouseout"===t.type)return[];if(!n)return e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index));var a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,e){var i=this.caretX,n=this.caretY,r=this.options,a=el[r.position].call(this,t,e);return!1!==a&&(i!==a.x||n!==a.y)}}r(pl,"positioners",el);var gl={id:"tooltip",_element:pl,positioners:el,afterInit(t,e,i){i&&(t.tooltip=new pl({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){var e=t.tooltip;if(e&&e._willRender()){var i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",s(s({},i),{},{cancelable:!0})))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){var i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ul},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function vl(t,e,i,n){var r=t.indexOf(e);return-1===r?((t,e,i,n)=>("string"==typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,n):r!==t.lastIndexOf(e)?i:r}function ml(t){var e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class bl extends Ds{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){var e=this._addedLabels;if(e.length){var i,r=this.getLabels(),a=n(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=s.index,l=s.label;r[o]===l&&r.splice(o,1)}}catch(t){a.e(t)}finally{a.f()}this._addedLabels=[]}super.init(t)}parse(t,e){if(ci(t))return null;var i=this.getLabels();return((t,e)=>null===t?null:tn(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:vl(i,t,pi(e,t),this._addedLabels),i.length-1)}determineDataLimits(){var t=this.getUserBounds(),e=t.minDefined,i=t.maxDefined,n=this.getMinMax(!0),r=n.min,a=n.max;"ticks"===this.options.bounds&&(e||(r=0),i||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){var t=this.min,e=this.max,i=this.options.offset,n=[],r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(var a=t;a<=e;a++)n.push({value:a});return n}getLabelForValue(t){return ml.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function xl(t,e){var i,n,r,a,s,o,l,c=[],d=t.bounds,h=t.step,u=t.min,f=t.max,p=t.precision,g=t.count,v=t.maxTicks,m=t.maxDigits,b=t.includeBounds,x=h||1,_=v-1,y=e.min,w=e.max,$=!ci(u),k=!ci(f),M=!ci(g),C=(w-y)/(m+1),S=Wi((w-y)/_/x)*x;if(S<1e-14&&!$&&!k)return[{value:y},{value:w}];(a=Math.ceil(w/S)-Math.floor(y/S))>_&&(S=Wi(a*S/_/x)*x),ci(p)||(i=Math.pow(10,p),S=Math.ceil(S*i)/i),"ticks"===d?(n=Math.floor(y/S)*S,r=Math.ceil(w/S)*S):(n=y,r=w),$&&k&&h&&(s=(f-u)/h,o=S/1e3,(l=Math.round(s))-o<=s&&l+o>=s)?(S=(f-u)/(a=Math.round(Math.min((f-u)/S,v))),n=u,r=f):M?S=((r=k?f:r)-(n=$?u:n))/(a=g-1):a=Vi(a=(r-n)/S,Math.round(a),S/1e3)?Math.round(a):Math.ceil(a);var T=Math.max(Xi(S),Xi(n));i=Math.pow(10,ci(p)?T:p),n=Math.round(n*i)/i,r=Math.round(r*i)/i;var P=0;for($&&(b&&n!==u?(c.push({value:u}),n<u&&P++,Vi(Math.round((n+P*S)*i)/i,u,_l(u,C,t))&&P++):n<u&&P++);P<a;++P){var D=Math.round((n+P*S)*i)/i;if(k&&D>f)break;c.push({value:D})}return k&&b&&r!==f?c.length&&Vi(c[c.length-1].value,f,_l(f,C,t))?c[c.length-1].value=f:c.push({value:f}):k&&r!==f||c.push({value:r}),c}function _l(t,e,i){var n=i.horizontal,r=Yi(i.minRotation),a=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}r(bl,"id","category"),r(bl,"defaults",{ticks:{callback:ml}});class yl extends Ds{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ci(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){var t=this.options.beginAtZero,e=this.getUserBounds(),i=e.minDefined,n=e.maxDefined,r=this.min,a=this.max,s=t=>r=i?r:t,o=t=>a=n?a:t;if(t){var l=Ni(r),c=Ni(a);l<0&&c<0?o(0):l>0&&c>0&&s(0)}if(r===a){var d=0===a?1:Math.abs(.05*a);o(a+d),t||s(r-d)}this.min=r,this.max=a}getTickLimit(){var t,e=this.options.ticks,i=e.maxTicksLimit,n=e.stepSize;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){var t=this.options,e=t.ticks,i=this.getTickLimit(),n=xl({maxTicks:i=Math.max(2,i),bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&qi(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){var t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){var n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Mn(t,this.chart.options.locale,this.options.ticks.format)}}class wl extends yl{determineDataLimits(){var t=this.getMinMax(!0),e=t.min,i=t.max;this.min=ui(e)?e:0,this.max=ui(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){var t=this.isHorizontal(),e=t?this.width:this.height,i=Yi(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}r(wl,"id","linear"),r(wl,"defaults",{ticks:{callback:Sn.formatters.numeric}});var $l=t=>Math.floor(Hi(t)),kl=(t,e)=>Math.pow(10,$l(t)+e);function Ml(t){return 1===t/Math.pow(10,$l(t))}function Cl(t,e,i){var n=Math.pow(10,i),r=Math.floor(t/n);return Math.ceil(e/n)-r}function Sl(t,e){var i=e.min,n=e.max;i=fi(t.min,i);for(var r=[],a=$l(i),s=function(t,e){for(var i=$l(e-t);Cl(t,e,i)>10;)i++;for(;Cl(t,e,i)<10;)i--;return Math.min(i,$l(t))}(i,n),o=s<0?Math.pow(10,Math.abs(s)):1,l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,d=Math.round((i-c)*o)/o,h=Math.floor((i-c)/l/10)*l*10,u=Math.floor((d-h)/Math.pow(10,s)),f=fi(t.min,Math.round((c+h+u*Math.pow(10,s))*o)/o);f<n;)r.push({value:f,major:Ml(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(u=2,o=++s>=0?1:o),f=Math.round((c+h+u*Math.pow(10,s))*o)/o;var p=fi(t.max,f);return r.push({value:p,major:Ml(p),significand:u}),r}class Tl extends Ds{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){var i=yl.prototype.parse.apply(this,[t,e]);if(0!==i)return ui(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){var t=this.getMinMax(!0),e=t.min,i=t.max;this.min=ui(e)?Math.max(0,e):null,this.max=ui(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ui(this._userMin)&&(this.min=e===kl(this.min,0)?kl(this.min,-1):kl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){var t=this.getUserBounds(),e=t.minDefined,i=t.maxDefined,n=this.min,r=this.max,a=t=>n=e?n:t,s=t=>r=i?r:t;n===r&&(n<=0?(a(1),s(10)):(a(kl(n,-1)),s(kl(r,1)))),n<=0&&a(kl(r,-1)),r<=0&&s(kl(n,1)),this.min=n,this.max=r}buildTicks(){var t=this.options,e=Sl({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&qi(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Mn(t,this.chart.options.locale,this.options.ticks.format)}configure(){var t=this.min;super.configure(),this._startValue=Hi(t),this._valueRange=Hi(this.max)-Hi(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Hi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){var e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Pl(t){var e=t.ticks;if(e.display&&t.display){var i=ir(e.backdropPadding);return pi(e.font&&e.font.size,An.font.size)+i.height}return 0}function Dl(t,e,i){return i=di(i)?i:[i],{w:jn(t,e.string,i),h:i.length*e.lineHeight}}function zl(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function Ol(t){for(var e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],a=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?Oi/a:0,l=0;l<a;l++){var c=s.setContext(t.getPointLabelContext(l));r[l]=c.padding;var d=t.getPointPosition(l,t.drawingArea+r[l],o),h=nr(c.font),u=Dl(t.ctx,h,t._pointLabels[l]);n[l]=u;var f=Zi(t.getIndexAngle(l)+o),p=Math.round(Ui(f));Al(i,e,f,zl(p,d.x,u.w,0,180),zl(p,d.y,u.h,90,270))}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){for(var n,r=[],a=t._pointLabels.length,s=t.options,o=s.pointLabels,l=o.centerPointLabels,c=o.display,d={extra:Pl(s)/2,additionalAngle:l?Oi/a:0},h=0;h<a;h++){d.padding=i[h],d.size=e[h];var u=Ll(t,h,d);r.push(u),"auto"===c&&(u.visible=jl(u,n),u.visible&&(n=u))}return r}(t,n,r)}function Al(t,e,i,n,r){var a=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),o=0,l=0;n.start<e.l?(o=(e.l-n.start)/a,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function Ll(t,e,i){var n=t.drawingArea,r=i.extra,a=i.additionalAngle,s=i.padding,o=i.size,l=t.getPointPosition(e,n+r+s,a),c=Math.round(Ui(Zi(l.angle+Ii))),d=function(t,e,i){90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e);return t}(l.y,o.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),u=function(t,e,i){"right"===i?t-=e:"center"===i&&(t-=e/2);return t}(l.x,o.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:u,top:d,right:u+o.w,bottom:d+o.h}}function jl(t,e){if(!e)return!0;var i=t.left,n=t.top,r=t.right,a=t.bottom;return!(Hn({x:i,y:n},e)||Hn({x:i,y:a},e)||Hn({x:r,y:n},e)||Hn({x:r,y:a},e))}function El(t,e,i){var n=i.left,r=i.top,a=i.right,s=i.bottom,o=e.backdropColor;if(!ci(o)){var l=er(e.borderRadius),c=ir(e.backdropPadding);t.fillStyle=o;var d=n-c.left,h=r-c.top,u=a-n+c.width,f=s-r+c.height;Object.values(l).some(t=>0!==t)?(t.beginPath(),Xn(t,{x:d,y:h,w:u,h:f,radius:l}),t.fill()):t.fillRect(d,h,u,f)}}function Il(t,e,i,n){var r=t.ctx;if(i)r.arc(t.xCenter,t.yCenter,e,0,Ai);else{var a=t.getPointPosition(0,e);r.moveTo(a.x,a.y);for(var s=1;s<n;s++)a=t.getPointPosition(s,e),r.lineTo(a.x,a.y)}}r(Tl,"id","logarithmic"),r(Tl,"defaults",{ticks:{callback:Sn.formatters.logarithmic,major:{enabled:!0}}});class Rl extends yl{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){var t=this._padding=ir(Pl(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){var t=this.getMinMax(!1),e=t.min,i=t.max;this.min=ui(e)&&!isNaN(e)?e:0,this.max=ui(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pl(this.options))}generateTickLabels(t){yl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{var i=vi(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){var t=this.options;t.display&&t.pointLabels.display?Ol(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){return Zi(t*(Ai/(this._pointLabels.length||1))+Yi(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(ci(t))return NaN;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ci(t))return NaN;var e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){var e=this._pointLabels||[];if(t>=0&&t<e.length){var i=e[t];return function(t,e,i){return ar(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.getIndexAngle(t)-Ii+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){var e=this._pointLabelItems[t];return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}drawBackground(){var t=this.options,e=t.backgroundColor,i=t.grid.circular;if(e){var n=this.ctx;n.save(),n.beginPath(),Il(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){var t,e,i,n=this.ctx,r=this.options,a=r.angleLines,s=r.grid,o=r.border,l=this._pointLabels.length;if(r.pointLabels.display&&function(t,e){for(var i=t.ctx,n=t.options.pointLabels,r=e-1;r>=0;r--){var a=t._pointLabelItems[r];if(a.visible){var s=n.setContext(t.getPointLabelContext(r));El(i,s,a);var o=nr(s.font),l=a.x,c=a.y,d=a.textAlign;Un(i,t._pointLabels[r],l,c+o.lineHeight/2,o,{color:s.color,textAlign:d,textBaseline:"middle"})}}}(this,l),s.display&&this.ticks.forEach((t,i)=>{if(0!==i||0===i&&this.min<0){e=this.getDistanceFromCenterForValue(t.value);var n=this.getContext(i),r=s.setContext(n),a=o.setContext(n);!function(t,e,i,n,r){var a=t.ctx,s=e.circular,o=e.color,l=e.lineWidth;!s&&!n||!o||!l||i<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),Il(t,i,s,n),a.closePath(),a.stroke(),a.restore())}(this,r,e,l,a)}}),a.display){for(n.save(),t=l-1;t>=0;t--){var c=a.setContext(this.getPointLabelContext(t)),d=c.color,h=c.lineWidth;h&&d&&(n.lineWidth=h,n.strokeStyle=d,n.setLineDash(c.borderDash),n.lineDashOffset=c.borderDashOffset,e=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),i=this.getPointPosition(t,e),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(i.x,i.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){var t=this.ctx,e=this.options,i=e.ticks;if(i.display){var n,r,a=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,s)=>{if(!(0===s&&this.min>=0)||e.reverse){var o=i.setContext(this.getContext(s)),l=nr(o.font);if(n=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){t.font=l.string,r=t.measureText(a.label).width,t.fillStyle=o.backdropColor;var c=ir(o.backdropPadding);t.fillRect(-r/2-c.left,-n-l.size/2-c.top,r+c.width,l.size+c.height)}Un(t,a.label,0,-n,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}}),t.restore()}}drawTitle(){}}r(Rl,"id","radialLinear"),r(Rl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Sn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),r(Rl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),r(Rl,"descriptors",{angleLines:{_fallback:"grid"}});var Fl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hl=Object.keys(Fl);function Nl(t,e){return t-e}function Vl(t,e){if(ci(e))return null;var i=t._adapter,n=t._parseOpts,r=n.parser,a=n.round,s=n.isoWeekday,o=e;return"function"==typeof r&&(o=r(o)),ui(o)||(o="string"==typeof r?i.parse(o,r):i.parse(o)),null===o?null:(a&&(o="week"!==a||!Bi(s)&&!0!==s?i.startOf(o,a):i.startOf(o,"isoWeek",s)),+o)}function Wl(t,e,i,n){for(var r=Hl.length,a=Hl.indexOf(t);a<r-1;++a){var s=Fl[Hl[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((i-e)/(o*s.size))<=n)return Hl[a]}return Hl[r-1]}function Bl(t,e,i){if(i){if(i.length){var n=nn(i,e),r=n.lo,a=n.hi;t[i[r]>=e?i[r]:i[a]]=!0}}else t[e]=!0}function ql(t,e,i){var n,r,a=[],s={},o=e.length;for(n=0;n<o;++n)s[r=e[n]]=n,a.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,n){var r,a,s=t._adapter,o=+s.startOf(e[0].value,n),l=e[e.length-1].value;for(r=o;r<=l;r=+s.add(r,1,n))(a=i[r])>=0&&(e[a].major=!0);return e}(t,a,s,i):a}class Yl extends Ds{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.time||(t.time={}),n=this._adapter=new Ea(t.adapters.date);n.init(e),$i(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Vl(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){var t=this.options,e=this._adapter,i=t.time.unit||"day",n=this.getUserBounds(),r=n.min,a=n.max,s=n.minDefined,o=n.maxDefined;function l(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(a=Math.max(a,t.max))}s&&o||(l(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||l(this.getMinMax(!1))),r=ui(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),a=ui(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){var t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){var t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);var r=this.min,a=function(t,e,i){for(var n=0,r=t.length;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return n>0||r<t.length?t.slice(n,r):t}(n,r,this.max);return this._unit=e.unit||(i.autoSkip?Wl(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,i,n,r){for(var a=Hl.length-1;a>=Hl.indexOf(i);a--){var s=Hl[a];if(Fl[s].common&&t._adapter.diff(r,n,s)>=e-1)return s}return Hl[i?Hl.indexOf(i):0]}(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(var e=Hl.indexOf(t)+1,i=Hl.length;e<i;++e)if(Fl[Hl[e]].common)return Hl[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&a.reverse(),ql(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,r=0;this.options.offset&&i.length&&(t=this.getDecimalForValue(i[0]),n=1===i.length?1-t:(this.getDecimalForValue(i[1])-t)/2,e=this.getDecimalForValue(i[i.length-1]),r=1===i.length?e:(e-this.getDecimalForValue(i[i.length-2]))/2);var a=i.length<3?.5:.25;n=tn(n,0,a),r=tn(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){var t,e,i=this._adapter,n=this.min,r=this.max,a=this.options,s=a.time,o=s.unit||Wl(s.minUnit,n,r,this._getLabelCapacity(n)),l=pi(a.ticks.stepSize,1),c="week"===o&&s.isoWeekday,d=Bi(c)||!0===c,h={},u=n;if(d&&(u=+i.startOf(u,"isoWeek",c)),u=+i.startOf(u,d?"day":o),i.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);var f="data"===a.ticks.source&&this.getDataTimestamps();for(t=u,e=0;t<r;t=+i.add(t,l,o),e++)Bl(h,t,f);return t!==r&&"ticks"!==a.bounds&&1!==e||Bl(h,t,f),Object.keys(h).sort(Nl).map(t=>+t)}getLabelForValue(t){var e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){var i=this.options.time.displayFormats,n=this._unit,r=e||i[n];return this._adapter.format(t,r)}_tickFormatFunction(t,e,i,n){var r=this.options,a=r.ticks.callback;if(a)return vi(a,[t,e,i],this);var s=r.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],d=l&&s[l],h=i[e],u=l&&d&&h&&h.major;return this._adapter.format(t,n||(u?d:c))}generateTickLabels(t){var e,i,n;for(e=0,i=t.length;e<i;++e)(n=t[e]).label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){var e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){var e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){var e=this.options.ticks,i=this.ctx.measureText(t).width,n=Yi(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),a=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*r+s*a,h:i*a+s*r}}_getLabelCapacity(t){var e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,ql(this,[t],this._majorUnit),n),a=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){var t,e,i=this._cache.data||[];if(i.length)return i;var n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){var t,e,i=this._cache.labels||[];if(i.length)return i;var n=this.getLabels();for(t=0,e=n.length;t<e;++t)i.push(Vl(this,n[t]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(t){return ln(t.sort(Nl))}}function Ul(t,e,i){var n,r,a,s,o=0,l=t.length-1;if(i){if(e>=t[o].pos&&e<=t[l].pos){var c=rn(t,"pos",e);o=c.lo,l=c.hi}var d=t[o];n=d.pos,a=d.time;var h=t[l];r=h.pos,s=h.time}else{if(e>=t[o].time&&e<=t[l].time){var u=rn(t,"time",e);o=u.lo,l=u.hi}var f=t[o];n=f.time,a=f.pos;var p=t[l];r=p.time,s=p.pos}var g=r-n;return g?a+(s-a)*(e-n)/g:a}r(Yl,"id","time"),r(Yl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Xl extends Yl{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){var t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ul(e,this.min),this._tableRange=Ul(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){var e,i,n,r,a,s=this.min,o=this.max,l=[],c=[];for(e=0,i=t.length;e<i;++e)(r=t[e])>=s&&r<=o&&l.push(r);if(l.length<2)return[{time:s,pos:0},{time:o,pos:1}];for(e=0,i=l.length;e<i;++e)a=l[e+1],n=l[e-1],r=l[e],Math.round((a+n)/2)!==r&&c.push({time:r,pos:e/(i-1)});return c}_generate(){var t=this.min,e=this.max,i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort((t,e)=>t-e)}_getTimestampsForTable(){var t=this._cache.all||[];if(t.length)return t;var e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t}getDecimalForValue(t){return(Ul(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){var e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ul(this._table,i*this._tableRange+this._minPos,!0)}}function Kl(t){j(t,"svelte-1u0al5o",".chart-container.svelte-1u0al5o{position:relative;width:100%}")}function Gl(t){var e,i;return{c(){e=V("div"),i=V("canvas"),G(e,"class","chart-container svelte-1u0al5o"),tt(e,"height",t[0])},m(n,r){F(n,e,r),L(e,i),t[9](i)},p(t,i){1&c(i,1)[0]&&tt(e,"height",t[0])},i:h,o:h,d(i){i&&H(e),t[9](null)}}}function Jl(t,e,i){var n,r;oo.register(Mo,$o,wl,bl,Pa,Go,gl,tl);var a=e.data_type,s=void 0===a?"":a,o=e.legend,l=void 0===o||o,c=e.tooltips,d=void 0===c||c,h=e.ticks,u=void 0===h||h,f=e.height,p=void 0===f?"300px":f;return oo.defaults.color=Ce("body_text_color"),oo.defaults.font.size=15,oo.defaults.font.family="system-ui, sans-serif",oo.defaults.maintainAspectRatio=!1,oo.defaults.plugins.tooltip.mode="index",oo.defaults.plugins.tooltip.axis="x",oo.defaults.plugins.tooltip.intersect=!1,oo.defaults.animation.duration=500,oo.defaults.animation.easing="linear",ht(()=>{r=new oo(n.getContext("2d"),{type:"line",data:{labels:[],datasets:[]},options:{responsive:!0,resizeDelay:100,plugins:{legend:{display:l,labels:{boxWidth:12,boxHeight:12}},tooltip:{enabled:d}},layout:{padding:{left:4,right:4}},scales:{y:{type:"linear",display:!0,position:"left",ticks:{callback(t,e,i){return"bytes"==s?xe(t,3):(r=3,(n=t)>=1e6?(n/1e6).toPrecision(r)+"M":n>=1e3?(n/1e3).toPrecision(r)+"k":n.toPrecision(r));var n,r}},beginAtZero:!0,grid:{display:!0,drawBorder:!1,color:Ce("separator")}},x:{display:!0,ticks:{display:u,sampleSize:1,padding:4,minRotation:0,maxRotation:0},grid:{display:!1,drawBorder:!1}}}}})}),t.$$set=t=>{"data_type"in t&&i(2,s=t.data_type),"legend"in t&&i(3,l=t.legend),"tooltips"in t&&i(4,d=t.tooltips),"ticks"in t&&i(5,u=t.ticks),"height"in t&&i(0,p=t.height)},[p,n,s,l,d,u,()=>r,()=>r.data,()=>r.update(),function(t){gt[t?"unshift":"push"](()=>{i(1,n=t)})}]}r(Xl,"id","timeseries"),r(Xl,"defaults",Yl.defaults);class Zl extends qt{constructor(t){super(),Bt(this,t,Jl,Gl,b,{data_type:2,legend:3,tooltips:4,ticks:5,height:0,chart:6,data:7,update:8},Kl)}get chart(){return this.$$.ctx[6]}get data(){return this.$$.ctx[7]}get update(){return this.$$.ctx[8]}}function Ql(t){j(t,"svelte-1det3o2",".button_bar.svelte-1det3o2.svelte-1det3o2.svelte-1det3o2{display:block;width:100%;text-align:center}.shortcuts.svelte-1det3o2.svelte-1det3o2.svelte-1det3o2{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;gap:5px}.shortcuts.svelte-1det3o2>div.svelte-1det3o2.svelte-1det3o2{flex:0 0 10em;display:flex;flex-direction:column;text-align:center;border-radius:8px;overflow:hidden;border:2px solid var(--card_color)}.shortcuts.svelte-1det3o2>div.svelte-1det3o2>div.svelte-1det3o2:first-child{font-size:1.4em;padding:4px;background:var(--card_color)}")}function tc(t,e,i){var n=t.slice();return n[11]=e[i],n}function ec(t){var e;return{c(){(e=V("tr")).innerHTML='<td colspan="2">The unique download counter only counts downloads once per IP\n\t\t\t\t\t\taddress. So this number shows how many individual people have\n\t\t\t\t\t\tattempted to download the file. The download counter on the\n\t\t\t\t\t\ttoolbar on the other hand shows how many real downloads the file\n\t\t\t\t\t\thas had. Real downloads are counted by dividing the total\n\t\t\t\t\t\tbandwidth usage by the size of the file.</td>'},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function ic(t){var e,i,n,r,a,s=t[0].description+"";return{c(){e=V("tr"),(i=V("td")).textContent="Description",n=q(),r=V("td"),a=B(s)},m(t,s){F(t,e,s),L(e,i),L(e,n),L(e,r),L(r,a)},p(t,e){1&e&&s!==(s=t[0].description+"")&&Z(a,s)},d(t){t&&H(e)}}}function nc(t){var e,i,n;function r(){return t[7](t[11])}return{c(){(e=V("button")).textContent="".concat(t[11].label," "),et(e,"button_highlight",t[2]==t[11].span)},m(t,a){F(t,e,a),i||(n=U(e,"click",r),i=!0)},p(i,n){t=i,20&n&&et(e,"button_highlight",t[2]==t[11].span)},d(t){t&&H(e),i=!1,n()}}}function rc(t){for(var e,i,n,r,a,s,o,l,d,h,u,f,p,g,v,m,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O,A,j,E,I,R,W,Y,X,K,J,Q,it,nt,rt,at,st,ot,lt,ct,dt,ht,ut,ft,pt,gt,vt,mt,bt,xt,_t,yt,wt,$t,kt,Mt,Ct,St,Tt,Pt,Dt,zt,Ot,jt,Et,Rt,Ft,Ht,Bt,qt,Yt,Ut,Xt,Kt,Gt,Jt,Zt,Qt,te,ee,ie,ne,re,ae,se,oe,le,ce,de,he,ue,fe,pe,ge,ve,me,_e,ye,we=t[0].name+"",$e=Me()+"",Ce=t[0].id+"",Se=t[0].mime_type+"",Te=t[0].id+"",Pe=xe(t[0].size,4)+"",De=be(t[0].size)+"",ze=xe(t[0].bandwidth_used,4)+"",Oe=be(t[0].bandwidth_used)+"",Ae=(t[0].bandwidth_used/t[0].size).toFixed(1)+"",Le=xe(t[0].bandwidth_used_paid,4)+"",je=be(t[0].bandwidth_used_paid)+"",Ee=(t[0].bandwidth_used_paid/t[0].size).toFixed(1)+"",Ie=be(t[0].downloads)+"",Re=ke(t[0].date_upload,!0,!0,!0)+"",Fe=t[0].hash_sha256+"",He=t[3]&&ec(),Ne=t[0].description&&ic(t),Ve=It(t[4]),We=[],Be=0;Be<Ve.length;Be+=1)We[Be]=nc(tc(t,Ve,Be));return te=new Zl({props:{}}),t[8](te),{c(){e=V("div"),i=V("table"),n=V("tbody"),r=V("tr"),(a=V("td")).textContent="Name",s=q(),o=V("td"),l=B(we),d=q(),h=V("tr"),(u=V("td")).textContent="URL",f=q(),p=V("td"),g=V("a"),v=B($e),m=B("/u/"),b=B(Ce),_=q(),y=V("tr"),(w=V("td")).textContent="Mime Type",$=q(),k=V("td"),M=B(Se),C=q(),S=V("tr"),(T=V("td")).textContent="ID",P=q(),D=V("td"),z=B(Te),O=q(),A=V("tr"),(j=V("td")).textContent="Size",E=q(),I=V("td"),R=B(Pe),W=B(" ( "),Y=B(De),X=B(" B )"),K=q(),J=V("tr"),(Q=V("td")).textContent="Free bandwidth used",it=q(),nt=V("td"),rt=B(ze),at=B("\n\t\t\t\t\t( "),st=B(Oe),ot=B(" B ),\n\t\t\t\t\t"),lt=B(Ae),ct=B("x file size"),dt=q(),ht=V("tr"),(ut=V("td")).textContent="Premium bandwidth used",ft=q(),pt=V("td"),gt=B(Le),vt=B("\n\t\t\t\t\t( "),mt=B(je),bt=B(" B ),\n\t\t\t\t\t"),xt=B(Ee),_t=B("x file size"),yt=q(),wt=V("tr"),$t=V("td"),kt=B("Unique downloads\n\t\t\t\t\t"),(Mt=V("button")).innerHTML='<i class="icon">help</i>',Ct=q(),St=V("td"),Tt=B(Ie),Pt=q(),He&&He.c(),Dt=q(),zt=V("tr"),(Ot=V("td")).textContent="Upload Date",jt=q(),Et=V("td"),Rt=B(Re),Ft=q(),Ne&&Ne.c(),Ht=q(),Bt=V("tr"),(qt=V("td")).textContent="SHA256 hash",Yt=q(),Ut=V("td"),Xt=B(Fe),Kt=q(),(Gt=V("h2")).textContent="Views and downloads",Jt=q(),Zt=V("div");for(var c=0;c<We.length;c+=1)We[c].c();Qt=q(),Nt(te.$$.fragment),ee=q(),(ie=V("p")).innerHTML='Charts rendered by the amazing <a href="https://www.chartjs.org/" target="_blank" rel="noreferrer">Chart.js</a>.',ne=q(),(re=V("h3")).textContent="Keyboard Controls",ae=q(),(se=V("h4")).textContent="Global",oe=q(),(le=V("div")).innerHTML='<div class="svelte-1det3o2"><div class="svelte-1det3o2">c</div><div class="svelte-1det3o2">Copy page URL</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">s</div><div class="svelte-1det3o2">Download current file</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">q</div><div class="svelte-1det3o2">Close window</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">g</div><div class="svelte-1det3o2">Grab file (copy to your account)</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">i</div><div class="svelte-1det3o2">Show details window</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">e</div><div class="svelte-1det3o2">Show edit window</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">r</div><div class="svelte-1det3o2">Show abuse report window</div></div>',ce=q(),(de=V("h4")).textContent="List",he=q(),(ue=V("div")).innerHTML='<div class="svelte-1det3o2"><div class="svelte-1det3o2">a or </div><div class="svelte-1det3o2">Previous file</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">d or </div><div class="svelte-1det3o2">Next file</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">shift + s</div><div class="svelte-1det3o2">Download all files as zip</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">u</div><div class="svelte-1det3o2">Upload files to album</div></div>',fe=q(),(pe=V("h4")).textContent="Video / audio",ge=q(),(ve=V("div")).innerHTML='<div class="svelte-1det3o2"><div class="svelte-1det3o2">space</div><div class="svelte-1det3o2">Pause / resume playback</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">f</div><div class="svelte-1det3o2">Toggle fullscreen</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">esc</div><div class="svelte-1det3o2">Exit fullscreen</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">m</div><div class="svelte-1det3o2">Mute / unmute playback</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">h</div><div class="svelte-1det3o2">Skip 20 seconds backward</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">j</div><div class="svelte-1det3o2">Skip 5 seconds backward</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">k</div><div class="svelte-1det3o2">Skip 5 seconds forward</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">l</div><div class="svelte-1det3o2">Skip 20 seconds forward</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">,</div><div class="svelte-1det3o2">Skip 40ms backward</div></div> <div class="svelte-1det3o2"><div class="svelte-1det3o2">.</div><div class="svelte-1det3o2">Skip 40ms forward</div></div>',G(g,"href",x="/u/"+t[0].id),G(Mt,"class","button small_button round"),tt(Mt,"margin","0"),et(Mt,"button_highlight",t[3]),tt(Ut,"word-break","break-all"),G(Zt,"class","button_bar svelte-1det3o2"),tt(ie,"text-align","center"),G(le,"class","shortcuts svelte-1det3o2"),G(ue,"class","shortcuts svelte-1det3o2"),G(ve,"class","shortcuts svelte-1det3o2"),G(e,"class","indent")},m(c,x){F(c,e,x),L(e,i),L(i,n),L(n,r),L(r,a),L(r,s),L(r,o),L(o,l),L(n,d),L(n,h),L(h,u),L(h,f),L(h,p),L(p,g),L(g,v),L(g,m),L(g,b),L(n,_),L(n,y),L(y,w),L(y,$),L(y,k),L(k,M),L(n,C),L(n,S),L(S,T),L(S,P),L(S,D),L(D,z),L(n,O),L(n,A),L(A,j),L(A,E),L(A,I),L(I,R),L(I,W),L(I,Y),L(I,X),L(n,K),L(n,J),L(J,Q),L(J,it),L(J,nt),L(nt,rt),L(nt,at),L(nt,st),L(nt,ot),L(nt,lt),L(nt,ct),L(n,dt),L(n,ht),L(ht,ut),L(ht,ft),L(ht,pt),L(pt,gt),L(pt,vt),L(pt,mt),L(pt,bt),L(pt,xt),L(pt,_t),L(n,yt),L(n,wt),L(wt,$t),L($t,kt),L($t,Mt),L(wt,Ct),L(wt,St),L(St,Tt),L(n,Pt),He&&He.m(n,null),L(n,Dt),L(n,zt),L(zt,Ot),L(zt,jt),L(zt,Et),L(Et,Rt),L(n,Ft),Ne&&Ne.m(n,null),L(n,Ht),L(n,Bt),L(Bt,qt),L(Bt,Yt),L(Bt,Ut),L(Ut,Xt),L(e,Kt),L(e,Gt),L(e,Jt),L(e,Zt);for(var H=0;H<We.length;H+=1)We[H]&&We[H].m(Zt,null);L(e,Qt),Vt(te,e,null),L(e,ee),L(e,ie),L(e,ne),L(e,re),L(e,ae),L(e,se),L(e,oe),L(e,le),L(e,ce),L(e,de),L(e,he),L(e,ue),L(e,fe),L(e,pe),L(e,ge),L(e,ve),me=!0,_e||(ye=U(Mt,"click",t[6]),_e=!0)},p(t,e){var i=c(e,1)[0];if((!me||1&i)&&we!==(we=t[0].name+"")&&Z(l,we),(!me||1&i)&&Ce!==(Ce=t[0].id+"")&&Z(b,Ce),(!me||1&i&&x!==(x="/u/"+t[0].id))&&G(g,"href",x),(!me||1&i)&&Se!==(Se=t[0].mime_type+"")&&Z(M,Se),(!me||1&i)&&Te!==(Te=t[0].id+"")&&Z(z,Te),(!me||1&i)&&Pe!==(Pe=xe(t[0].size,4)+"")&&Z(R,Pe),(!me||1&i)&&De!==(De=be(t[0].size)+"")&&Z(Y,De),(!me||1&i)&&ze!==(ze=xe(t[0].bandwidth_used,4)+"")&&Z(rt,ze),(!me||1&i)&&Oe!==(Oe=be(t[0].bandwidth_used)+"")&&Z(st,Oe),(!me||1&i)&&Ae!==(Ae=(t[0].bandwidth_used/t[0].size).toFixed(1)+"")&&Z(lt,Ae),(!me||1&i)&&Le!==(Le=xe(t[0].bandwidth_used_paid,4)+"")&&Z(gt,Le),(!me||1&i)&&je!==(je=be(t[0].bandwidth_used_paid)+"")&&Z(mt,je),(!me||1&i)&&Ee!==(Ee=(t[0].bandwidth_used_paid/t[0].size).toFixed(1)+"")&&Z(xt,Ee),(!me||8&i)&&et(Mt,"button_highlight",t[3]),(!me||1&i)&&Ie!==(Ie=be(t[0].downloads)+"")&&Z(Tt,Ie),t[3]?He||((He=ec()).c(),He.m(n,Dt)):He&&(He.d(1),He=null),(!me||1&i)&&Re!==(Re=ke(t[0].date_upload,!0,!0,!0)+"")&&Z(Rt,Re),t[0].description?Ne?Ne.p(t,i):((Ne=ic(t)).c(),Ne.m(n,Ht)):Ne&&(Ne.d(1),Ne=null),(!me||1&i)&&Fe!==(Fe=t[0].hash_sha256+"")&&Z(Xt,Fe),52&i){var r;for(Ve=It(t[4]),r=0;r<Ve.length;r+=1){var a=tc(t,Ve,r);We[r]?We[r].p(a,i):(We[r]=nc(a),We[r].c(),We[r].m(Zt,null))}for(;r<We.length;r+=1)We[r].d(1);We.length=Ve.length}te.$set({})},i(t){me||(At(te.$$.fragment,t),me=!0)},o(t){Lt(te.$$.fragment,t),me=!1},d(i){i&&H(e),He&&He.d(),Ne&&Ne.d(),N(We,i),t[8](null),Wt(te),_e=!1,ye()}}}function ac(t,e,i){var n,r=e.file,a=void 0===r?{id:"",name:"",mime_type:"",date_upload:"",size:0,downloads:0,bandwidth_used:0,bandwidth_used_paid:0,description:"",hash_sha256:"",timeseries_href:""}:r,s=0,o=0,l=[{label:"Day (1m)",span:1440,interval:1},{label:"Week (1h)",span:10080,interval:60},{label:"Month (1h)",span:43200,interval:60},{label:"Quarter (1d)",span:131400,interval:1440},{label:"Year (1d)",span:525600,interval:1440},{label:"Two Years (1d)",span:1051200,interval:1440},{label:"Five Years (1d)",span:2628e3,interval:1440}],c=(t,e)=>{if(0===t)for(var r=((new Date).getTime()-Date.parse(a.date_upload))/1e3/60,c=0;c<l.length&&(t=l[c].span,e=l[c].interval,!(l[c].span>r));c++);i(2,s=t),o=e,console.log("updating graph",s,o);var d=new Date;d.setMinutes(d.getMinutes()-t);var h=new Date;fetch(a.timeseries_href+"?start="+d.toISOString()+"&end="+h.toISOString()+"&interval="+e).then(t=>t.ok?t.json():null).then(t=>{t.views.timestamps.forEach((e,i)=>{var n=new Date(e),r=("00"+(n.getMonth()+1)).slice(-2);r+="-"+("00"+n.getDate()).slice(-2),r+=" "+("00"+n.getHours()).slice(-2),r+=":"+("00"+n.getMinutes()).slice(-2),t.views.timestamps[i]="  "+r+"  "}),t.bandwidth.amounts.forEach((e,i)=>{t.bandwidth.amounts[i]=Math.round(e/a.size)}),t.bandwidth_paid.amounts.forEach((e,i)=>{t.bandwidth.amounts[i]+=Math.round(e/a.size)}),n.data().labels=t.views.timestamps,n.data().datasets[0].data=t.views.amounts,n.data().datasets[1].data=t.bandwidth.amounts,n.update()})},d=!1;ht(()=>{n.data().datasets=[{label:"Views",borderWidth:2,pointRadius:0,borderColor:Ce("highlight_color"),backgroundColor:Ce("highlight_color")},{label:"Downloads",borderWidth:2,pointRadius:0,borderColor:Ce("danger_color"),backgroundColor:Ce("danger_color")}]});return t.$$set=t=>{"file"in t&&i(0,a=t.file)},t.$$.update=()=>{1&t.$$.dirty&&(t=>{t&&c(0,0)})(a.id)},[a,n,s,d,l,c,()=>i(3,d=!d),t=>{c(t.span,t.interval)},function(t){gt[t?"unshift":"push"](()=>{i(1,n=t)})}]}class sc extends qt{constructor(t){super(),Bt(this,t,ac,rc,b,{file:0},Ql)}}function oc(t){j(t,"svelte-1pco739","svg.svelte-1pco739{color:var(--highlight_color);fill:currentColor}")}function lc(t){var e,i,n;return{c(){e=W("svg"),i=W("path"),G(n=W("animateTransform"),"attributeType","xml"),G(n,"attributeName","transform"),G(n,"type","rotate"),G(n,"from","0 40 40"),G(n,"to","360 40 40"),G(n,"dur","0.6s"),G(n,"repeatCount","indefinite"),G(i,"d","M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1\n\t\tc0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1\n\t\tc1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1\n\t\tl0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5\n\t\tc3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1\n\t\tc0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9\n\t\tc0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9\n\t\tc0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2\n\t\tc-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9\n\t\tc-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1\n\t\tc-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7\n\t\tc-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1\n\t\tc-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z"),G(e,"version","1.1"),G(e,"class","svg_spinner svelte-1pco739"),G(e,"xmlns","http://www.w3.org/2000/svg"),G(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),G(e,"x","0px"),G(e,"y","0px"),G(e,"viewBox","0 0 80 80"),G(e,"xml:space","preserve")},m(t,r){F(t,e,r),L(e,i),L(i,n)},p:h,i:h,o:h,d(t){t&&H(e)}}}class cc extends qt{constructor(t){super(),Bt(this,t,null,lc,b,{},oc)}}var dc="video_positions",hc=null,uc=()=>{if(null!==hc)return hc;var t=JSON.parse(window.localStorage.getItem(dc));return null===t?{}:t},fc=t=>{var e=uc();return void 0===e[t]?null:e[t]},pc=(t,e)=>{var i=0,n=t=>{i=0;var n=fc(e());null!==n&&0!==n.pos&&0!==n.dur&&(n.pos/n.dur>.95?console.debug("Video is at end, not setting time"):(t.target.currentTime=n.pos,i=n.pos))},r=t=>{var n=t.target;Math.abs(n.currentTime-i)>10&&(((t,e,i)=>{if(!(i<300)){var n=uc();n[t]={time:(new Date).getTime(),pos:e,dur:i};var r=(new Date).getTime()-24192e5;for(var a in n)n[a].time<r&&(delete n[a],console.debug("Delete old video position",a));window.localStorage.setItem(dc,JSON.stringify(n)),hc=n}})(e(),n.currentTime,n.duration),i=n.currentTime)};return t.addEventListener("loadeddata",n),t.addEventListener("timeupdate",r),{destroy(){t.removeEventListener("loadeddata",n),t.removeEventListener("timeupdate",r)}}};function gc(t){j(t,"svelte-1j18l4r",".block.svelte-1j18l4r{display:block;text-align:initial;max-width:99%;overflow-wrap:anywhere;margin:8px auto;background-color:var(--shaded_background);backdrop-filter:blur(4px);border-radius:8px;padding:8px}.center.svelte-1j18l4r{text-align:center}")}function vc(t){var e,i,n=t[3].default,r=y(n,t,t[2],null);return{c(){e=V("div"),r&&r.c(),G(e,"class","block svelte-1j18l4r"),tt(e,"width",t[0]),et(e,"center",t[1])},m(t,n){F(t,e,n),r&&r.m(e,null),i=!0},p(t,a){var s=c(a,1)[0];r&&r.p&&(!i||4&s)&&k(r,n,t,t[2],i?$(n,t[2],s,null):M(t[2]),null),(!i||1&s)&&tt(e,"width",t[0]),(!i||2&s)&&et(e,"center",t[1])},i(t){i||(At(r,t),i=!0)},o(t){Lt(r,t),i=!1},d(t){t&&H(e),r&&r.d(t)}}}function mc(t,e,i){var n=e.$$slots,r=void 0===n?{}:n,a=e.$$scope,s=e.width,o=void 0===s?"750px":s,l=e.center,c=void 0!==l&&l;return t.$$set=t=>{"width"in t&&i(0,o=t.width),"center"in t&&i(1,c=t.center),"$$scope"in t&&i(2,a=t.$$scope)},[o,c,a,r]}class bc extends qt{constructor(t){super(),Bt(this,t,mc,vc,b,{width:0,center:1},gc)}}function xc(t){j(t,"svelte-meq5g",".progress_bar_outer.svelte-meq5g{display:block;background:var(--background_color);width:100%;height:6px;border-radius:6px;overflow:hidden;margin:6px 0}.progress_bar_inner.svelte-meq5g{background:var(--highlight_background);height:100%;width:0;border-radius:6px;transition-property:width}.no_animation.svelte-meq5g{transition-property:none}.no_margin.svelte-meq5g{margin:0}")}function _c(t){var e,i;return{c(){e=V("div"),G(i=V("div"),"class","progress_bar_inner svelte-meq5g"),tt(i,"width",t[5]+"%"),tt(i,"transition-timing-function",t[0]),tt(i,"transition-duration",t[1]+"ms"),et(i,"no_animation",t[2]),G(e,"class","progress_bar_outer svelte-meq5g"),G(e,"style",t[4]),et(e,"no_margin",t[3])},m(t,n){F(t,e,n),L(e,i)},p(t,n){var r=c(n,1)[0];32&r&&tt(i,"width",t[5]+"%"),1&r&&tt(i,"transition-timing-function",t[0]),2&r&&tt(i,"transition-duration",t[1]+"ms"),4&r&&et(i,"no_animation",t[2]),16&r&&G(e,"style",t[4]),8&r&&et(e,"no_margin",t[3])},i:h,o:h,d(t){t&&H(e)}}}function yc(t,e,i){var n=e.total,r=void 0===n?0:n,a=e.used,s=void 0===a?0:a,o=e.animation,l=void 0===o?"ease":o,c=e.speed,d=void 0===c?1e3:c,h=e.no_animation,u=void 0!==h&&h,f=e.no_margin,p=void 0!==f&&f,g=e.style,v=void 0===g?"":g,m=0;return t.$$set=t=>{"total"in t&&i(6,r=t.total),"used"in t&&i(7,s=t.used),"animation"in t&&i(0,l=t.animation),"speed"in t&&i(1,d=t.speed),"no_animation"in t&&i(2,u=t.no_animation),"no_margin"in t&&i(3,p=t.no_margin),"style"in t&&i(4,v=t.style)},t.$$.update=()=>{192&t.$$.dirty&&(0===r&&i(6,r=1),i(5,m=s/r>1?100:s/r*100))},[l,d,u,p,v,m,r,s]}class wc extends qt{constructor(t){super(),Bt(this,t,yc,_c,b,{total:6,used:7,animation:0,speed:1,no_animation:2,no_margin:3,style:4},xc)}}var $c=[];function kc(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=new Set;function a(i){if(b(t,i)&&(t=i,e)){var a,s=!$c.length,o=n(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;l[1](),$c.push(l,t)}}catch(t){o.e(t)}finally{o.f()}if(s){for(var c=0;c<$c.length;c+=2)$c[c][0]($c[c+1]);$c.length=0}}}function s(e){a(e(t))}return{set:a,update:s,subscribe:function(n){var o=[n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:h];return r.add(o),1===r.size&&(e=i(a,s)||h),n(t),()=>{r.delete(o),0===r.size&&e&&(e(),e=null)}}}}var Mc,Cc={file_stats:{},limits:{}},Sc=(Mc=t=>(Pc(t),()=>Dc(t)),{subscribe:kc(Cc,Mc).subscribe}),Tc=null,Pc=t=>{null===Tc&&(console.log("Initializing stats socket"),(Tc=new WebSocket(location.origin.replace(/^http/,"ws")+"/api/file_stats")).onopen=()=>{Cc.connected=!0,Oc({type:"limits"})},Tc.onmessage=e=>{var i=JSON.parse(e.data);console.debug("WS update",i),"file_stats"===i.type?(Cc.file_stats=i.file_stats,Cc.file_stats_init=!0,t(Cc)):"limits"===i.type?(Cc.limits=i.limits,Cc.limits_init=!0,t(Cc)):console.error("Unknown ws message type",i.type,"data",e.data)},Tc.onerror=e=>{console.error("Stats socket error",e),Dc(t),window.setTimeout(()=>Pc(t),2e3)},Tc.onclose=e=>{console.debug("Stats socket close",e),Dc(t),window.setTimeout(()=>Pc(t),2e3)})},Dc=t=>{null!==Tc&&(Tc.onerror=null,Tc.onclose=null,Tc.close(),Tc=null,Cc.connected=!1,Cc.file_stats_init=!1,Cc.limits_init=!1,t(Cc))},zc=[],Oc=t=>{if(null!==Tc&&Tc.readyState===WebSocket.OPEN){for(;0!==zc.length;)Tc.send(JSON.stringify(zc.shift()));Tc.send(JSON.stringify(t))}else null!==t&&(zc.push(t),console.debug("Socket is closed, command",t,"added to queue"))};function Ac(t){var e,i;return e=new bc({props:{center:!0,$$slots:{default:[Lc]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};3&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Lc(t){var e,i,n,r,a,s,o,l,c,d,h,u=xe(t[0].limits.transfer_limit_used,3)+"",f=xe(t[0].limits.transfer_limit,3)+"";return d=new wc({props:{total:t[0].limits.transfer_limit,used:t[0].limits.transfer_limit_used}}),{c(){e=V("p"),i=B("You have used\n\t\t\t"),n=B(u),r=B("\n\t\t\tof your daily\n\t\t\t"),a=B(f),s=B("\n\t\t\ttransfer limit. When the transfer limit is exceeded the download\n\t\t\tspeed for new downloads will be limited. Exceeding the limit no\n\t\t\tlonger affects running downloads."),o=q(),(l=V("p")).innerHTML='<strong><a href="/user/prepaid/deposit" target="_blank" class="button button_highlight" rel="noreferrer"><i class="icon">bolt</i> Upgrade your account</a>\n\t\t\t\tto disable the transfer limit</strong>',c=q(),Nt(d.$$.fragment)},m(t,u){F(t,e,u),L(e,i),L(e,n),L(e,r),L(e,a),L(e,s),F(t,o,u),F(t,l,u),F(t,c,u),Vt(d,t,u),h=!0},p(t,e){(!h||1&e)&&u!==(u=xe(t[0].limits.transfer_limit_used,3)+"")&&Z(n,u),(!h||1&e)&&f!==(f=xe(t[0].limits.transfer_limit,3)+"")&&Z(a,f);var i={};1&e&&(i.total=t[0].limits.transfer_limit),1&e&&(i.used=t[0].limits.transfer_limit_used),d.$set(i)},i(t){h||(At(d.$$.fragment,t),h=!0)},o(t){Lt(d.$$.fragment,t),h=!1},d(t){t&&(H(e),H(o),H(l),H(c)),Wt(d,t)}}}function jc(t){var e,i,n=t[0].limits_init&&Ac(t);return{c(){n&&n.c(),e=Y()},m(t,r){n&&n.m(t,r),F(t,e,r),i=!0},p(t,i){var r=c(i,1)[0];t[0].limits_init?n?(n.p(t,r),1&r&&At(n,1)):((n=Ac(t)).c(),At(n,1),n.m(e.parentNode,e)):n&&(zt(),Lt(n,1,1,()=>{n=null}),Ot())},i(t){i||(At(n),i=!0)},o(t){Lt(n),i=!1},d(t){t&&H(e),n&&n.d(t)}}}function Ec(t,e,i){var n;return _(t,Sc,t=>i(0,n=t)),[n]}class Ic extends qt{constructor(t){super(),Bt(this,t,Ec,jc,b,{})}}function Rc(t){j(t,"svelte-40do4p",".block.svelte-40do4p{display:flex;flex-direction:row;margin:8px auto}@media(max-width: 400px){.block.svelte-40do4p{flex-direction:column}}.icon.svelte-40do4p{flex:0 0 auto;margin-right:8px;border-radius:8px;align-self:center;width:128px}.description.svelte-40do4p{flex:1 1 auto;display:inline-block;text-align:initial;padding-left:8px;vertical-align:middle;overflow-wrap:anywhere;background-color:var(--shaded_background);backdrop-filter:blur(4px);border-radius:8px;padding:8px}")}function Fc(t){var e,i,n,r,a,s,o=t[3].default,l=y(o,t,t[2],null);return{c(){e=V("div"),i=V("img"),r=q(),a=V("div"),l&&l.c(),x(i.src,n=t[0])||G(i,"src",n),G(i,"alt","File icon"),G(i,"class","icon svelte-40do4p"),G(a,"class","description svelte-40do4p"),G(e,"class","block svelte-40do4p"),tt(e,"width",t[1]),tt(e,"max-width","100%")},m(t,n){F(t,e,n),L(e,i),L(e,r),L(e,a),l&&l.m(a,null),s=!0},p(t,r){var a=c(r,1)[0];(!s||1&a&&!x(i.src,n=t[0]))&&G(i,"src",n),l&&l.p&&(!s||4&a)&&k(l,o,t,t[2],s?$(o,t[2],a,null):M(t[2]),null),(!s||2&a)&&tt(e,"width",t[1])},i(t){s||(At(l,t),s=!0)},o(t){Lt(l,t),s=!1},d(t){t&&H(e),l&&l.d(t)}}}function Hc(t,e,i){var n=e.$$slots,r=void 0===n?{}:n,a=e.$$scope,s=e.icon_href,o=void 0===s?"":s,l=e.width,c=void 0===l?"750px":l;return t.$$set=t=>{"icon_href"in t&&i(0,o=t.icon_href),"width"in t&&i(1,c=t.width),"$$scope"in t&&i(2,a=t.$$scope)},[o,c,a,r]}class Nc extends qt{constructor(t){super(),Bt(this,t,Hc,Fc,b,{icon_href:0,width:1},Rc)}}function Vc(t){j(t,"svelte-1fg9p5f","h1.svelte-1fg9p5f.svelte-1fg9p5f{text-shadow:1px 1px 3px var(--shadow_color);line-break:anywhere}.container.svelte-1fg9p5f.svelte-1fg9p5f{display:flex;flex-direction:column;height:100%;width:100%}.player_and_controls.svelte-1fg9p5f.svelte-1fg9p5f{flex:1 1 0;display:flex;flex-direction:column;overflow:auto;height:100%;width:100%}.player.svelte-1fg9p5f.svelte-1fg9p5f{flex:1 1 auto;display:flex;justify-content:center;text-align:center;overflow:hidden}.controls.svelte-1fg9p5f.svelte-1fg9p5f{flex:0 0 auto;display:flex;flex-direction:row;overflow:auto;background-color:var(--shaded_background);backdrop-filter:blur(4px);padding:0 2px 2px 2px;align-items:center}.controls.svelte-1fg9p5f>.svelte-1fg9p5f{flex:0 0 auto}.controls.svelte-1fg9p5f>.spacer.svelte-1fg9p5f{flex:1 1 auto}@media(max-height: 500px){.player_and_controls.svelte-1fg9p5f.svelte-1fg9p5f{flex-direction:row}.controls.svelte-1fg9p5f.svelte-1fg9p5f{flex-direction:column}}.compatibility_warning.svelte-1fg9p5f.svelte-1fg9p5f{background-color:var(--shaded_background);backdrop-filter:blur(4px);border-bottom:2px solid #6666FF;padding:4px}")}function Wc(t){var e,i,n,r,a,s,o,l=t[4].name+"";r=new Nc({props:{icon_href:t[4].icon_href,$$slots:{default:[qc]},$$scope:{ctx:t}}});var c=t[4].show_ads&&Yc();return{c(){e=V("h1"),i=B(l),n=q(),Nt(r.$$.fragment),a=q(),c&&c.c(),s=Y(),G(e,"class","svelte-1fg9p5f")},m(t,l){F(t,e,l),L(e,i),F(t,n,l),Vt(r,t,l),F(t,a,l),c&&c.m(t,l),F(t,s,l),o=!0},p(t,e){(!o||16&e)&&l!==(l=t[4].name+"")&&Z(i,l);var n={};16&e&&(n.icon_href=t[4].icon_href),33554432&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n),t[4].show_ads?c?16&e&&At(c,1):((c=Yc()).c(),At(c,1),c.m(s.parentNode,s)):c&&(zt(),Lt(c,1,1,()=>{c=null}),Ot())},i(t){o||(At(r.$$.fragment,t),At(c),o=!0)},o(t){Lt(r.$$.fragment,t),Lt(c),o=!1},d(t){t&&(H(e),H(n),H(a),H(s)),Wt(r,t),c&&c.d(t)}}}function Bc(t){var e,i=!t[7]&&Uc(t);return{c(){i&&i.c(),e=Y()},m(t,n){i&&i.m(t,n),F(t,e,n)},p(t,n){t[7]?i&&(i.d(1),i=null):i?i.p(t,n):((i=Uc(t)).c(),i.m(e.parentNode,e))},i:h,o:h,d(t){t&&H(e),i&&i.d(t)}}}function qc(t){var e,i,n,r,a,s,o,l,c,d;return{c(){e=B("The online video player on pixeldrain is only available while logged in\n\t\tto an account, or if the uploading user has verified their e-mail\n\t\taddress. You can still download the video and watch it locally on your\n\t\tcomputer without an account.\n\n\t\t"),i=V("br"),n=q(),(r=V("button")).innerHTML='<i class="icon">download</i> Download',a=q(),(s=V("a")).innerHTML='<i class="icon">login</i> Log in',o=q(),(l=V("a")).innerHTML='<i class="icon">how_to_reg</i> Sign up',G(s,"href","/login"),G(s,"class","button"),G(l,"href","/register"),G(l,"class","button")},m(h,u){F(h,e,u),F(h,i,u),F(h,n,u),F(h,r,u),F(h,a,u),F(h,s,u),F(h,o,u),F(h,l,u),c||(d=U(r,"click",t[10]),c=!0)},p:h,d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s),H(o),H(l)),c=!1,d()}}}function Yc(t){var e,i;return e=new Ic({}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Uc(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,b,_,y,w,$,k,M,S,T,P,D,z,O,A,j=("video/x-matroska"===t[4].mime_type||"video/quicktime"===t[4].mime_type||"video/x-ms-asf"===t[4].mime_type)&&Xc(),E=t[0]&&Kc(t);function I(t,e){return t[6]?Jc:Gc}var R=I(t),N=R(t),W=t[0]&&Zc(t);function B(t,e){return t[5]&&t[5].muted?td:Qc}var Y=B(t),X=Y(t);return{c(){e=V("div"),j&&j.c(),i=q(),n=V("div"),r=V("video"),a=V("source"),c=q(),d=V("div"),h=V("div"),u=q(),E&&E.c(),f=q(),(p=V("button")).innerHTML='<i class="icon">replay_10</i>',g=q(),b=V("button"),N.c(),_=q(),(y=V("button")).innerHTML='<i class="icon">forward_10</i>',w=q(),W&&W.c(),$=q(),k=V("div"),M=q(),S=V("button"),X.c(),T=q(),(P=V("button")).innerHTML='<i class="icon">fullscreen</i>',D=q(),z=V("div"),x(a.src,s=t[4].get_href)||G(a,"src",s),G(a,"type",o=t[4].mime_type),r.controls=!0,r.playsInline=!0,r.loop=t[8],G(r,"class","player svelte-1fg9p5f"),G(h,"class","spacer svelte-1fg9p5f"),G(p,"class","svelte-1fg9p5f"),G(b,"class","button_highlight svelte-1fg9p5f"),G(y,"class","svelte-1fg9p5f"),tt(k,"width","16px"),tt(k,"height","8px"),G(k,"class","svelte-1fg9p5f"),G(S,"class","svelte-1fg9p5f"),et(S,"button_red",t[5]&&t[5].muted),G(P,"class","svelte-1fg9p5f"),G(z,"class","spacer svelte-1fg9p5f"),G(d,"class","controls svelte-1fg9p5f"),G(n,"class","player_and_controls svelte-1fg9p5f"),G(e,"class","container svelte-1fg9p5f")},m(s,o){F(s,e,o),j&&j.m(e,null),L(e,i),L(e,n),L(n,r),L(r,a),t[15](r),L(n,c),L(n,d),L(d,h),L(d,u),E&&E.m(d,null),L(d,f),L(d,p),L(d,g),L(d,b),N.m(b,null),L(d,_),L(d,y),L(d,w),W&&W.m(d,null),L(d,$),L(d,k),L(d,M),L(d,S),X.m(S,null),L(d,T),L(d,P),L(d,D),L(d,z),O||(A=[U(r,"pause",t[16]),U(r,"play",t[17]),U(r,"ended",t[18]),U(r,"keydown",t[13]),C(l=pc.call(null,r,t[19])),U(p,"click",t[21]),U(b,"click",t[1]),U(y,"click",t[22]),U(S,"click",t[2]),U(P,"click",t[11])],O=!0)},p(t,n){"video/x-matroska"===t[4].mime_type||"video/quicktime"===t[4].mime_type||"video/x-ms-asf"===t[4].mime_type?j||((j=Xc()).c(),j.m(e,i)):j&&(j.d(1),j=null),16&n&&!x(a.src,s=t[4].get_href)&&G(a,"src",s),16&n&&o!==(o=t[4].mime_type)&&G(a,"type",o),256&n&&(r.loop=t[8]),l&&m(l.update)&&16&n&&l.update.call(null,t[19]),t[0]?E?E.p(t,n):((E=Kc(t)).c(),E.m(d,f)):E&&(E.d(1),E=null),R!==(R=I(t))&&(N.d(1),(N=R(t))&&(N.c(),N.m(b,null))),t[0]?W?W.p(t,n):((W=Zc(t)).c(),W.m(d,$)):W&&(W.d(1),W=null),Y!==(Y=B(t))&&(X.d(1),(X=Y(t))&&(X.c(),X.m(S,null))),32&n&&et(S,"button_red",t[5]&&t[5].muted)},d(i){i&&H(e),j&&j.d(),t[15](null),E&&E.d(),N.d(),W&&W.d(),X.d(),O=!1,v(A)}}}function Xc(t){var e;return{c(){(e=V("div")).textContent="This video file type is not compatible with every web\n\t\t\t\t\tbrowser. If the video fails to play you can try downloading\n\t\t\t\t\tthe video and watching it locally.",G(e,"class","compatibility_warning svelte-1fg9p5f")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Kc(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">skip_previous</i>',G(e,"class","svelte-1fg9p5f")},m(r,a){F(r,e,a),i||(n=U(e,"click",t[20]),i=!0)},p:h,d(t){t&&H(e),i=!1,n()}}}function Gc(t){var e;return{c(){(e=V("i")).textContent="play_arrow",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Jc(t){var e;return{c(){(e=V("i")).textContent="pause",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Zc(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">skip_next</i>',G(e,"class","svelte-1fg9p5f")},m(r,a){F(r,e,a),i||(n=U(e,"click",t[23]),i=!0)},p:h,d(t){t&&H(e),i=!1,n()}}}function Qc(t){var e;return{c(){(e=V("i")).textContent="volume_up",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function td(t){var e;return{c(){(e=V("i")).textContent="volume_off",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function ed(t){var e,i,n,r,a,s,o=[Bc,Wc],l=[];function d(t,e){return t[4].allow_video_player?0:1}return e=d(t),i=l[e]=o[e](t),{c(){i.c(),n=Y()},m(i,o){l[e].m(i,o),F(i,n,o),r=!0,a||(s=U(window,"keypress",t[12]),a=!0)},p(t,r){var a=c(r,1)[0],s=e;(e=d(t))===s?l[e].p(t,a):(zt(),Lt(l[s],1,1,()=>{l[s]=null}),Ot(),(i=l[e])?i.p(t,a):(i=l[e]=o[e](t)).c(),At(i,1),i.m(n.parentNode,n))},i(t){r||(At(i),r=!0)},o(t){Lt(i),r=!1},d(t){t&&H(n),l[e].d(t),a=!1,s()}}}function id(t,e,n){var r,a,s=ut(),l=e.is_list,c=void 0!==l&&l,d={id:"",size:0,name:"",mime_type:"",get_href:"",icon_href:"",allow_video_player:!0,show_ads:!1,download_speed_limit:0},h=!1,u=!1,f=!1,p=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:if(i=e.id==d.id,n(4,d=e),f&&(navigator.mediaSession.metadata=new MediaMetadata({title:d.name,artist:"pixeldrain",album:"unknown"}),console.log("updating media session")),i){t.n=2;break}return n(7,u=!0),t.n=1,yt();case 1:n(7,u=!1);case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),g=t=>{a.fastSeek&&t>5?a.fastSeek(a.currentTime+t):n(5,a.currentTime=a.currentTime+t,a)};ht(()=>{"mediaSession"in navigator&&(f=!0,navigator.mediaSession.setActionHandler("play",()=>a.play()),navigator.mediaSession.setActionHandler("pause",()=>a.pause()),navigator.mediaSession.setActionHandler("stop",()=>a.stop()),navigator.mediaSession.setActionHandler("previoustrack",()=>s("prev",{})),navigator.mediaSession.setActionHandler("nexttrack",()=>s("next",{})))});var v=()=>{null===document.fullscreenElement?a.requestFullscreen():document.exitFullscreen()};return t.$$set=t=>{"is_list"in t&&n(0,c=t.is_list)},t.$$.update=()=>{16&t.$$.dirty&&n(8,r=d.name.includes(".loop."))},[c,()=>h?a.pause():a.play(),()=>n(5,a.muted=!a.muted,a),g,d,a,h,u,r,s,()=>{s("download",{})},v,t=>{t.ctrlKey||t.altKey||t.metaKey||document.activeElement.type&&("text"===document.activeElement.type||"email"===document.activeElement.type||"textarea"===document.activeElement.type)||"f"===t.key&&v()},t=>{" "===t.key&&t.stopPropagation()},p,function(t){gt[t?"unshift":"push"](()=>{n(5,a=t)})},()=>n(6,h=!1),()=>n(6,h=!0),()=>s("next",{}),()=>d.id,()=>s("prev"),()=>g(-10),()=>g(10),()=>s("next")]}class nd extends qt{constructor(t){super(),Bt(this,t,id,ed,b,{is_list:0,set_file:14,toggle_playback:1,toggle_mute:2,seek:3},Vc)}get set_file(){return this.$$.ctx[14]}get toggle_playback(){return this.$$.ctx[1]}get toggle_mute(){return this.$$.ctx[2]}get seek(){return this.$$.ctx[3]}}function rd(t){j(t,"svelte-xeankq","h1.svelte-xeankq{text-shadow:1px 1px 2px #000000;line-break:anywhere}")}function ad(t){var e,i;return{c(){e=V("h1"),i=B(t[0]),G(e,"class","svelte-xeankq")},m(t,n){F(t,e,n),L(e,i)},p(t,e){1&c(e,1)[0]&&Z(i,t[0])},i:h,o:h,d(t){t&&H(e)}}}function sd(t,e,i){var n=e.title,r=void 0===n?"":n;return t.$$set=t=>{"title"in t&&i(0,r=t.title)},[r]}class od extends qt{constructor(t){super(),Bt(this,t,sd,ad,b,{title:0},rd)}}function ld(t){j(t,"svelte-m3fqwd",".container.svelte-m3fqwd{width:100%;margin:30px 0 0 0;padding:0;text-align:center}.player.svelte-m3fqwd{width:90%}")}function cd(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">skip_previous</i>'},m(r,a){F(r,e,a),i||(n=U(e,"click",t[11]),i=!0)},p:h,d(t){t&&H(e),i=!1,n()}}}function dd(t){var e;return{c(){(e=V("i")).textContent="play_arrow",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function hd(t){var e;return{c(){(e=V("i")).textContent="pause",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function ud(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">skip_next</i>'},m(r,a){F(r,e,a),i||(n=U(e,"click",t[14]),i=!0)},p:h,d(t){t&&H(e),i=!1,n()}}}function fd(t){var e,i,n,r,a,s;return{c(){e=V("audio"),x((i=V("source")).src,n=t[2].get_href)||G(i,"src",n),G(i,"type",r=t[2].mime_type),G(e,"class","player svelte-m3fqwd"),e.controls=!0,G(e,"playsinline",""),e.autoplay=!0,e.loop=t[6]},m(n,r){F(n,e,r),L(e,i),t[15](e),a||(s=[U(e,"pause",t[16]),U(e,"play",t[17]),U(e,"ended",t[18])],a=!0)},p(t,a){4&a&&!x(i.src,n=t[2].get_href)&&G(i,"src",n),4&a&&r!==(r=t[2].mime_type)&&G(i,"type",r),64&a&&(e.loop=t[6])},d(i){i&&H(e),t[15](null),a=!1,v(s)}}}function pd(t){var e,i;return e=new Ic({}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function gd(t){var e,i,n,r,a,s,o,l,d,h,u,f,p,g,m,b,x,_,y,w,$;i=new od({props:{title:t[2].name}});var k=t[0]&&cd(t);function M(t,e){return t[4]?hd:dd}var C=M(t),S=C(t),T=t[0]&&ud(t),P=t[2].id&&!t[5]&&fd(t),D=t[2].show_ads&&pd();return{c(){e=V("div"),Nt(i.$$.fragment),n=q(),k&&k.c(),r=q(),(a=V("button")).innerHTML='<i class="icon">replay_10</i>',s=q(),o=V("button"),S.c(),l=q(),(d=V("button")).innerHTML='<i class="icon">forward_10</i>',h=q(),T&&T.c(),u=q(),f=V("br"),p=V("br"),g=q(),P&&P.c(),m=q(),b=V("br"),x=V("br"),_=q(),D&&D.c(),G(e,"class","container svelte-m3fqwd")},m(c,v){F(c,e,v),Vt(i,e,null),L(e,n),k&&k.m(e,null),L(e,r),L(e,a),L(e,s),L(e,o),S.m(o,null),L(e,l),L(e,d),L(e,h),T&&T.m(e,null),L(e,u),L(e,f),L(e,p),L(e,g),P&&P.m(e,null),L(e,m),L(e,b),L(e,x),L(e,_),D&&D.m(e,null),y=!0,w||($=[U(a,"click",t[12]),U(o,"click",t[1]),U(d,"click",t[13])],w=!0)},p(t,n){var a=c(n,1)[0],s={};4&a&&(s.title=t[2].name),i.$set(s),t[0]?k?k.p(t,a):((k=cd(t)).c(),k.m(e,r)):k&&(k.d(1),k=null),C!==(C=M(t))&&(S.d(1),(S=C(t))&&(S.c(),S.m(o,null))),t[0]?T?T.p(t,a):((T=ud(t)).c(),T.m(e,u)):T&&(T.d(1),T=null),t[2].id&&!t[5]?P?P.p(t,a):((P=fd(t)).c(),P.m(e,m)):P&&(P.d(1),P=null),t[2].show_ads?D?4&a&&At(D,1):((D=pd()).c(),At(D,1),D.m(e,null)):D&&(zt(),Lt(D,1,1,()=>{D=null}),Ot())},i(t){y||(At(i.$$.fragment,t),At(D),y=!0)},o(t){Lt(i.$$.fragment,t),Lt(D),y=!1},d(t){t&&H(e),Wt(i),k&&k.d(),S.d(),T&&T.d(),P&&P.d(),D&&D.d(),w=!1,v($)}}}function vd(t,e,n){var r,a,s=ut(),l=e.is_list,c=void 0!==l&&l,d={id:"",name:"",mime_type:"",get_href:"",show_ads:!1,download_speed_limit:0},h=!1,u=!1,f=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:if(i=e.id==d.id,n(2,d=e),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",()=>a.play()),navigator.mediaSession.setActionHandler("pause",()=>a.pause()),navigator.mediaSession.setActionHandler("stop",()=>a.stop()),navigator.mediaSession.setActionHandler("previoustrack",()=>s("prev",{})),navigator.mediaSession.setActionHandler("nexttrack",()=>s("next",{})),navigator.mediaSession.metadata=new MediaMetadata({title:d.name,artist:"pixeldrain",album:"unknown"}),console.log("updating media session")),i){t.n=2;break}return n(5,u=!0),t.n=1,yt();case 1:n(5,u=!1);case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();return t.$$set=t=>{"is_list"in t&&n(0,c=t.is_list)},t.$$.update=()=>{4&t.$$.dirty&&n(6,r=d.name.includes(".loop."))},[c,()=>h?a.pause():a.play(),d,a,h,u,r,s,f,()=>n(3,a.muted=!a.muted,a),t=>{a.fastSeek&&t>5?a.fastSeek(a.currentTime+t):n(3,a.currentTime=a.currentTime+t,a)},()=>s("prev"),()=>n(3,a.currentTime-=10,a),()=>n(3,a.currentTime+=10,a),()=>s("next"),function(t){gt[t?"unshift":"push"](()=>{n(3,a=t)})},()=>n(4,h=!1),()=>n(4,h=!0),()=>{s("next",{})}]}class md extends qt{constructor(t){super(),Bt(this,t,vd,gd,b,{is_list:0,set_file:8,toggle_playback:1,toggle_mute:9,seek:10},ld)}get set_file(){return this.$$.ctx[8]}get toggle_playback(){return this.$$.ctx[1]}get toggle_mute(){return this.$$.ctx[9]}get seek(){return this.$$.ctx[10]}}var bd=(t,e)=>{var i=0,n=0,r=0,a=void 0===e.enabled||e.enabled,s=void 0===e.prev||e.prev,o=void 0===e.next||e.next,l=t=>{i=t.touches[0].clientX,n=t.touches[0].clientY,r=0},c=t=>{var e=t.touches[0].clientX-i;if(!(!a||e<0&&!o||e>0&&!s)){var r=Math.abs(e),l=Math.abs(t.touches[0].clientY-n);r>25&&l<r/3?h((r-25)*(e<0?-1:1),!1):h(0,!0)}},d=t=>{a&&(r>75?(h(1e3,!0),e.on_prev()):r<-75?(h(-1e3,!0),e.on_next()):h(0,!0))},h=(e,i)=>{r=e,0===e?(t.style.transform="",t.style.transition=""):(t.style.transform="translateX("+e+"px)",i&&(t.style.transition="transform 400ms"))};t.addEventListener("touchstart",l),t.addEventListener("touchmove",c),t.addEventListener("touchend",d);for(var u=0;u<t.childNodes.length;u++){var f=t.childNodes.item(u);f instanceof HTMLImageElement&&f.addEventListener("load",()=>h(0,!1))}return{update(t){a=void 0===t.enabled||t.enabled,s=void 0===t.prev||t.prev,o=void 0===t.next||t.next,h(0,!1)},destroy(){t.removeEventListener("touchstart",l),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",d)}}};function xd(t){j(t,"svelte-15prjjn",".container.svelte-15prjjn{display:flex;justify-content:center;height:100%;width:100%;overflow:hidden}.container.zoom.svelte-15prjjn{overflow:auto;justify-content:unset}.image.svelte-15prjjn{position:relative;display:block;margin:auto;max-width:100%;max-height:100%;cursor:pointer}.image.zoom.svelte-15prjjn{max-width:none;max-height:none;cursor:move}")}function _d(t){var e,i,n,r,a,s,o;return{c(){e=V("div"),G(i=V("img"),"class","image svelte-15prjjn"),x(i.src,n=t[1].get_href)||G(i,"src",n),G(i,"alt",r=t[1].name),et(i,"zoom",t[3]),G(e,"class","container svelte-15prjjn"),et(e,"zoom",t[3])},m(n,r){F(n,e,r),L(e,i),t[11](e),s||(o=[U(window,"mousemove",t[7]),U(window,"mouseup",t[8]),U(i,"load",t[9]),U(i,"error",t[9]),U(i,"dblclick",t[5]),U(i,"mousedown",t[6]),C(a=bd.call(null,e,{enabled:!t[3]&&t[0],prev:!0,next:!0,on_prev:t[12],on_next:t[13]}))],s=!0)},p(t,s){var o=c(s,1)[0];2&o&&!x(i.src,n=t[1].get_href)&&G(i,"src",n),2&o&&r!==(r=t[1].name)&&G(i,"alt",r),8&o&&et(i,"zoom",t[3]),a&&m(a.update)&&9&o&&a.update.call(null,{enabled:!t[3]&&t[0],prev:!0,next:!0,on_prev:t[12],on_next:t[13]}),8&o&&et(e,"zoom",t[3])},i:h,o:h,d(i){i&&H(e),t[11](null),s=!1,v(o)}}}function yd(t,e,i){var n,r,a=ut(),s={id:"",name:"",mime_type:"",get_href:""},o=e.is_list,l=void 0!==o&&o,c=!1,d=0,h=!1,u=0;return t.$$set=t=>{"is_list"in t&&i(0,l=t.is_list)},[l,s,n,c,a,t=>{var e=Date.now();e-u>500&&i(3,c=!c),u=e},t=>{if(!h&&1===t.which&&c)return r=t.pageX,d=t.pageY,h=!0,t.preventDefault(),t.stopPropagation(),!1},t=>{if(h)return i(2,n.scrollLeft=n.scrollLeft-(t.pageX-r),n),i(2,n.scrollTop=n.scrollTop-(t.pageY-d),n),r=t.pageX,d=t.pageY,t.preventDefault(),t.stopPropagation(),!1},t=>{if(h)return h=!1,t.preventDefault(),t.stopPropagation(),!1},()=>a("loading",!1),t=>{i(1,s=t),a("loading",!0)},function(t){gt[t?"unshift":"push"](()=>{i(2,n=t)})},()=>a("prev"),()=>a("prev")]}class wd extends qt{constructor(t){super(),Bt(this,t,yd,_d,b,{set_file:10,is_list:0},xd)}get set_file(){return this.$$.ctx[10]}}function $d(t){j(t,"svelte-1dhzsqz",".container.svelte-1dhzsqz{position:relative;display:block;height:100%;width:100%;text-align:center;overflow:hidden;border:none}")}function kd(t){var e,i;return{c(){G(e=V("iframe"),"class","container svelte-1dhzsqz"),x(e.src,i="/res/misc/pdf-viewer/web/viewer.html?file="+encodeURIComponent(t[0].get_href))||G(e,"src",i),G(e,"title","PDF viewer")},m(t,i){F(t,e,i)},p(t,n){1&c(n,1)[0]&&!x(e.src,i="/res/misc/pdf-viewer/web/viewer.html?file="+encodeURIComponent(t[0].get_href))&&G(e,"src",i)},i:h,o:h,d(t){t&&H(e)}}}function Md(t,e,i){var n={get_href:""};return[n,t=>i(0,n=t)]}class Cd extends qt{constructor(t){super(),Bt(this,t,Md,kd,b,{set_file:1},$d)}get set_file(){return this.$$.ctx[1]}}function Sd(t){j(t,"svelte-1cdvqtq",".container.svelte-1cdvqtq.svelte-1cdvqtq{background:var(--body_color);text-align:left;height:100%;width:100%;line-height:1.5em;overflow-y:auto;overflow-x:hidden}.container.svelte-1cdvqtq>pre.svelte-1cdvqtq{margin:0;padding:10px;white-space:pre-wrap;overflow:hidden;border:none;font-size:0.9em;word-break:break-word}.container.svelte-1cdvqtq>.md.svelte-1cdvqtq{display:block;padding:10px;margin:auto;text-align:justify}")}function Td(t){var e;return{c(){(e=V("pre")).textContent="\t\t\tLoading...\n\t\t",G(e,"class","pre-container prettyprint linenums svelte-1cdvqtq")},m(i,n){F(i,e,n),t[8](e)},p:h,d(i){i&&H(e),t[8](null)}}}function Pd(t){var e;return{c(){(e=V("pre")).textContent="\t\t\tLoading...\n\t\t",G(e,"class","svelte-1cdvqtq")},m(i,n){F(i,e,n),t[7](e)},p:h,d(i){i&&H(e),t[7](null)}}}function Dd(t){var e;return{c(){(e=V("section")).textContent="Loading...",G(e,"class","md svelte-1cdvqtq")},m(i,n){F(i,e,n),t[6](e)},p:h,d(i){i&&H(e),t[6](null)}}}function zd(t){var e;function i(t,e){return"markdown"===t[1]?Dd:"text"===t[1]?Pd:"code"===t[1]?Td:void 0}var n=i(t),r=n&&n(t);return{c(){e=V("div"),r&&r.c(),G(e,"class","container svelte-1cdvqtq")},m(i,n){F(i,e,n),r&&r.m(e,null),t[9](e)},p(t,a){var s=c(a,1)[0];n===(n=i(t))&&r?r.p(t,s):(r&&r.d(1),(r=n&&n(t))&&(r.c(),r.m(e,null)))},i:h,o:h,d(i){i&&H(e),r&&r.d(),t[9](null)}}}function Od(t,e,n){var r,a,s,l,c="",d=function(){var t=i(o().m(function t(e){return o().w(function(t){for(;;)switch(t.n){case 0:return n(1,c="markdown"),t.n=1,yt();case 1:fetch("/u/"+e.id+"/preview").then(t=>t.ok?t.text():Promise.reject(t.status)).then(t=>{n(2,a.innerHTML=t,a)}).catch(t=>{n(2,a.innerText="Error loading file: "+t,a)});case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=i(o().m(function t(e){return o().w(function(t){for(;;)switch(t.n){case 0:return n(1,c="text"),t.n=1,yt();case 1:if(!(e.size>1<<22)){t.n=2;break}return n(3,s.innerText="File is too large to view online.\nPlease download and view it locally.",s),t.a(2);case 2:fetch(e.get_href).then(t=>t.ok?t.text():Promise.reject(t.status)).then(t=>{n(3,s.innerText=t,s)}).catch(t=>{n(3,s.innerText="Error loading file: "+t,s)});case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=i(o().m(function t(e){return o().w(function(t){for(;;)switch(t.n){case 0:return n(1,c="code"),t.n=1,yt();case 1:if(!(e.size>1<<22)){t.n=2;break}return n(4,l.innerText="File is too large to view online.\nPlease download and view it locally.",l),t.a(2);case 2:fetch(e.get_href).then(t=>t.ok?t.text():Promise.reject(t.status)).then(t=>{n(4,l.innerText=t,l);var e=document.createElement("script");e.src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?skin=desert",r.appendChild(e),e=!0}).catch(t=>{n(4,l.innerText="Error loading file: "+t,l)});case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();return[r,c,a,s,l,t=>{console.log("loading text file",t.id),t.name.endsWith(".md")||t.name.endsWith(".markdown")?d(t):t.name.endsWith(".txt")||t.size>524288?h(t):u(t)},function(t){gt[t?"unshift":"push"](()=>{n(2,a=t)})},function(t){gt[t?"unshift":"push"](()=>{n(3,s=t)})},function(t){gt[t?"unshift":"push"](()=>{n(4,l=t)})},function(t){gt[t?"unshift":"push"](()=>{n(0,r=t)})}]}class Ad extends qt{constructor(t){super(),Bt(this,t,Od,zd,b,{set_file:5},Sd)}get set_file(){return this.$$.ctx[5]}}function Ld(t){var e,i,n,r,a,s,o,l,c,d,h,u,f=t[0].mime_type+"",p=xe(t[0].size,3)+"";return{c(){e=B("Type: "),i=B(f),n=V("br"),r=B("\n\tSize: "),a=B(p),s=V("br"),o=B("\n\tNo preview is available for this file type. Download to view it locally.\n\t"),l=V("br"),c=q(),(d=V("button")).innerHTML='<i class="icon">download</i> <span>Download</span>',G(d,"class","button_highlight")},m(f,p){F(f,e,p),F(f,i,p),F(f,n,p),F(f,r,p),F(f,a,p),F(f,s,p),F(f,o,p),F(f,l,p),F(f,c,p),F(f,d,p),h||(u=U(d,"click",t[4]),h=!0)},p(t,e){1&e&&f!==(f=t[0].mime_type+"")&&Z(i,f),1&e&&p!==(p=xe(t[0].size,3)+"")&&Z(a,p)},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s),H(o),H(l),H(c),H(d)),h=!1,u()}}}function jd(t){var e,i;return e=new Ic({}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Ed(t){var e,i,n,r,a,s,o;e=new od({props:{title:t[0].name}});var l=t[3].default,d=y(l,t,t[5],null);r=new Nc({props:{icon_href:t[0].icon_href,$$slots:{default:[Ld]},$$scope:{ctx:t}}});var h=t[0].show_ads&&jd();return{c(){Nt(e.$$.fragment),i=q(),d&&d.c(),n=q(),Nt(r.$$.fragment),a=q(),h&&h.c(),s=Y()},m(t,l){Vt(e,t,l),F(t,i,l),d&&d.m(t,l),F(t,n,l),Vt(r,t,l),F(t,a,l),h&&h.m(t,l),F(t,s,l),o=!0},p(t,i){var n=c(i,1)[0],a={};1&n&&(a.title=t[0].name),e.$set(a),d&&d.p&&(!o||32&n)&&k(d,l,t,t[5],o?$(l,t[5],n,null):M(t[5]),null);var u={};1&n&&(u.icon_href=t[0].icon_href),33&n&&(u.$$scope={dirty:n,ctx:t}),r.$set(u),t[0].show_ads?h?1&n&&At(h,1):((h=jd()).c(),At(h,1),h.m(s.parentNode,s)):h&&(zt(),Lt(h,1,1,()=>{h=null}),Ot())},i(t){o||(At(e.$$.fragment,t),At(d,t),At(r.$$.fragment,t),At(h),o=!0)},o(t){Lt(e.$$.fragment,t),Lt(d,t),Lt(r.$$.fragment,t),Lt(h),o=!1},d(t){t&&(H(i),H(n),H(a),H(s)),Wt(e,t),d&&d.d(t),Wt(r,t),h&&h.d(t)}}}function Id(t,e,i){var n=e.$$slots,r=void 0===n?{}:n,a=e.$$scope,s=ut(),o={id:"",size:0,name:"",mime_type:"",icon_href:"",show_ads:!1,download_speed_limit:0};return t.$$set=t=>{"$$scope"in t&&i(5,a=t.$$scope)},[o,s,t=>i(0,o=t),r,()=>{s("download")},a]}class Rd extends qt{constructor(t){super(),Bt(this,t,Id,Ed,b,{set_file:2})}get set_file(){return this.$$.ctx[2]}}function Fd(t){var e;return{c(){e=B("The file was reported through pixeldrain's abuse e-mail address.")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Hd(t){var e;return{c(){e=B("The file was reported by users of pixeldrain with the report button\n\t\t\tin the toolbar.")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Nd(t){var e,i,n,r,a,s,o,l,c,d,h,u,f=t[0].abuse_type+"";function p(t,e){return"User submitted reports"===t[0].abuse_reporter_name?Hd:Fd}var g=p(t),v=g(t);return{c(){(e=V("h2")).textContent="Unavailable for legal reasons",i=q(),n=V("p"),r=B("This file has been removed for violating pixeldrain's\n\t\t"),(a=V("a")).textContent="content policy",s=B(". Type of abuse: "),o=B(f),l=B("."),c=q(),d=V("p"),v.c(),h=q(),(u=V("p")).textContent="Pixeldrain has zero tolerance towards abuse. The IP address this file\n\t\toriginated from has been banned and is no longer able to upload files to\n\t\tpixeldrain.",G(a,"href","/abuse")},m(t,f){F(t,e,f),F(t,i,f),F(t,n,f),L(n,r),L(n,a),L(n,s),L(n,o),L(n,l),F(t,c,f),F(t,d,f),v.m(d,null),F(t,h,f),F(t,u,f)},p(t,e){1&e&&f!==(f=t[0].abuse_type+"")&&Z(o,f),g!==(g=p(t))&&(v.d(1),(v=g(t))&&(v.c(),v.m(d,null)))},d(t){t&&(H(e),H(i),H(n),H(c),H(d),H(h),H(u)),v.d()}}}function Vd(t){var e,i;return e=new Nc({props:{icon_href:t[0].icon_href,$$slots:{default:[Wd]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1&i&&(n.icon_href=t[0].icon_href),16&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Wd(t){var e,i,n,r,a,s;return{c(){e=B("This file cannot be shared, but since you are the uploader of the file\n\t\tyou can still download it.\n\t\t"),i=V("br"),n=q(),(r=V("button")).innerHTML='<i class="icon">download</i> <span>Download</span>',G(r,"class","button_highlight")},m(o,l){F(o,e,l),F(o,i,l),F(o,n,l),F(o,r,l),a||(s=U(r,"click",t[3]),a=!0)},p:h,d(t){t&&(H(e),H(i),H(n),H(r)),a=!1,s()}}}function Bd(t){var e,i,n,r,a,s;e=new od({props:{title:t[0].name}}),n=new bc({props:{$$slots:{default:[Nd]},$$scope:{ctx:t}}});var o=t[0].can_download&&Vd(t);return{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment),r=q(),o&&o.c(),a=Y()},m(t,l){Vt(e,t,l),F(t,i,l),Vt(n,t,l),F(t,r,l),o&&o.m(t,l),F(t,a,l),s=!0},p(t,i){var r=c(i,1)[0],s={};1&r&&(s.title=t[0].name),e.$set(s);var l={};17&r&&(l.$$scope={dirty:r,ctx:t}),n.$set(l),t[0].can_download?o?(o.p(t,r),1&r&&At(o,1)):((o=Vd(t)).c(),At(o,1),o.m(a.parentNode,a)):o&&(zt(),Lt(o,1,1,()=>{o=null}),Ot())},i(t){s||(At(e.$$.fragment,t),At(n.$$.fragment,t),At(o),s=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),Lt(o),s=!1},d(t){t&&(H(i),H(r),H(a)),Wt(e,t),Wt(n,t),o&&o.d(t)}}}function qd(t,e,i){var n=ut(),r={id:"",name:"",abuse_type:"",abuse_reporter_name:"",can_download:!1,icon_href:""};return[r,n,t=>i(0,r=t),()=>{n("download")}]}class Yd extends qt{constructor(t){super(),Bt(this,t,qd,Bd,b,{set_file:2})}get set_file(){return this.$$.ctx[2]}}function Ud(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v=t[1].limits.download_limit+"",m=xe(t[1].limits.transfer_limit,3)+"",b=t[1].limits.download_limit_used+"",x=xe(t[1].limits.transfer_limit_used,3)+"";return{c(){(e=V("h1")).innerHTML='<i class="icon">file_download_off</i>\n\t\t\tDownload limit reached',i=q(),n=V("p"),r=B("You have reached your download limit for today. Without a pixeldrain\n\t\t\taccount you are limited to downloading "),a=B(v),s=B(" files\n\t\t\tor "),o=B(m),l=B(" per 48 hours. This limit\n\t\t\tis counted per IP address, so if you're on a shared network it's\n\t\t\tpossible that others have also contributed to this limit."),c=q(),d=V("p"),h=B("In the last 24 hours you have downloaded\n\t\t\t"),u=B(b),f=B(" files and used\n\t\t\t"),p=B(x),g=B(" bandwidth.")},m(t,v){F(t,e,v),F(t,i,v),F(t,n,v),L(n,r),L(n,a),L(n,s),L(n,o),L(n,l),F(t,c,v),F(t,d,v),L(d,h),L(d,u),L(d,f),L(d,p),L(d,g)},p(t,e){2&e&&v!==(v=t[1].limits.download_limit+"")&&Z(a,v),2&e&&m!==(m=xe(t[1].limits.transfer_limit,3)+"")&&Z(o,m),2&e&&b!==(b=t[1].limits.download_limit_used+"")&&Z(u,b),2&e&&x!==(x=xe(t[1].limits.transfer_limit_used,3)+"")&&Z(p,x)},d(t){t&&(H(e),H(i),H(n),H(c),H(d))}}}function Xd(t){var e,i,n;return{c(){(e=V("h1")).innerHTML='<i class="icon">file_download_off</i>\n\t\t\tHotlink protection enabled',i=q(),(n=V("p")).innerHTML='Hotlinking protection has been enabled for this file. This happens\n\t\t\twhen a file is downloaded many times outside of our file viewer page\n\t\t\t(this page). You can find more information about hotlink protection\n\t\t\ton the <a href="/about#toc_6">FAQ page</a>.'},m(t,r){F(t,e,r),F(t,i,r),F(t,n,r)},p:h,d(t){t&&(H(e),H(i),H(n))}}}function Kd(t){var e,i,n,r,a,s;function o(t,e){return"file_rate_limited_captcha_required"===t[0].availability?Xd:"ip_download_limited_captcha_required"===t[0].availability?Ud:void 0}var l=o(t),c=l&&l(t);return{c(){c&&c.c(),e=q(),(i=V("p")).innerHTML='This warning disappears when you have a\n\t\t<a href="/#pro" target="_blank">premium account</a>\n\t\tor when the uploader of the file enables\n\t\t<a href="/user/subscription">hotlinking</a> on their Pro account (and\n\t\ttheir data cap has not been used up). Using a download manager with a\n\t\tPro account is allowed, it will not trigger this warning for other\n\t\tfiles.',n=q(),(r=V("h2")).textContent="Continue downloading",a=q(),(s=V("p")).textContent="The file can be downloaded like usual by clicking the download button.\n\t\tYou will have to complete a CAPTCHA test to prove that you're not a\n\t\trobot."},m(t,o){c&&c.m(t,o),F(t,e,o),F(t,i,o),F(t,n,o),F(t,r,o),F(t,a,o),F(t,s,o)},p(t,i){l===(l=o(t))&&c?c.p(t,i):(c&&c.d(1),(c=l&&l(t))&&(c.c(),c.m(e.parentNode,e)))},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s)),c&&c.d(t)}}}function Gd(t){var e,i,n,r,a,s,o,l,c,d,h,u,f=t[0].name+"",p=t[0].mime_type+"";return{c(){e=B("Name: "),i=B(f),n=V("br"),r=B("\n\tType: "),a=B(p),s=V("br"),o=q(),(l=V("button")).innerHTML='<i class="icon">download</i> Download',c=q(),(d=V("a")).innerHTML='<i class="icon">bolt</i> Upgrade your account',G(d,"href","/user/prepaid/deposit"),G(d,"target","_blank"),G(d,"class","button button_highlight")},m(f,p){F(f,e,p),F(f,i,p),F(f,n,p),F(f,r,p),F(f,a,p),F(f,s,p),F(f,o,p),F(f,l,p),F(f,c,p),F(f,d,p),h||(u=U(l,"click",t[4]),h=!0)},p(t,e){1&e&&f!==(f=t[0].name+"")&&Z(i,f),1&e&&p!==(p=t[0].mime_type+"")&&Z(a,p)},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s),H(o),H(l),H(c),H(d)),h=!1,u()}}}function Jd(t){var e,i,n,r;return e=new bc({props:{$$slots:{default:[Kd]},$$scope:{ctx:t}}}),n=new Nc({props:{icon_href:t[0].icon_href,$$slots:{default:[Gd]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment)},m(t,a){Vt(e,t,a),F(t,i,a),Vt(n,t,a),r=!0},p(t,i){var r=c(i,1)[0],a={};35&r&&(a.$$scope={dirty:r,ctx:t}),e.$set(a);var s={};1&r&&(s.icon_href=t[0].icon_href),33&r&&(s.$$scope={dirty:r,ctx:t}),n.$set(s)},i(t){r||(At(e.$$.fragment,t),At(n.$$.fragment,t),r=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),r=!1},d(t){t&&H(i),Wt(e,t),Wt(n,t)}}}function Zd(t,e,i){var n;_(t,Sc,t=>i(1,n=t));var r=ut(),a={name:"",mime_type:"",availability:""};return[a,n,r,t=>i(0,a=t),()=>{r("download")}]}class Qd extends qt{constructor(t){super(),Bt(this,t,Zd,Jd,b,{set_file:3})}get set_file(){return this.$$.ctx[3]}}function th(t){var e,i,n,r;return{c(){e=W("svg"),i=W("path"),n=W("path"),r=W("path"),G(i,"fill","currentColor"),G(i,"d","M132.138,855.425c43,43,93.2,76.301,149.3,99.101c54.1,21.899,111.1,33,169.6,33s115.601-11.101,169.601-33\n\t\tc56-22.7,106.199-56,149.3-99.101l60.899-60.899l-176.8-176.8l-60.899,60.899c-38,38-88.4,58.9-142.101,58.9\n\t\ts-104.2-20.9-142.1-58.9c-78.4-78.399-78.4-205.899,0-284.3l60.899-60.899l-176.8-176.7l-60.9,60.899\n\t\tc-43,43-76.3,93.2-99.1,149.301c-21.9,54.1-33,111.1-33,169.6s11.1,115.6,33,169.6C55.738,762.226,89.038,812.425,132.138,855.425z\n\t\t"),G(n,"fill","currentColor"),G(n,"d","M878.038,478.625c-23.399-23.399-61.399-23.399-84.899,0l-82.601,82.601l176.8,176.8l82.601-82.601\n\t\tc23.399-23.399,23.399-61.399,0-84.899L878.038,478.625z"),G(r,"fill","currentColor"),G(r,"d","M332.139,17.625l-82.601,82.601l176.8,176.8l82.601-82.6c23.399-23.4,23.399-61.4,0-84.9l-91.9-91.9\n\t\tC393.538-5.875,355.639-5.875,332.139,17.625z"),G(e,"style",t[0]),G(e,"xmlns","http://www.w3.org/2000/svg"),G(e,"version","1.1"),G(e,"width","24"),G(e,"height","24"),G(e,"viewBox","0 0 987.525 987.525")},m(t,a){F(t,e,a),L(e,i),L(e,n),L(e,r)},p(t,i){1&c(i,1)[0]&&G(e,"style",t[0])},i:h,o:h,d(t){t&&H(e)}}}function eh(t,e,i){var n=e.style,r=void 0===n?"":n;return t.$$set=t=>{"style"in t&&i(0,r=t.style)},[r]}class ih extends qt{constructor(t){super(),Bt(this,t,eh,th,b,{style:0})}}function nh(t){j(t,"svelte-19u39jq",".list_open.svelte-19u39jq{list-style-type:disclosure-open}.list_closed.svelte-19u39jq{list-style-type:disc}")}function rh(t,e,i){var n=t.slice();return n[1]=e[i][0],n[2]=e[i][1],n}function ah(t){var e,i;return e=new ch({props:{item:t[2]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1&i&&(n.item=t[2]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function sh(t){var e,i,n,r,a,s,o,l,c,d=t[1]+"",h=xe(t[2].size,3)+"",u=t[2].children&&ah(t);return{c(){e=V("li"),i=B(d),n=B(" ("),r=B(h),a=B(")"),s=V("br"),o=q(),u&&u.c(),l=q(),G(e,"class","svelte-19u39jq"),et(e,"list_closed",!t[2].children)},m(t,d){F(t,e,d),L(e,i),L(e,n),L(e,r),L(e,a),L(e,s),L(e,o),u&&u.m(e,null),L(e,l),c=!0},p(t,n){(!c||1&n)&&d!==(d=t[1]+"")&&Z(i,d),(!c||1&n)&&h!==(h=xe(t[2].size,3)+"")&&Z(r,h),t[2].children?u?(u.p(t,n),1&n&&At(u,1)):((u=ah(t)).c(),At(u,1),u.m(e,l)):u&&(zt(),Lt(u,1,1,()=>{u=null}),Ot()),(!c||1&n)&&et(e,"list_closed",!t[2].children)},i(t){c||(At(u),c=!0)},o(t){Lt(u),c=!1},d(t){t&&H(e),u&&u.d()}}}function oh(t){for(var e,i,n=It(Object.entries(t[0].children)),r=[],a=0;a<n.length;a+=1)r[a]=sh(rh(t,n,a));var s=t=>Lt(r[t],1,1,()=>{r[t]=null});return{c(){e=V("ul");for(var t=0;t<r.length;t+=1)r[t].c();G(e,"class","list_open svelte-19u39jq")},m(t,n){F(t,e,n);for(var a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);i=!0},p(t,i){var a=c(i,1)[0];if(1&a){var o;for(n=It(Object.entries(t[0].children)),o=0;o<n.length;o+=1){var l=rh(t,n,o);r[o]?(r[o].p(l,a),At(r[o],1)):(r[o]=sh(l),r[o].c(),At(r[o],1),r[o].m(e,null))}for(zt(),o=n.length;o<r.length;o+=1)s(o);Ot()}},i(t){if(!i){for(var e=0;e<n.length;e+=1)At(r[e]);i=!0}},o(t){r=r.filter(Boolean);for(var e=0;e<r.length;e+=1)Lt(r[e]);i=!1},d(t){t&&H(e),N(r,t)}}}function lh(t,e,i){var n=e.item,r=void 0===n?{size:0,children:null}:n;return t.$$set=t=>{"item"in t&&i(0,r=t.item)},[r]}class ch extends qt{constructor(t){super(),Bt(this,t,lh,oh,b,{item:0},nh)}}function dh(t){j(t,"svelte-1bj9uys",".large_icon.svelte-1bj9uys.svelte-1bj9uys{flex-direction:column;min-width:5em}.large_icon.svelte-1bj9uys>.icon.svelte-1bj9uys{font-size:40px;display:block}.small_icon.svelte-1bj9uys>.icon.svelte-1bj9uys{font-size:1.2em;display:block}")}function hh(t){var e,i=t[8].default,n=y(i,t,t[7],null);return{c(){n&&n.c()},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||128&r)&&k(n,i,t,t[7],e?$(i,t[7],r,null):M(t[7]),null)},i(t){e||(At(n,t),e=!0)},o(t){Lt(n,t),e=!1},d(t){n&&n.d(t)}}}function uh(t){var e;return{c(){e=B("Copy failed")},m(t,i){F(t,e,i)},p:h,i:h,o:h,d(t){t&&H(e)}}}function fh(t){var e;return{c(){e=B("Copied!")},m(t,i){F(t,e,i)},p:h,i:h,o:h,d(t){t&&H(e)}}}function ph(t){var e,i,n,r,a,s,o,l,d,h,u=[fh,uh,hh],f=[];function p(t,e){return t[6]?0:t[5]?1:2}return a=p(t),s=f[a]=u[a](t),{c(){e=V("button"),(i=V("i")).textContent="content_copy",n=q(),r=V("span"),s.c(),G(i,"class","icon svelte-1bj9uys"),G(e,"style",t[1]),G(e,"class","button svelte-1bj9uys"),G(e,"title","Copy text to clipboard"),e.disabled=o=""===t[0],et(e,"button_highlight",t[6]),et(e,"button_red",t[5]),et(e,"large_icon",t[2]),et(e,"small_icon",t[3])},m(s,o){F(s,e,o),L(e,i),L(e,n),L(e,r),f[a].m(r,null),l=!0,d||(h=U(e,"click",t[4]),d=!0)},p(t,i){var n=c(i,1)[0],d=a;(a=p(t))===d?f[a].p(t,n):(zt(),Lt(f[d],1,1,()=>{f[d]=null}),Ot(),(s=f[a])?s.p(t,n):(s=f[a]=u[a](t)).c(),At(s,1),s.m(r,null)),(!l||2&n)&&G(e,"style",t[1]),(!l||1&n&&o!==(o=""===t[0]))&&(e.disabled=o),(!l||64&n)&&et(e,"button_highlight",t[6]),(!l||32&n)&&et(e,"button_red",t[5]),(!l||4&n)&&et(e,"large_icon",t[2]),(!l||8&n)&&et(e,"small_icon",t[3])},i(t){l||(At(s),l=!0)},o(t){Lt(s),l=!1},d(t){t&&H(e),f[a].d(),d=!1,h()}}}function gh(t,e,i){var n=e.$$slots,r=void 0===n?{}:n,a=e.$$scope,s=e.text,o=void 0===s?"":s,l=e.style,c=void 0===l?"":l,d=e.large_icon,h=void 0!==d&&d,u=e.small_icon,f=void 0!==u&&u,p=!1,g=!1;return t.$$set=t=>{"text"in t&&i(0,o=t.text),"style"in t&&i(1,c=t.style),"large_icon"in t&&i(2,h=t.large_icon),"small_icon"in t&&i(3,f=t.small_icon),"$$scope"in t&&i(7,a=t.$$scope)},[o,c,h,f,()=>{try{!function(t){try{navigator.clipboard.writeText(t)}catch(t){return!1}}(o),i(6,g=!0)}catch(t){console.error("Failed to copy text",t),i(5,p=!0)}setTimeout(()=>{i(6,g=!1),i(5,p=!1)},1e4)},p,g,a,r]}class vh extends qt{constructor(t){super(),Bt(this,t,gh,ph,b,{text:0,style:1,large_icon:2,small_icon:3,copy:4},dh)}get copy(){return this.$$.ctx[4]}}function mh(t){j(t,"svelte-b5yk0p","summary.svelte-b5yk0p{cursor:pointer;border-bottom:1px solid var(--separator)}")}function bh(t){var e;return{c(){(e=V("p")).textContent="Torrent file could not be parsed. It may be corrupted."},m(t,i){F(t,e,i)},p:h,i:h,o:h,d(t){t&&H(e)}}}function xh(t){var e;return{c(){(e=V("p")).textContent="Torrent file is too large to parse. Please download the file and\n\t\t\tadd it to your torrent client locally."},m(t,i){F(t,e,i)},p:h,i:h,o:h,d(t){t&&H(e)}}}function _h(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v,m,b,x,_,y=t[2].created_by+"",w=t[2].comment+"",$=ke(new Date(t[2].created_at),!0,!0,!0)+"",k=t[2].info_hash+"";return g=new ih({}),x=new vh({props:{text:t[3],$$slots:{default:[yh]},$$scope:{ctx:t}}}),{c(){e=B("Created by: "),i=B(y),n=V("br"),r=B("\n\t\tComment: "),a=B(w),s=V("br"),o=B("\n\t\tCreated at: "),l=B($),c=V("br"),d=B("\n\t\tInfo hash: "),h=B(k),u=V("br"),f=q(),p=V("a"),Nt(g.$$.fragment),v=q(),(m=V("span")).textContent="Open magnet link",b=q(),Nt(x.$$.fragment),G(p,"href",t[3]),G(p,"class","button button_highlight")},m(t,y){F(t,e,y),F(t,i,y),F(t,n,y),F(t,r,y),F(t,a,y),F(t,s,y),F(t,o,y),F(t,l,y),F(t,c,y),F(t,d,y),F(t,h,y),F(t,u,y),F(t,f,y),F(t,p,y),Vt(g,p,null),L(p,v),L(p,m),F(t,b,y),Vt(x,t,y),_=!0},p(t,e){(!_||4&e)&&y!==(y=t[2].created_by+"")&&Z(i,y),(!_||4&e)&&w!==(w=t[2].comment+"")&&Z(a,w),(!_||4&e)&&$!==($=ke(new Date(t[2].created_at),!0,!0,!0)+"")&&Z(l,$),(!_||4&e)&&k!==(k=t[2].info_hash+"")&&Z(h,k),(!_||8&e)&&G(p,"href",t[3]);var n={};8&e&&(n.text=t[3]),128&e&&(n.$$scope={dirty:e,ctx:t}),x.$set(n)},i(t){_||(At(g.$$.fragment,t),At(x.$$.fragment,t),_=!0)},o(t){Lt(g.$$.fragment,t),Lt(x.$$.fragment,t),_=!1},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s),H(o),H(l),H(c),H(d),H(h),H(u),H(f),H(p),H(b)),Wt(g),Wt(x,t)}}}function yh(t){var e;return{c(){e=B("Copy magnet link")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function wh(t){var e,i,n,r,a,s,o,l=[_h,xh,bh],c=[];function d(t,e){return"finished"===t[0]?0:"too_large"===t[0]?1:"parse_failed"===t[0]?2:-1}return~(e=d(t))&&(i=c[e]=l[e](t)),{c(){i&&i.c(),n=q(),(r=V("button")).innerHTML='<i class="icon">download</i> <span>Download torrent file</span>',G(r,"class","button")},m(i,l){~e&&c[e].m(i,l),F(i,n,l),F(i,r,l),a=!0,s||(o=U(r,"click",t[6]),s=!0)},p(t,r){var a=e;(e=d(t))===a?~e&&c[e].p(t,r):(i&&(zt(),Lt(c[a],1,1,()=>{c[a]=null}),Ot()),~e?((i=c[e])?i.p(t,r):(i=c[e]=l[e](t)).c(),At(i,1),i.m(n.parentNode,n)):i=null)},i(t){a||(At(i),a=!0)},o(t){Lt(i),a=!1},d(t){t&&(H(n),H(r)),~e&&c[e].d(t),s=!1,o()}}}function $h(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v,m,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O;return h=new ih({}),{c(){e=V("details"),(i=V("summary")).textContent="How do I download this? (expand for more information)",n=q(),(r=V("p")).textContent="This is a torrent file, which means you will need a torrent client to\n\t\t\tdownload it. Here are some good torrent clients for various platforms:",a=q(),(s=V("ul")).innerHTML='<li><a href="https://transmissionbt.com/download">Transmission</a> (Linux, Mac, Windows)</li> <li><a href="https://www.qbittorrent.org/download">qBittorrent</a> (Linux, Mac, Windows)</li> <li><a href="https://play.google.com/store/apps/details?id=org.proninyaroslav.libretorrent">LibreTorrent</a> (Android)</li>',o=q(),l=V("p"),c=B("After installing your torrent client you will be able to use the\n\t\t\t"),d=V("a"),Nt(h.$$.fragment),u=B(" Open magnet link"),f=B("\n\t\t\tbutton to download the files in your torrent client."),p=q(),(g=V("h3")).textContent="What is a torrent?",v=q(),(m=V("p")).innerHTML='<a href="https://wikipedia.org/wiki/BitTorrent">BitTorrent</a> is a\n\t\t\tpeer-to-peer network for sharing files. This torrent file does not\n\t\t\tactually contain the files listed below, instead it contains\n\t\t\tinstructions for your torrent client to download the files from\n\t\t\tother people who happen to be downloading the same files currently.\n\t\t\tThis means that instead of connecting to a single server (like\n\t\t\tpixeldrain), you will be connecting to other people on the internet\n\t\t\tto download these files.',b=q(),(x=V("p")).textContent="Torrents are a highly efficient and free method of transferring\n\t\t\tfiles over the internet. Since the bandwidth is shared directly\n\t\t\tbetween users there is no need for expensive servers to host the\n\t\t\tfiles for you.",_=q(),(y=V("h3")).textContent="Is this safe?",w=q(),($=V("p")).textContent="Your torrent client will make sure that the files you receive from\n\t\t\tyour peers are actually what they say it is. This makes it just as\n\t\t\tsafe as any other form of downloading. Like always when downloading\n\t\t\tfiles you still need to be aware of what you are downloading. Don't\n\t\t\tjust blindly trust any file anyone sends you.",k=q(),(M=V("h3")).textContent="Is it private?",C=q(),(S=V("p")).textContent="When downloading a torrent file you will be part of the so-called\n\t\t\t'torrent swarm'. Anyone in the swarm can see each other's IP\n\t\t\taddresses. This is not a bad thing on its own, but there a few cases\n\t\t\tin which this can be abused.",T=q(),(P=V("p")).textContent="Anyone in the swarm will be able to see what you are downloading,\n\t\t\teven across different torrents. This is something to keep in mind\n\t\t\twhen downloading torrents. If someone can link your IP address to\n\t\t\tyour identity then there are ways to find out which files you have\n\t\t\tdownloaded in the past (provided that your IP address has not\n\t\t\tchanged since then).",D=q(),(z=V("p")).innerHTML='If you are downloading copyrighted material (which I do not condone)\n\t\t\tthen rightsholders will be able to see your IP address. In most\n\t\t\tcases this is not a problem because your ISP will still protect your\n\t\t\tidentity. But there are some countries (notably the USA) where your\n\t\t\tISP will not respect your right to privacy and the rightsholder will\n\t\t\tbe able to contact you. If this worries you then you should look\n\t\t\tinto VPN services to protect your privacy, like <a href="https://mullvad.net">Mullvad</a>.',G(i,"class","svelte-b5yk0p"),G(d,"href",t[3])},m(t,A){F(t,e,A),L(e,i),L(e,n),L(e,r),L(e,a),L(e,s),L(e,o),L(e,l),L(l,c),L(l,d),Vt(h,d,null),L(d,u),L(l,f),L(e,p),L(e,g),L(e,v),L(e,m),L(e,b),L(e,x),L(e,_),L(e,y),L(e,w),L(e,$),L(e,k),L(e,M),L(e,C),L(e,S),L(e,T),L(e,P),L(e,D),L(e,z),O=!0},p(t,e){(!O||8&e)&&G(d,"href",t[3])},i(t){O||(At(h.$$.fragment,t),O=!0)},o(t){Lt(h.$$.fragment,t),O=!1},d(t){t&&H(e),Wt(h)}}}function kh(t){var e,i;return e=new bc({props:{$$slots:{default:[Mh]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};132&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Mh(t){var e,i,n,r;return n=new ch({props:{item:t[2].files}}),{c(){(e=V("h2")).textContent="Files in this torrent",i=q(),Nt(n.$$.fragment)},m(t,a){F(t,e,a),F(t,i,a),Vt(n,t,a),r=!0},p(t,e){var i={};4&e&&(i.item=t[2].files),n.$set(i)},i(t){r||(At(n.$$.fragment,t),r=!0)},o(t){Lt(n.$$.fragment,t),r=!1},d(t){t&&(H(e),H(i)),Wt(n,t)}}}function Ch(t){var e,i,n,r,a,s,o,l;e=new od({props:{title:t[1].name}}),n=new Nc({props:{icon_href:t[1].icon_href,$$slots:{default:[wh]},$$scope:{ctx:t}}}),a=new bc({props:{$$slots:{default:[$h]},$$scope:{ctx:t}}});var d="finished"===t[0]&&kh(t);return{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment),r=q(),Nt(a.$$.fragment),s=q(),d&&d.c(),o=Y()},m(t,c){Vt(e,t,c),F(t,i,c),Vt(n,t,c),F(t,r,c),Vt(a,t,c),F(t,s,c),d&&d.m(t,c),F(t,o,c),l=!0},p(t,i){var r=c(i,1)[0],s={};2&r&&(s.title=t[1].name),e.$set(s);var l={};2&r&&(l.icon_href=t[1].icon_href),141&r&&(l.$$scope={dirty:r,ctx:t}),n.$set(l);var h={};136&r&&(h.$$scope={dirty:r,ctx:t}),a.$set(h),"finished"===t[0]?d?(d.p(t,r),1&r&&At(d,1)):((d=kh(t)).c(),At(d,1),d.m(o.parentNode,o)):d&&(zt(),Lt(d,1,1,()=>{d=null}),Ot())},i(t){l||(At(e.$$.fragment,t),At(n.$$.fragment,t),At(a.$$.fragment,t),At(d),l=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),Lt(a.$$.fragment,t),Lt(d),l=!1},d(t){t&&(H(i),H(r),H(s),H(o)),Wt(e,t),Wt(n,t),Wt(a,t),d&&d.d(t)}}}function Sh(t,e,n){var r=ut(),a="loading",s=function(){var t=i(o().m(function t(e){var i,s,h;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return n(1,l=e),r("loading",!0),t.p=1,t.n=2,fetch(e.info_href+"/torrent");case 2:if(!((i=t.v).status>=400)){t.n=5;break}return t.n=3,i.json();case 3:if("torrent_too_large"!==t.v.value){t.n=4;break}return n(0,a="too_large"),t.a(2);case 4:return n(0,a="parse_failed"),t.a(2);case 5:return s=n,t.n=6,i.json();case 6:s(2,c=t.v),n(3,d="magnet:?xt=urn:btih:"+c.info_hash+"&dn="+encodeURIComponent(Object.keys(c.files.children)[0])),c.trackers.forEach(t=>{n(3,d+="&tr="+encodeURIComponent(t))}),t.n=8;break;case 7:t.p=7,h=t.v,console.error(h);case 8:return t.p=8,r("loading",!1),t.f(8);case 9:n(0,a="finished");case 10:return t.a(2)}},t,null,[[1,7,8,9]])}));return function(e){return t.apply(this,arguments)}}(),l={id:"",size:0,name:"",mime_type:"",icon_href:"",show_ads:!1},c={trackers:[],comment:"",created_by:"",created_at:"",info_hash:"",files:null},d="";return[a,l,c,d,r,s,()=>{r("download")}]}class Th extends qt{constructor(t){super(),Bt(this,t,Sh,Ch,b,{set_file:5},mh)}get set_file(){return this.$$.ctx[5]}}function Ph(t){j(t,"svelte-1wkbs7n","details.svelte-1wkbs7n.svelte-1wkbs7n{padding-left:0.5em;border:none;border-left:2px solid var(--separator)}details.svelte-1wkbs7n>summary.svelte-1wkbs7n{list-style-type:none;display:flex}details.svelte-1wkbs7n>summary.svelte-1wkbs7n::before{font-family:'Material Icons';content:'folder'}details[open].svelte-1wkbs7n>summary.svelte-1wkbs7n::before{font-family:'Material Icons';content:'folder_open'}li.svelte-1wkbs7n.svelte-1wkbs7n::before{font-family:'Material Icons';content:'description'}ul.svelte-1wkbs7n.svelte-1wkbs7n{list-style-type:none;padding-left:0.5em;margin:0;border-left:2px solid var(--separator)}.filename.svelte-1wkbs7n.svelte-1wkbs7n{display:inline;margin-left:0.5em}")}function Dh(t,e,i){var n=t.slice();return n[2]=e[i][0],n[3]=e[i][1],n}function zh(t,e,i){var n=t.slice();return n[2]=e[i][0],n[3]=e[i][1],n[6]=e,n[7]=i,n}function Oh(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p=t[2]+"",g=xe(t[3].size,3)+"",v=t[3].download_url&&Ah(t),m=t[3].details_open&&Lh(t);function b(){t[1].call(e,t[6],t[7])}return{c(){e=V("details"),i=V("summary"),n=V("div"),r=B(p),a=B("\n\t\t\t\t\t(\n\t\t\t\t\t\t"),s=B(g),o=q(),v&&v.c(),l=B("\n\t\t\t\t\t)"),c=q(),m&&m.c(),d=q(),G(n,"class","filename svelte-1wkbs7n"),G(i,"class","svelte-1wkbs7n"),G(e,"class","svelte-1wkbs7n")},m(p,g){F(p,e,g),L(e,i),L(i,n),L(n,r),L(n,a),L(n,s),L(n,o),v&&v.m(n,null),L(n,l),L(e,c),m&&m.m(e,null),L(e,d),e.open=t[3].details_open,h=!0,u||(f=U(e,"toggle",b),u=!0)},p(i,a){t=i,(!h||1&a)&&p!==(p=t[2]+"")&&Z(r,p),(!h||1&a)&&g!==(g=xe(t[3].size,3)+"")&&Z(s,g),t[3].download_url?v?v.p(t,a):((v=Ah(t)).c(),v.m(n,l)):v&&(v.d(1),v=null),t[3].details_open?m?(m.p(t,a),1&a&&At(m,1)):((m=Lh(t)).c(),At(m,1),m.m(e,d)):m&&(zt(),Lt(m,1,1,()=>{m=null}),Ot()),1&a&&(e.open=t[3].details_open)},i(t){h||(At(m),h=!0)},o(t){Lt(m),h=!1},d(t){t&&H(e),v&&v.d(),m&&m.d(),u=!1,f()}}}function Ah(t){var e,i,n;return{c(){e=V("a"),i=B("download"),G(e,"href",n=t[3].download_url)},m(t,n){F(t,e,n),L(e,i)},p(t,i){1&i&&n!==(n=t[3].download_url)&&G(e,"href",n)},d(t){t&&H(e)}}}function Lh(t){var e,i;return e=new Nh({props:{item:t[3]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1&i&&(n.item=t[3]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function jh(t){var e,i,n=t[3].children&&Oh(t);return{c(){n&&n.c(),e=Y()},m(t,r){n&&n.m(t,r),F(t,e,r),i=!0},p(t,i){t[3].children?n?(n.p(t,i),1&i&&At(n,1)):((n=Oh(t)).c(),At(n,1),n.m(e.parentNode,e)):n&&(zt(),Lt(n,1,1,()=>{n=null}),Ot())},i(t){i||(At(n),i=!0)},o(t){Lt(n),i=!1},d(t){t&&H(e),n&&n.d(t)}}}function Eh(t){var e,i,n,r,a,s,o,l,c=t[2]+"",d=xe(t[3].size,3)+"",h=t[3].download_url&&Ih(t);return{c(){e=V("li"),i=V("div"),n=B(c),r=B("\n\t\t\t\t\t(\n\t\t\t\t\t\t"),a=B(d),s=q(),h&&h.c(),o=B("\n\t\t\t\t\t)"),l=q(),G(i,"class","filename svelte-1wkbs7n"),G(e,"class","svelte-1wkbs7n")},m(t,c){F(t,e,c),L(e,i),L(i,n),L(i,r),L(i,a),L(i,s),h&&h.m(i,null),L(i,o),L(e,l)},p(t,e){1&e&&c!==(c=t[2]+"")&&Z(n,c),1&e&&d!==(d=xe(t[3].size,3)+"")&&Z(a,d),t[3].download_url?h?h.p(t,e):((h=Ih(t)).c(),h.m(i,o)):h&&(h.d(1),h=null)},d(t){t&&H(e),h&&h.d()}}}function Ih(t){var e,i,n;return{c(){e=V("a"),i=B("download"),G(e,"href",n=t[3].download_url)},m(t,n){F(t,e,n),L(e,i)},p(t,i){1&i&&n!==(n=t[3].download_url)&&G(e,"href",n)},d(t){t&&H(e)}}}function Rh(t){var e,i=!t[3].children&&Eh(t);return{c(){i&&i.c(),e=Y()},m(t,n){i&&i.m(t,n),F(t,e,n)},p(t,n){t[3].children?i&&(i.d(1),i=null):i?i.p(t,n):((i=Eh(t)).c(),i.m(e.parentNode,e))},d(t){t&&H(e),i&&i.d(t)}}}function Fh(t){for(var e,i,n,r=It(Object.entries(t[0].children)),a=[],s=0;s<r.length;s+=1)a[s]=jh(zh(t,r,s));for(var o=t=>Lt(a[t],1,1,()=>{a[t]=null}),l=It(Object.entries(t[0].children)),d=[],h=0;h<l.length;h+=1)d[h]=Rh(Dh(t,l,h));return{c(){for(var t=0;t<a.length;t+=1)a[t].c();e=q(),i=V("ul");for(var n=0;n<d.length;n+=1)d[n].c();G(i,"class","svelte-1wkbs7n")},m(t,r){for(var s=0;s<a.length;s+=1)a[s]&&a[s].m(t,r);F(t,e,r),F(t,i,r);for(var o=0;o<d.length;o+=1)d[o]&&d[o].m(i,null);n=!0},p(t,n){var s=c(n,1)[0];if(1&s){var h;for(r=It(Object.entries(t[0].children)),h=0;h<r.length;h+=1){var u=zh(t,r,h);a[h]?(a[h].p(u,s),At(a[h],1)):(a[h]=jh(u),a[h].c(),At(a[h],1),a[h].m(e.parentNode,e))}for(zt(),h=r.length;h<a.length;h+=1)o(h);Ot()}if(1&s){var f;for(l=It(Object.entries(t[0].children)),f=0;f<l.length;f+=1){var p=Dh(t,l,f);d[f]?d[f].p(p,s):(d[f]=Rh(p),d[f].c(),d[f].m(i,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=l.length}},i(t){if(!n){for(var e=0;e<r.length;e+=1)At(a[e]);n=!0}},o(t){a=a.filter(Boolean);for(var e=0;e<a.length;e+=1)Lt(a[e]);n=!1},d(t){t&&(H(e),H(i)),N(a,t),N(d,t)}}}function Hh(t,e,i){var n=e.item,r=void 0===n?{}:n;return t.$$set=t=>{"item"in t&&i(0,r=t.item)},[r,function(t,e){t[e][1].details_open=this.open,i(0,r)}]}class Nh extends qt{constructor(t){super(),Bt(this,t,Hh,Fh,b,{item:0},Ph)}}function Vh(t){var e,i,n,r;return{c(){e=B("This is a 7-zip archive. You will need\n\t\t"),(i=V("a")).textContent="7-zip",n=B(" or compatible software to\n\t\textract it"),r=V("br"),G(i,"href","https://www.7-zip.org/")},m(t,a){F(t,e,a),F(t,i,a),F(t,n,a),F(t,r,a)},d(t){t&&(H(e),H(i),H(n),H(r))}}}function Wh(t){var e,i,n,r,a,s,o=xe(t[2].size,3)+"",l=t[3].toFixed(2)+"";return{c(){e=B("Uncompressed size: "),i=B(o),n=B(" (Ratio: "),r=B(l),a=B("x)"),s=V("br")},m(t,o){F(t,e,o),F(t,i,o),F(t,n,o),F(t,r,o),F(t,a,o),F(t,s,o)},p(t,e){4&e&&o!==(o=xe(t[2].size,3)+"")&&Z(i,o),8&e&&l!==(l=t[3].toFixed(2)+"")&&Z(r,l)},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s))}}}function Bh(t){var e,i,n,r,a,s,o,l,c,d,h,u,f=xe(t[1].size,3)+"",p=ke(t[1].date_upload,!0,!0,!0)+"",g="7z"===t[4]&&Vh(),v=!t[5]&&Wh(t);return{c(){g&&g.c(),e=B("\n\n\tCompressed size: "),i=B(f),n=V("br"),r=q(),v&&v.c(),a=B("\n\tUploaded on: "),s=B(p),o=q(),l=V("br"),c=q(),(d=V("button")).innerHTML='<i class="icon">download</i> <span>Download</span>',G(d,"class","button_highlight")},m(f,p){g&&g.m(f,p),F(f,e,p),F(f,i,p),F(f,n,p),F(f,r,p),v&&v.m(f,p),F(f,a,p),F(f,s,p),F(f,o,p),F(f,l,p),F(f,c,p),F(f,d,p),h||(u=U(d,"click",t[8]),h=!0)},p(t,n){"7z"===t[4]?g||((g=Vh()).c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null),2&n&&f!==(f=xe(t[1].size,3)+"")&&Z(i,f),t[5]?v&&(v.d(1),v=null):v?v.p(t,n):((v=Wh(t)).c(),v.m(a.parentNode,a)),2&n&&p!==(p=ke(t[1].date_upload,!0,!0,!0)+"")&&Z(s,p)},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s),H(o),H(l),H(c),H(d)),g&&g.d(t),v&&v.d(t),h=!1,u()}}}function qh(t){var e,i;return e=new Ic({}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Yh(t){var e,i;return e=new bc({props:{$$slots:{default:[Xh]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1024&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Uh(t){var e,i;return e=new bc({props:{$$slots:{default:[Gh]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1060&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Xh(t){var e;return{c(){(e=V("p")).textContent="Zip archive could not be parsed. This usually means that the archive\n\t\t\tis encrypted or that it uses an unsupported compression format."},m(t,i){F(t,e,i)},p:h,d(t){t&&H(e)}}}function Kh(t){var e;return{c(){(e=V("div")).textContent="Due to the large size of this archive, the results have been\n\t\t\t\ttruncated. The list below is incomplete!",G(e,"class","highlight_yellow")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Gh(t){var e,i,n,r,a,s=t[5]&&Kh();return r=new Nh({props:{item:t[2]}}),{c(){(e=V("h2")).textContent="Files in this archive",i=q(),s&&s.c(),n=q(),Nt(r.$$.fragment)},m(t,o){F(t,e,o),F(t,i,o),s&&s.m(t,o),F(t,n,o),Vt(r,t,o),a=!0},p(t,e){t[5]?s||((s=Kh()).c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null);var i={};4&e&&(i.item=t[2]),r.$set(i)},i(t){a||(At(r.$$.fragment,t),a=!0)},o(t){Lt(r.$$.fragment,t),a=!1},d(t){t&&(H(e),H(i),H(n)),s&&s.d(t),Wt(r,t)}}}function Jh(t){var e,i,n,r,a,s,o,l,d;e=new od({props:{title:t[1].name}}),n=new Nc({props:{icon_href:t[1].icon_href,$$slots:{default:[Bh]},$$scope:{ctx:t}}});var h=t[1].show_ads&&qh(),u=[Uh,Yh],f=[];function p(t,e){return"finished"===t[0]?0:"parse_failed"===t[0]?1:-1}return~(s=p(t))&&(o=f[s]=u[s](t)),{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment),r=q(),h&&h.c(),a=q(),o&&o.c(),l=Y()},m(t,o){Vt(e,t,o),F(t,i,o),Vt(n,t,o),F(t,r,o),h&&h.m(t,o),F(t,a,o),~s&&f[s].m(t,o),F(t,l,o),d=!0},p(t,i){var r=c(i,1)[0],d={};2&r&&(d.title=t[1].name),e.$set(d);var g={};2&r&&(g.icon_href=t[1].icon_href),1086&r&&(g.$$scope={dirty:r,ctx:t}),n.$set(g),t[1].show_ads?h?2&r&&At(h,1):((h=qh()).c(),At(h,1),h.m(a.parentNode,a)):h&&(zt(),Lt(h,1,1,()=>{h=null}),Ot());var v=s;(s=p(t))===v?~s&&f[s].p(t,r):(o&&(zt(),Lt(f[v],1,1,()=>{f[v]=null}),Ot()),~s?((o=f[s])?o.p(t,r):(o=f[s]=u[s](t)).c(),At(o,1),o.m(l.parentNode,l)):o=null)},i(t){d||(At(e.$$.fragment,t),At(n.$$.fragment,t),At(h),At(o),d=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),Lt(h),Lt(o),d=!1},d(t){t&&(H(i),H(r),H(a),H(l)),Wt(e,t),Wt(n,t),h&&h.d(t),~s&&f[s].d(t)}}}function Zh(t,e,n){var r=ut(),a="loading",s={name:"",mime_type:"",size:0,date_upload:"",icon_href:""},l={download_url:"",size:0,children:null},c=0,d="",h=!1,u=function(){var t=i(o().m(function t(e){var i,u,p;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return n(1,s=e),r("loading",!0),"application/zip"===e.mime_type?n(4,d="zip"):"application/x-7z-compressed"===e.mime_type&&n(4,d="7z"),t.p=1,t.n=2,fetch(e.info_href+"/zip");case 2:if(!((i=t.v).status>=400)){t.n=3;break}return n(0,a="parse_failed"),t.a(2);case 3:return u=n,t.n=4,i.json();case 4:u(2,l=t.v),void 0!==l.properties&&(l.properties.includes("read_individual_files")&&f(e.info_href+"/zip",l),n(5,h=l.properties.includes("truncated"))),n(3,c=l.size/s.size),t.n=6;break;case 5:t.p=5,p=t.v,console.error(p);case 6:return t.p=6,r("loading",!1),t.f(6);case 7:n(0,a="finished");case 8:return t.a(2)}},t,null,[[1,5,6,7]])}));return function(e){return t.apply(this,arguments)}}(),f=(t,e)=>{e.download_url=t,e.children&&Object.entries(e.children).forEach(t=>{f(e.download_url+"/"+t[0],t[1])})};return[a,s,l,c,d,h,r,u,()=>{r("download")}]}class Qh extends qt{constructor(t){super(),Bt(this,t,Zh,Jh,b,{set_file:7})}get set_file(){return this.$$.ctx[7]}}function tu(t){j(t,"svelte-1qyghoj",".header_image.svelte-1qyghoj{width:100%;border-radius:8px}")}function eu(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v,m,b,_,y,w,$,k,M=xe(t[4].limits.transfer_limit,3)+"",C=xe(t[4].limits.transfer_limit_used,3)+"",S=xe(t[4].limits.speed_limit,3)+"",T=$e(t[0]/t[4].limits.speed_limit*1e3,0)+"",P=!window.user_authenticated&&function(){var t,e,i;return{c(){t=B("(you will need a "),(e=V("a")).textContent="pixeldrain account",i=B(" to\n\t\t\t\treceive the benefits)"),G(e,"href","/register")},m(n,r){F(n,t,r),F(n,e,r),F(n,i,r)},d(n){n&&(H(t),H(e),H(i))}}}();return{c(){e=V("img"),i=q(),n=V("p"),r=B("Pixeldrain's free tier is supported by my Patrons. There's only so much\n\t\tthat you can do with the budget they provide.\n\t\t"),a=B(M),s=B(" per day is about the\n\t\tmost I can give away for free while keeping it fair for everyone, and\n\t\taccording to our records you have already downloaded\n\t\t"),o=B(C),l=B("."),c=q(),(d=V("p")).textContent="It's not that I want to withold this file from you, it's just that I\n\t\tdon't want pixeldrain to fall into bankruptcy like so many of the\n\t\twebsites that came before me. So if you really want this file you have a\n\t\tfew options:",h=q(),u=V("ul"),(f=V("li")).textContent="Come back tomorrow when your free transfer limit resets",p=q(),g=V("li"),v=B("Download the file at a limited rate of "),m=B(S),b=B("/s. This will take at\n\t\t\tleast "),_=B(T),y=q(),w=V("li"),($=V("a")).innerHTML='<i class="icon">bolt</i> Get Premium',k=B("\n\t\t\tand earn my eternal gratitude\n\t\t\t"),P&&P.c(),x(e.src,"/res/img/slow_down.webp")||G(e,"src","/res/img/slow_down.webp"),G(e,"class","header_image svelte-1qyghoj"),G(e,"alt","Yea, I'm gonna need you to slow down a bit"),G($,"href","/user/prepaid/deposit"),G($,"target","_blank"),G($,"class","button button_highlight")},m(t,x){F(t,e,x),F(t,i,x),F(t,n,x),L(n,r),L(n,a),L(n,s),L(n,o),L(n,l),F(t,c,x),F(t,d,x),F(t,h,x),F(t,u,x),L(u,f),L(u,p),L(u,g),L(g,v),L(g,m),L(g,b),L(g,_),L(u,y),L(u,w),L(w,$),L(w,k),P&&P.m(w,null)},p(t,e){16&e&&M!==(M=xe(t[4].limits.transfer_limit,3)+"")&&Z(a,M),16&e&&C!==(C=xe(t[4].limits.transfer_limit_used,3)+"")&&Z(o,C),16&e&&S!==(S=xe(t[4].limits.speed_limit,3)+"")&&Z(m,S),17&e&&T!==(T=$e(t[0]/t[4].limits.speed_limit*1e3,0)+"")&&Z(_,T)},d(t){t&&(H(e),H(i),H(n),H(c),H(d),H(h),H(u)),P&&P.d()}}}function iu(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v,m,b,x,_=xe(t[0],3)+"";return{c(){e=V("table"),i=V("tbody"),n=V("tr"),r=V("td"),a=B(t[1]),s=q(),o=V("tr"),(l=V("td")).textContent="Type",c=V("td"),d=B(t[2]),h=q(),u=V("tr"),(f=V("td")).textContent="Size",p=V("td"),g=B(_),v=q(),(m=V("button")).innerHTML='<i class="icon">download</i> Download',G(r,"colspan","2")},m(_,y){F(_,e,y),L(e,i),L(i,n),L(n,r),L(r,a),L(i,s),L(i,o),L(o,l),L(o,c),L(c,d),L(i,h),L(i,u),L(u,f),L(u,p),L(p,g),F(_,v,y),F(_,m,y),b||(x=U(m,"click",t[6]),b=!0)},p(t,e){2&e&&Z(a,t[1]),4&e&&Z(d,t[2]),1&e&&_!==(_=xe(t[0],3)+"")&&Z(g,_)},d(t){t&&(H(e),H(v),H(m)),b=!1,x()}}}function nu(t){var e;return{c(){e=B("Also, I believe you have my stapler. Please give it back.")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function ru(t){var e,i,n,r,a,s;return e=new bc({props:{$$slots:{default:[eu]},$$scope:{ctx:t}}}),n=new Nc({props:{icon_href:t[3],$$slots:{default:[iu]},$$scope:{ctx:t}}}),a=new bc({props:{$$slots:{default:[nu]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment),r=q(),Nt(a.$$.fragment)},m(t,o){Vt(e,t,o),F(t,i,o),Vt(n,t,o),F(t,r,o),Vt(a,t,o),s=!0},p(t,i){var r=c(i,1)[0],s={};145&r&&(s.$$scope={dirty:r,ctx:t}),e.$set(s);var o={};8&r&&(o.icon_href=t[3]),135&r&&(o.$$scope={dirty:r,ctx:t}),n.$set(o);var l={};128&r&&(l.$$scope={dirty:r,ctx:t}),a.$set(l)},i(t){s||(At(e.$$.fragment,t),At(n.$$.fragment,t),At(a.$$.fragment,t),s=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),Lt(a.$$.fragment,t),s=!1},d(t){t&&(H(i),H(r)),Wt(e,t),Wt(n,t),Wt(a,t)}}}function au(t,e,i){var n;_(t,Sc,t=>i(4,n=t));var r=ut(),a=e.file_size,s=void 0===a?0:a,o=e.file_name,l=void 0===o?"":o,c=e.file_type,d=void 0===c?"":c,h=e.icon_href,u=void 0===h?"":h;return t.$$set=t=>{"file_size"in t&&i(0,s=t.file_size),"file_name"in t&&i(1,l=t.file_name),"file_type"in t&&i(2,d=t.file_type),"icon_href"in t&&i(3,u=t.icon_href)},[s,l,d,u,n,r,()=>{r("download")}]}class su extends qt{constructor(t){super(),Bt(this,t,au,ru,b,{file_size:0,file_name:1,file_type:2,icon_href:3},tu)}}function ou(t){j(t,"svelte-t7evd5",".center.svelte-t7evd5{position:relative;display:block;margin:auto;width:100px;max-width:100%;height:100px;max-height:100%;top:50%;transform:translateY(-50%)}")}function lu(t){var e,i;return e=new Rd({props:{}}),t[41](e),e.$on("download",t[42]),e.$on("reload",t[43]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[41](null),Wt(e,i)}}}function cu(t){var e,i;return e=new Qh({props:{}}),t[38](e),e.$on("loading",t[39]),e.$on("download",t[40]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[38](null),Wt(e,i)}}}function du(t){var e,i;return e=new Th({props:{}}),t[35](e),e.$on("loading",t[36]),e.$on("download",t[37]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[35](null),Wt(e,i)}}}function hu(t){var e,i;return e=new Ad({props:{}}),t[34](e),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[34](null),Wt(e,i)}}}function uu(t){var e,i;return e=new Cd({props:{}}),t[33](e),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[33](null),Wt(e,i)}}}function fu(t){var e,i,n={is_list:t[0]};return e=new md({props:n}),t[28](e),e.$on("loading",t[29]),e.$on("prev",t[30]),e.$on("next",t[31]),e.$on("reload",t[32]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1&i[0]&&(n.is_list=t[0]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[28](null),Wt(e,i)}}}function pu(t){var e,i,n={is_list:t[0]};return e=new nd({props:n}),t[22](e),e.$on("loading",t[23]),e.$on("download",t[24]),e.$on("prev",t[25]),e.$on("next",t[26]),e.$on("reload",t[27]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1&i[0]&&(n.is_list=t[0]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[22](null),Wt(e,i)}}}function gu(t){var e,i,n={is_list:t[0]};return e=new wd({props:n}),t[18](e),e.$on("prev",t[19]),e.$on("next",t[20]),e.$on("loading",t[21]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};1&i[0]&&(n.is_list=t[0]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[18](null),Wt(e,i)}}}function vu(t){var e,i;return e=new Qd({props:{}}),t[16](e),e.$on("download",t[17]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[16](null),Wt(e,i)}}}function mu(t){var e,i;return e=new Rd({props:{$$slots:{default:[wu]},$$scope:{ctx:t}}}),t[13](e),e.$on("download",t[14]),e.$on("reload",t[15]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};8192&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[13](null),Wt(e,i)}}}function bu(t){var e,i;return(e=new su({props:{file_size:t[3].size,file_name:t[3].name,file_type:t[3].mime_type,icon_href:t[3].icon_href}})).$on("download",t[12]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};8&i[0]&&(n.file_size=t[3].size),8&i[0]&&(n.file_name=t[3].name),8&i[0]&&(n.file_type=t[3].mime_type),8&i[0]&&(n.icon_href=t[3].icon_href),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function xu(t){var e,i;return e=new Yd({props:{}}),t[10](e),e.$on("download",t[11]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[10](null),Wt(e,i)}}}function _u(t){var e,i,n;return i=new cc({}),{c(){e=V("div"),Nt(i.$$.fragment),G(e,"class","center svelte-t7evd5")},m(t,r){F(t,e,r),Vt(i,e,null),n=!0},p:h,i(t){n||(At(i.$$.fragment,t),n=!0)},o(t){Lt(i.$$.fragment,t),n=!1},d(t){t&&H(e),Wt(i)}}}function yu(t){var e;return{c(){(e=V("div")).innerHTML="<p>Pixeldrain&#39;s servers are currently overloaded. There are too\n\t\t\t\tmany people downloading too many things. In order to ensure\n\t\t\t\tstability for our paying customers, free users are asked to\n\t\t\t\tcomplete a CAPTCHA before starting a new download.</p>",G(e,"class","highlight_yellow")},m(t,i){F(t,e,i)},p:h,d(t){t&&H(e)}}}function wu(t){var e,i;return e=new bc({props:{$$slots:{default:[yu]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};8192&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function $u(t){var e,i,n,r,a=[_u,xu,bu,mu,vu,gu,pu,fu,uu,hu,du,cu,lu],s=[];function o(t,e){return"loading"===t[2]?0:"abuse"===t[2]?1:!t[4]&&t[5].limits.transfer_limit_used>t[5].limits.transfer_limit?2:"overload"===t[2]?3:"rate_limit"===t[2]?4:"image"===t[2]?5:"video"===t[2]?6:"audio"===t[2]?7:"pdf"===t[2]?8:"text"===t[2]?9:"torrent"===t[2]?10:"zip"===t[2]?11:"file"===t[2]?12:-1}return~(e=o(t))&&(i=s[e]=a[e](t)),{c(){i&&i.c(),n=Y()},m(t,i){~e&&s[e].m(t,i),F(t,n,i),r=!0},p(t,r){var l=e;(e=o(t))===l?~e&&s[e].p(t,r):(i&&(zt(),Lt(s[l],1,1,()=>{s[l]=null}),Ot()),~e?((i=s[e])?i.p(t,r):(i=s[e]=a[e](t)).c(),At(i,1),i.m(n.parentNode,n)):i=null)},i(t){r||(At(i),r=!0)},o(t){Lt(i),r=!1},d(t){t&&H(n),~e&&s[e].d(t)}}}function ku(t,e,n){var r,a;_(t,Sc,t=>n(5,r=t));var s,l="loading",c=e.is_list,d=void 0!==c&&c,h=!1,u=function(){var t=i(o().m(function t(e){return o().w(function(t){for(;;)switch(t.n){case 0:if(""!==e.id){t.n=1;break}return n(2,l="loading"),t.a(2);case 1:""!==e.abuse_type?n(2,l="abuse"):"file_rate_limited_captcha_required"===e.availability||"ip_download_limited_captcha_required"===e.availability?n(2,l="rate_limit"):"server_overload_captcha_required"===e.availability?n(2,l="overload"):n(2,l=Kt(e));case 2:return console.log("opening file",e),n(3,s=e),n(4,h=!e.show_ads),t.n=3,yt();case 3:a&&a.set_file(e);case 4:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();return t.$$set=t=>{"is_list"in t&&n(0,d=t.is_list)},[d,a,l,s,h,r,u,()=>!(!a||!a.toggle_playback)&&(a.toggle_playback(),!0),()=>!(!a||!a.toggle_mute)&&(a.toggle_mute(),!0),t=>{a&&a.seek&&a.seek(t)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},function(t){gt[t?"unshift":"push"](()=>{n(1,a=t)})},function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)}]}class Mu extends qt{constructor(t){super(),Bt(this,t,ku,$u,b,{is_list:0,set_file:6,toggle_playback:7,toggle_mute:8,seek:9},ou,[-1,-1])}get set_file(){return this.$$.ctx[6]}get toggle_playback(){return this.$$.ctx[7]}get toggle_mute(){return this.$$.ctx[8]}get seek(){return this.$$.ctx[9]}}function Cu(t){j(t,"svelte-xbrph3",".nav_container.svelte-xbrph3.svelte-xbrph3{flex-grow:0;flex-shrink:0;display:flex;position:relative;width:100%;border-top:2px solid var(--separator);text-align:center;line-height:1em}.nav_button.svelte-xbrph3.svelte-xbrph3{flex-grow:0;flex-shrink:0}.list_navigator.svelte-xbrph3.svelte-xbrph3{flex-grow:1;flex-shrink:1;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.file_button.svelte-xbrph3.svelte-xbrph3{position:relative;height:2.6em;width:220px;margin:2px;padding:0;overflow:hidden;border-radius:6px;background:var(--input_background);color:var(--body_text_color);word-break:break-all;text-align:left;line-height:1.2em;display:inline-block;transition:background 0.2s;white-space:normal;text-decoration:none;vertical-align:top;cursor:pointer;border-width:1px;border-style:solid;border-color:var(--input_background);box-shadow:1px 1px 0px 0px var(--shadow_color)}.file_button.svelte-xbrph3.svelte-xbrph3:hover{text-decoration:none;background:var(--input_hover_background)}.file_button.svelte-xbrph3>img.svelte-xbrph3{height:100%;margin-right:5px;float:left;display:block}.file_selected.svelte-xbrph3.svelte-xbrph3{text-decoration:none;border-color:var(--highlight_color)}")}function Su(t,e,i){var n=t.slice();return n[11]=e[i],n[13]=i,n}function Tu(t,e){var i,n,r,a,s,o,l,c,d,h=e[11].name+"";return{key:t,first:null,c(){i=V("a"),n=V("img"),s=q(),o=B(h),l=q(),x(n.src,r=e[11].icon_href+"?width=64&height=64")||G(n,"src",r),G(n,"alt",a=e[11].name),G(n,"class","list_item_thumbnail svelte-xbrph3"),G(n,"loading","lazy"),G(i,"href",c="#item="+e[13]),G(i,"title",d="Open "+e[11].name),G(i,"class","file_button svelte-xbrph3"),et(i,"file_selected",e[11].selected),this.first=i},m(t,e){F(t,i,e),L(i,n),L(i,s),L(i,o),L(i,l)},p(t,s){e=t,1&s&&!x(n.src,r=e[11].icon_href+"?width=64&height=64")&&G(n,"src",r),1&s&&a!==(a=e[11].name)&&G(n,"alt",a),1&s&&h!==(h=e[11].name+"")&&Z(o,h),1&s&&c!==(c="#item="+e[13])&&G(i,"href",c),1&s&&d!==(d="Open "+e[11].name)&&G(i,"title",d),1&s&&et(i,"file_selected",e[11].selected)},d(t){t&&H(i)}}}function Pu(t){for(var e,i,n,r,a,s,o=[],l=new Map,d=It(t[0]),u=t=>t[11],f=0;f<d.length;f+=1){var p=Su(t,d,f),g=u(p);l.set(g,o[f]=Tu(g,p))}return{c(){e=V("div"),(i=V("button")).innerHTML='<i class="icon">photo_library</i>\n\t\tGallery',n=q(),r=V("div");for(var t=0;t<o.length;t+=1)o[t].c();G(i,"class","nav_button svelte-xbrph3"),G(i,"title","Opens a gallery view of the album"),G(r,"class","list_navigator svelte-xbrph3"),G(e,"class","nav_container svelte-xbrph3")},m(l,c){F(l,e,c),L(e,i),L(e,n),L(e,r);for(var d=0;d<o.length;d+=1)o[d]&&o[d].m(r,null);t[7](r),a||(s=U(i,"click",t[1]),a=!0)},p(t,e){var i=c(e,1)[0];1&i&&(d=It(t[0]),o=Ht(o,i,u,0,t,d,l,r,Rt,Tu,null,Su))},i:h,o:h,d(i){i&&H(e);for(var n=0;n<o.length;n+=1)o[n].d();t[7](null),a=!1,s()}}}function Du(t,e,i){var n,r=ut(),a=e.files,s=void 0===a?[]:a,o=0,l=[];return t.$$set=t=>{"files"in t&&i(0,s=t.files)},[s,()=>r("toggle_gallery"),n,()=>r("set_file",o+1),()=>r("set_file",o-1),()=>{var t;do{t=Math.floor(Math.random()*s.length),console.log("rand is "+t)}while(l.indexOf(t)>-1);r("set_file",t)},t=>{o=t,s.forEach((t,e)=>{t.selected=o===e}),i(0,s),l.length>=s.length-6&&l.shift(),l.push(t);var e=n.children[t],r=window.getComputedStyle(e),a=e.offsetWidth+parseInt(r.marginLeft)+parseInt(r.marginRight),c=n.scrollLeft,d=t*a+a/2-n.clientWidth/2,h=(d-c)/30,u=(t,e)=>{i(2,n.scrollLeft=t,n),e<30&&requestAnimationFrame(()=>{u(t+h,e+1)})};u(c,0)},function(t){gt[t?"unshift":"push"](()=>{i(2,n=t)})}]}class zu extends qt{constructor(t){super(),Bt(this,t,Du,Pu,b,{files:0,next:3,prev:4,toggle_gallery:1,rand_item:5,set_item:6},Cu)}get next(){return this.$$.ctx[3]}get prev(){return this.$$.ctx[4]}get toggle_gallery(){return this.$$.ctx[1]}get rand_item(){return this.$$.ctx[5]}get set_item(){return this.$$.ctx[6]}}function Ou(t){j(t,"svelte-15dc38",".label.svelte-15dc38{text-align:left;padding-left:10px;font-size:0.8em;line-height:0.7em;margin-top:0.5em}.stat.svelte-15dc38{text-align:center}")}function Au(t){var e,i,n,r,a,s,o,l,d,u,f,p,g,v,m,b=be(t[0])+"",x=be(t[1])+"",_=xe(t[2],3)+"";return{c(){e=V("div"),(i=V("div")).textContent="Views",n=q(),r=V("div"),a=B(b),s=q(),(o=V("div")).textContent="Downloads",l=q(),d=V("div"),u=B(x),f=q(),(p=V("div")).textContent="Size",g=q(),v=V("div"),m=B(_),G(i,"class","label svelte-15dc38"),G(r,"class","stat svelte-15dc38"),G(o,"class","label svelte-15dc38"),G(d,"class","stat svelte-15dc38"),G(p,"class","label svelte-15dc38"),G(v,"class","stat svelte-15dc38")},m(t,c){F(t,e,c),L(e,i),L(e,n),L(e,r),L(r,a),L(e,s),L(e,o),L(e,l),L(e,d),L(d,u),L(e,f),L(e,p),L(e,g),L(e,v),L(v,m)},p(t,e){var i=c(e,1)[0];1&i&&b!==(b=be(t[0])+"")&&Z(a,b),2&i&&x!==(x=be(t[1])+"")&&Z(u,x),4&i&&_!==(_=xe(t[2],3)+"")&&Z(m,_)},i:h,o:h,d(t){t&&H(e)}}}function Lu(t,e,i){var n;_(t,Sc,t=>i(4,n=t));var r=e.file,a=void 0===r?{id:"",views:0,size:0,downloads:0,bandwidth_used:0,bandwidth_used_paid:0}:r,s=0,o=0,l=0;return t.$$set=t=>{"file"in t&&i(3,a=t.file)},t.$$.update=()=>{var e;24&t.$$.dirty&&(i(2,l=a.size),n.file_stats_init?(i(0,s=n.file_stats.views),0===a.size?i(1,o=n.file_stats.downloads):i(1,o=Math.round((n.file_stats.bandwidth+n.file_stats.bandwidth_paid)/a.size))):(i(0,s=a.views),0===a.size?i(1,o=a.downloads):i(1,o=Math.round((a.bandwidth_used+a.bandwidth_used_paid)/a.size)))),8&t.$$.dirty&&(e=a.id,Oc({type:"file_stats",data:{file_id:e}}))},[s,o,l,a,n]}class ju extends qt{constructor(t){super(),Bt(this,t,Lu,Au,b,{file:3},Ou)}}function Eu(t){j(t,"svelte-1tbkcsz",".spinner_container.svelte-1tbkcsz{position:absolute;top:10px;left:10px;height:100px;width:100px}")}function Iu(t){var e,i,n;return i=new cc({}),{c(){e=V("div"),Nt(i.$$.fragment),G(e,"class","spinner_container svelte-1tbkcsz")},m(t,r){F(t,e,r),Vt(i,e,null),n=!0},i(t){n||(At(i.$$.fragment,t),n=!0)},o(t){Lt(i.$$.fragment,t),n=!1},d(t){t&&H(e),Wt(i)}}}function Ru(t){var e,i;return{c(){e=V("div"),i=B(t[4]),et(e,"highlight_green",t[3]),et(e,"highligt_red",!t[3])},m(t,n){F(t,e,n),L(e,i)},p(t,n){16&n&&Z(i,t[4]),8&n&&et(e,"highlight_green",t[3]),8&n&&et(e,"highligt_red",!t[3])},d(t){t&&H(e)}}}function Fu(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,m;return{c(){(e=V("h3")).textContent="Edit album",i=B("\n\t\tName:"),n=V("br"),r=q(),a=V("form"),s=V("input"),o=q(),(l=V("button")).innerHTML='<i class="icon">save</i> Save',c=q(),(d=V("h4")).textContent="Delete",h=q(),(u=V("p")).textContent="When you delete an album the files in the album will not be deleted,\n\t\t\tonly the album itself.",f=q(),(p=V("button")).innerHTML='<i class="icon small">delete</i> Delete album',G(s,"type","text"),tt(s,"flex","1 1 auto"),G(l,"type","submit"),tt(l,"flex","0 0 auto"),G(l,"class","button_highlight"),tt(a,"display","flex"),G(p,"class","button_red")},m(v,b){F(v,e,b),F(v,i,b),F(v,n,b),F(v,r,b),F(v,a,b),L(a,s),Q(s,t[6]),L(a,o),L(a,l),F(v,c,b),F(v,d,b),F(v,h,b),F(v,u,b),F(v,f,b),F(v,p,b),g||(m=[U(s,"input",t[11]),U(a,"submit",t[9]),U(p,"click",t[10])],g=!0)},p(t,e){64&e&&s.value!==t[6]&&Q(s,t[6])},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(c),H(d),H(h),H(u),H(f),H(p)),g=!1,v(m)}}}function Hu(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,m;return{c(){(e=V("h3")).textContent="Edit file",i=B("\n\t\tName:"),n=V("br"),r=q(),a=V("form"),s=V("input"),o=q(),(l=V("button")).innerHTML='<i class="icon">save</i> Save',c=q(),(d=V("h4")).textContent="Delete",h=q(),(u=V("p")).textContent="When you delete a file it cannot be recovered.\n\t\t\tNobody will be able to download it and the link will\n\t\t\tstop working. The file will also disappear from any\n\t\t\tlists it's contained in.",f=q(),(p=V("button")).innerHTML='<i class="icon small">delete</i> Delete file',G(s,"type","text"),tt(s,"flex","1 1 auto"),G(l,"type","submit"),tt(l,"flex","0 0 auto"),G(l,"class","button_highlight"),tt(a,"display","flex"),G(p,"class","button_red")},m(v,b){F(v,e,b),F(v,i,b),F(v,n,b),F(v,r,b),F(v,a,b),L(a,s),Q(s,t[5]),L(a,o),L(a,l),F(v,c,b),F(v,d,b),F(v,h,b),F(v,u,b),F(v,f,b),F(v,p,b),g||(m=[U(s,"input",t[12]),U(a,"submit",t[7]),U(p,"click",t[8])],g=!0)},p(t,e){32&e&&s.value!==t[5]&&Q(s,t[5])},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(c),H(d),H(h),H(u),H(f),H(p)),g=!1,v(m)}}}function Nu(t){var e,i,n,r,a,s=t[2]&&Iu(),o=""!==t[4]&&Ru(t),l=t[1].can_edit&&Fu(t),d=t[0].can_edit&&Hu(t);return{c(){e=V("div"),s&&s.c(),i=q(),o&&o.c(),n=q(),l&&l.c(),r=q(),d&&d.c(),G(e,"class","indent")},m(t,c){F(t,e,c),s&&s.m(e,null),L(e,i),o&&o.m(e,null),L(e,n),l&&l.m(e,null),L(e,r),d&&d.m(e,null),a=!0},p(t,a){var h=c(a,1)[0];t[2]?s?4&h&&At(s,1):((s=Iu()).c(),At(s,1),s.m(e,i)):s&&(zt(),Lt(s,1,1,()=>{s=null}),Ot()),""!==t[4]?o?o.p(t,h):((o=Ru(t)).c(),o.m(e,n)):o&&(o.d(1),o=null),t[1].can_edit?l?l.p(t,h):((l=Fu(t)).c(),l.m(e,r)):l&&(l.d(1),l=null),t[0].can_edit?d?d.p(t,h):((d=Hu(t)).c(),d.m(e,null)):d&&(d.d(1),d=null)},i(t){a||(At(s),a=!0)},o(t){Lt(s),a=!1},d(t){t&&H(e),s&&s.d(),o&&o.d(),l&&l.d(),d&&d.d()}}}function Vu(t,e,n){var r=ut(),a=e.file,s=void 0===a?{id:"",name:"",get_href:"",can_edit:!1}:a,l=e.list,c=void 0===l?{id:"",title:"",files:[],can_edit:!1,info_href:""}:l,d=!1,h=!1,u="",f="",p="",g=function(){var t=i(o().m(function t(e){var i,a,l;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.preventDefault(),n(2,d=!0),(i=new FormData).append("action","rename"),i.append("name",f),t.p=1,t.n=2,fetch(s.get_href,{method:"POST",body:i});case 2:if(!((a=t.v).status>=400)){t.n=4;break}return t.n=3,a.json();case 3:throw t.v.message;case 4:n(3,h=!0),n(4,u="File name has been changed. Reload the page to see the changes"),t.n=6;break;case 5:t.p=5,l=t.v,n(3,h=!1),n(4,u="Could not change file name: "+l);case 6:return t.p=6,n(2,d=!1),r("reload"),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=i(o().m(function t(e){var i,r;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(confirm("Are you sure you want to delete '"+s.name+"'?")){t.n=1;break}return t.a(2);case 1:return n(2,d=!0),t.p=2,t.n=3,fetch(s.get_href,{method:"DELETE"});case 3:if(!((i=t.v).status>=400)){t.n=5;break}return t.n=4,i.json();case 4:throw t.v.message;case 5:n(3,h=!0),n(4,u="This file has been deleted, you can close the page"),t.n=7;break;case 6:t.p=6,r=t.v,n(3,h=!1),n(4,u="Could not delete file: "+r);case 7:return t.p=7,n(2,d=!1),t.f(7);case 8:return t.a(2)}},t,null,[[2,6,7,8]])}));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=i(o().m(function t(e){var i,a,s;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.preventDefault(),n(2,d=!0),i={title:p,files:[]},c.files.forEach(t=>{i.files.push({id:t.id})}),t.p=1,t.n=2,fetch(c.info_href,{method:"PUT",body:JSON.stringify(i)});case 2:if(!((a=t.v).status>=400)){t.n=4;break}return t.n=3,a.json();case 3:throw t.v.message;case 4:n(3,h=!0),n(4,u="Album name has been changed. Reload the page to see the changes"),t.n=6;break;case 5:t.p=5,s=t.v,n(3,h=!1),n(4,u="Could not change album name: "+s);case 6:return t.p=6,n(2,d=!1),r("reload"),t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=i(o().m(function t(e){var i,r;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(confirm("Are you sure you want to delete '"+c.title+"'?")){t.n=1;break}return t.a(2);case 1:return n(2,d=!0),t.p=2,t.n=3,fetch(c.info_href,{method:"DELETE"});case 3:if(!((i=t.v).status>=400)){t.n=5;break}return t.n=4,i.json();case 4:throw t.v.message;case 5:n(3,h=!0),n(4,u="This album has been deleted, you can close the page"),t.n=7;break;case 6:t.p=6,r=t.v,n(3,h=!1),n(4,u="Could not delete album: "+r);case 7:return t.p=7,n(2,d=!1),t.f(7);case 8:return t.a(2)}},t,null,[[2,6,7,8]])}));return function(e){return t.apply(this,arguments)}}();return t.$$set=t=>{"file"in t&&n(0,s=t.file),"list"in t&&n(1,c=t.list)},t.$$.update=()=>{1&t.$$.dirty&&(s.id,n(5,f=s.name)),2&t.$$.dirty&&(c.id,n(6,p=c.title))},[s,c,d,h,u,f,p,g,v,m,b,function(){p=this.value,n(6,p)},function(){f=this.value,n(5,f)}]}class Wu extends qt{constructor(t){super(),Bt(this,t,Vu,Nu,b,{file:0,list:1},Eu)}}function Bu(t){j(t,"svelte-ox9g7q",".center.svelte-ox9g7q{text-align:center}")}function qu(t){var e,i,n,r,a,s,o,l,d,u,f,p,g,m,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O,A;return{c(){e=V("div"),(i=V("button")).textContent="None",n=q(),(r=V("button")).textContent="Nord",a=q(),(s=V("button")).textContent="dark",o=q(),(l=V("button")).textContent="light",d=q(),(u=V("button")).textContent="Solarized",f=q(),(p=V("button")).textContent="dark",g=q(),(m=V("button")).textContent="light",b=q(),(x=V("button")).textContent="Purple drain",_=q(),(y=V("button")).textContent="Classic",w=q(),($=V("button")).textContent="Maroon",k=q(),(M=V("button")).textContent="Hacker",C=q(),(S=V("button")).textContent="Canta",T=q(),(P=V("button")).textContent="Skeuos",D=q(),(z=V("button")).textContent="Sweet",et(i,"button_highlight",""===t[0]),G(r,"class","group_first"),et(r,"button_highlight","nord"===t[0]),G(s,"class","group_middle"),et(s,"button_highlight","nord_dark"===t[0]),G(l,"class","group_last"),et(l,"button_highlight","nord_light"===t[0]),G(u,"class","group_first"),et(u,"button_highlight","solarized"===t[0]),G(p,"class","group_middle"),et(p,"button_highlight","solarized_dark"===t[0]),G(m,"class","group_last"),et(m,"button_highlight","solarized_light"===t[0]),et(x,"button_highlight","purple_drain"===t[0]),et(y,"button_highlight","classic"===t[0]),et($,"button_highlight","maroon"===t[0]),et(M,"button_highlight","hacker"===t[0]),et(S,"button_highlight","canta"===t[0]),et(P,"button_highlight","skeuos"===t[0]),et(z,"button_highlight","sweet"===t[0]),G(e,"class","center svelte-ox9g7q")},m(c,h){F(c,e,h),L(e,i),L(e,n),L(e,r),L(e,a),L(e,s),L(e,o),L(e,l),L(e,d),L(e,u),L(e,f),L(e,p),L(e,g),L(e,m),L(e,b),L(e,x),L(e,_),L(e,y),L(e,w),L(e,$),L(e,k),L(e,M),L(e,C),L(e,S),L(e,T),L(e,P),L(e,D),L(e,z),O||(A=[U(i,"click",t[2]),U(r,"click",t[3]),U(s,"click",t[4]),U(l,"click",t[5]),U(u,"click",t[6]),U(p,"click",t[7]),U(m,"click",t[8]),U(x,"click",t[9]),U(y,"click",t[10]),U($,"click",t[11]),U(M,"click",t[12]),U(S,"click",t[13]),U(P,"click",t[14]),U(z,"click",t[15])],O=!0)},p(t,e){var n=c(e,1)[0];1&n&&et(i,"button_highlight",""===t[0]),1&n&&et(r,"button_highlight","nord"===t[0]),1&n&&et(s,"button_highlight","nord_dark"===t[0]),1&n&&et(l,"button_highlight","nord_light"===t[0]),1&n&&et(u,"button_highlight","solarized"===t[0]),1&n&&et(p,"button_highlight","solarized_dark"===t[0]),1&n&&et(m,"button_highlight","solarized_light"===t[0]),1&n&&et(x,"button_highlight","purple_drain"===t[0]),1&n&&et(y,"button_highlight","classic"===t[0]),1&n&&et($,"button_highlight","maroon"===t[0]),1&n&&et(M,"button_highlight","hacker"===t[0]),1&n&&et(S,"button_highlight","canta"===t[0]),1&n&&et(P,"button_highlight","skeuos"===t[0]),1&n&&et(z,"button_highlight","sweet"===t[0])},i:h,o:h,d(t){t&&H(e),O=!1,v(A)}}}function Yu(t,e,i){var n=ut(),r=e.theme,a=void 0===r?"":r,s=t=>{i(0,a=t),n("theme_change",a)};return t.$$set=t=>{"theme"in t&&i(0,a=t.theme)},[a,s,()=>{s("")},()=>{s("nord")},()=>{s("nord_dark")},()=>{s("nord_light")},()=>{s("solarized")},()=>{s("solarized_dark")},()=>{s("solarized_light")},()=>{s("purple_drain")},()=>{s("classic")},()=>{s("maroon")},()=>{s("hacker")},()=>{s("canta")},()=>{s("skeuos")},()=>{s("sweet")}]}class Uu extends qt{constructor(t){super(),Bt(this,t,Yu,qu,b,{theme:0},Bu)}}function Xu(t){j(t,"svelte-1j8hfe6",".center.svelte-1j8hfe6{text-align:center}.container.svelte-1j8hfe6{width:100%;overflow:hidden}.tab_bar.svelte-1j8hfe6{border-bottom:2px solid var(--separator)}")}function Ku(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">code</i>\n\t\t\t\tHotlink',et(e,"button_highlight","hotlink"===t[1])},m(r,a){F(r,e,a),i||(n=U(e,"click",t[7]),i=!0)},p(t,i){2&i&&et(e,"button_highlight","hotlink"===t[1])},d(t){t&&H(e),i=!1,n()}}}function Gu(t){var e,i,n,r,a,s,o,l,c,d,u=Me()+"",f=t[0].get_href+"";return{c(){(e=V("h3")).textContent="Direct link",i=q(),(n=V("p")).innerHTML='Hotlinking is only supported on <a href="/#pro">Pro</a>\n\t\t\t\taccounts. If this file was not uploaded with a Pro account the\n\t\t\t\tdownload will be blocked.',r=q(),a=V("p"),s=B("You can directly download the file from this link without using the\n\t\t\t\tfile viewer:\n\t\t\t\t"),o=V("br"),l=q(),c=B(u),d=B(f)},m(t,h){F(t,e,h),F(t,i,h),F(t,n,h),F(t,r,h),F(t,a,h),L(a,s),L(a,o),L(a,l),L(a,c),L(a,d)},p(t,e){1&e&&f!==(f=t[0].get_href+"")&&Z(d,f)},i:h,o:h,d(t){t&&(H(e),H(i),H(n),H(r),H(a))}}}function Ju(t){var e,i,n,r,a,s;return(a=new Uu({})).$on("theme_change",t[10]),{c(){(e=V("h3")).textContent="Appearance",i=q(),(n=V("p")).innerHTML='You can change the pixeldrain theme for your embedded file. Try the\n\t\t\t\tavailable themes <a href="/appearance">here</a>.',r=q(),Nt(a.$$.fragment)},m(t,o){F(t,e,o),F(t,i,o),F(t,n,o),F(t,r,o),Vt(a,t,o),s=!0},p:h,i(t){s||(At(a.$$.fragment,t),s=!0)},o(t){Lt(a.$$.fragment,t),s=!1},d(t){t&&(H(e),H(i),H(n),H(r)),Wt(a,t)}}}function Zu(t){var e;return{c(){e=B("Copy HTML")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Qu(t){var e,i,n,r,a,s,o,l,d,h,u,f,p,g,m,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O,A=t[0].id&&Ku(t),j=[Ju,Gu],E=[];function I(t,e){return"iframe"===t[1]?0:1}return d=I(t),h=E[d]=j[d](t),$=new vh({props:{text:t[2],$$slots:{default:[Zu]},$$scope:{ctx:t}}}),{c(){e=V("div"),(i=V("div")).innerHTML='<p>If you have a website you can embed pixeldrain files in your own\n\t\t\twebpages here.</p> <p>The IFrame embed gives you a frame with a slightly more minimalistic\n\t\t\tfile viewer in it. The embedded file viewer has a fullscreen button\n\t\t\tand the toolbar is collapsed by default. If you do not have a\n\t\t\tpixeldrain Pro account the frame will also have advertisements in\n\t\t\tit.</p> <p>The hotlink embed option only works for single files uploaded with a\n\t\t\tPro account. You can use this to directly embed a video player,\n\t\t\taudio player, photo element or a download button in your site. Make\n\t\t\tsure you have hotlinking enabled on your\n\t\t\t<a href="/user/sharing/bandwidth">sharing settings page</a> or the\n\t\t\tembed will not work.</p>',n=q(),r=V("div"),(a=V("button")).innerHTML='<i class="icon">code</i>\n\t\t\tIFrame',s=q(),A&&A.c(),o=q(),l=V("div"),h.c(),u=q(),(f=V("h3")).textContent="Code",p=q(),(g=V("p")).textContent="Put this code in your website to embed the file.",m=q(),b=V("div"),x=V("textarea"),_=q(),y=V("br"),w=q(),Nt($.$$.fragment),k=q(),(M=V("button")).innerHTML='<i class="icon">visibility</i> Show example',C=q(),(S=V("h3")).textContent="Example",T=q(),P=V("div"),G(i,"class","indent"),et(a,"button_highlight","iframe"===t[1]),G(r,"class","tab_bar svelte-1j8hfe6"),tt(x,"width","99%"),tt(x,"height","4em"),et(M,"button_highlight",t[4]),G(b,"class","center svelte-1j8hfe6"),G(l,"class","indent"),tt(P,"text-align","center"),G(e,"class","container svelte-1j8hfe6")},m(c,h){F(c,e,h),L(e,i),L(e,n),L(e,r),L(r,a),L(r,s),A&&A.m(r,null),L(e,o),L(e,l),E[d].m(l,null),L(l,u),L(l,f),L(l,p),L(l,g),L(l,m),L(l,b),L(b,x),Q(x,t[2]),L(b,_),L(b,y),L(b,w),Vt($,b,null),L(b,k),L(b,M),L(l,C),L(l,S),L(e,T),L(e,P),t[12](P),D=!0,z||(O=[U(a,"click",t[6]),U(x,"input",t[11]),U(M,"click",t[8])],z=!0)},p(t,e){var i=c(e,1)[0];(!D||2&i)&&et(a,"button_highlight","iframe"===t[1]),t[0].id?A?A.p(t,i):((A=Ku(t)).c(),A.m(r,null)):A&&(A.d(1),A=null);var n=d;(d=I(t))===n?E[d].p(t,i):(zt(),Lt(E[n],1,1,()=>{E[n]=null}),Ot(),(h=E[d])?h.p(t,i):(h=E[d]=j[d](t)).c(),At(h,1),h.m(l,u)),4&i&&Q(x,t[2]);var s={};4&i&&(s.text=t[2]),131072&i&&(s.$$scope={dirty:i,ctx:t}),$.$set(s),(!D||16&i)&&et(M,"button_highlight",t[4])},i(t){D||(At(h),At($.$$.fragment,t),D=!0)},o(t){Lt(h),Lt($.$$.fragment,t),D=!1},d(i){i&&H(e),A&&A.d(),E[d].d(),Wt($),t[12](null),z=!1,v(O)}}}function tf(t,e,i){var n,r=e.file,a=void 0===r?{id:"",mime_type:"",get_href:"",download_href:""}:r,s=e.list,o=void 0===s?{id:""}:s,l="iframe",c="",d="",h=t=>{d=t,u(),v()},u=()=>{i(1,l="iframe");var t,e="";d&&(e="&style="+d),t=""===o.id?Me()+"/u/"+a.id+"?embed"+e:Me()+"/l/"+o.id+"?embed"+e+window.location.hash,i(2,c="<iframe "+'src="'.concat(t,'" ')+'style="border: none; width: 800px; max-width: 100%; height: 600px; max-height: 100%; border-radius: 8px;" allowfullscreen></iframe>')},f=()=>{i(1,l="hotlink");var t=Kt(a);i(2,c="video"===t?'<video controls playsinline style="max-width: 100%; max-height: 100%;">'+'<source src="'.concat(Me()).concat(a.get_href,'" type="').concat(a.mime_type,'" />')+"</video>":"audio"===t?'<audio controls style="width: 100%;">'+'<source src="'.concat(Me()).concat(a.get_href,'" type="').concat(a.mime_type,'" />')+"</audio>":"image"===t?'<img src="'.concat(Me()).concat(a.get_href,'" alt="').concat(p(a.name),'" style="max-width: 100%; max-height: 100%;">'):'<a href="'.concat(Me()).concat(a.download_href,'">')+"Download ".concat(p(a.name)," here")+"</a>")},p=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),g=!1,v=()=>{i(3,n.innerHTML=g?c:"",n)};return t.$$set=t=>{"file"in t&&i(0,a=t.file),"list"in t&&i(9,o=t.list)},t.$$.update=()=>{513&t.$$.dirty&&(a.id,o.id,n&&i(3,n.innerHTML="",n),"iframe"===l?u():"hotlink"===l&&f())},[a,l,c,n,g,h,u,f,()=>{i(4,g=!g),v()},o,t=>h(t.detail),function(){c=this.value,i(2,c)},function(t){gt[t?"unshift":"push"](()=>{i(3,n=t)})}]}class ef extends qt{constructor(t){super(),Bt(this,t,tf,Qu,b,{file:0,list:9},Xu)}}function nf(t){j(t,"svelte-1xjkx8r",'.container.svelte-1xjkx8r.svelte-1xjkx8r{width:100%;padding:10px;overflow:hidden}label.svelte-1xjkx8r.svelte-1xjkx8r{padding:0.2em;display:flex;flex-direction:row}label.svelte-1xjkx8r>input.svelte-1xjkx8r{flex:0 0 auto;margin-right:0.5em}label.svelte-1xjkx8r>div.svelte-1xjkx8r{flex:1 1 auto;padding:0 0.2em;border-radius:6px;border:1px solid var(--separator)}input[type="radio"].svelte-1xjkx8r:checked+div.svelte-1xjkx8r{border-color:var(--highlight_color)}.spinner_container.svelte-1xjkx8r.svelte-1xjkx8r{position:absolute;top:auto;left:10px;height:100px;width:100px;z-index:1000}.report_form.svelte-1xjkx8r.svelte-1xjkx8r{width:100%}.report_form.svelte-1xjkx8r>input[type="text"].svelte-1xjkx8r,.report_form.svelte-1xjkx8r>textarea.svelte-1xjkx8r{width:100%;margin:0 0 0.5em 0}.report_form.svelte-1xjkx8r>textarea.svelte-1xjkx8r{height:5em}')}function rf(t,e,i){var n=t.slice();return n[21]=e[i],n}function af(t,e,i){var n=t.slice();return n[24]=e[i],n}function sf(t){var e,i,n,r,a,s,o,l,c,d,h,u=t[24].desc+"";return c=J(t[11][1]),{c(){e=V("label"),i=V("input"),n=q(),r=V("div"),(a=V("b")).textContent="".concat(t[24].name),s=V("br"),o=q(),l=B(u),G(i,"type","radio"),G(i,"id","type_"+t[24].type),G(i,"name","abuse_type"),i.__value=t[24].type,Q(i,i.__value),G(i,"class","svelte-1xjkx8r"),G(r,"class","svelte-1xjkx8r"),G(e,"for","type_"+t[24].type),G(e,"class","svelte-1xjkx8r"),c.p(i)},m(c,u){F(c,e,u),L(e,i),i.checked=i.__value===t[2],L(e,n),L(e,r),L(r,a),L(r,s),L(r,o),L(r,l),d||(h=U(i,"change",t[10]),d=!0)},p(t,e){4&e&&(i.checked=i.__value===t[2])},d(t){t&&H(e),c.r(),d=!1,h()}}}function of(t){var e,i=void 0===t[24].filter||t[24].filter(t[0].mime_type),n=i&&sf(t);return{c(){n&&n.c(),e=Y()},m(t,i){n&&n.m(t,i),F(t,e,i)},p(t,r){1&r&&(i=void 0===t[24].filter||t[24].filter(t[0].mime_type)),i?n?n.p(t,r):((n=sf(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&H(e),n&&n.d(t)}}}function lf(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,m,b,x,_,y,w=t[0].name+"",$=t[1].files.length+"";return x=J(t[11][0]),{c(){(e=V("h3")).textContent="Report multiple files?",i=q(),n=V("label"),r=V("input"),a=q(),s=V("div"),o=B("Report only the selected file ("),l=B(w),c=B(")"),d=q(),h=V("label"),u=V("input"),f=q(),p=V("div"),g=B("Report all "),m=B($),b=B(" files in this album"),G(r,"type","radio"),G(r,"id","report_single"),G(r,"name","single_or_all"),r.__value="single",Q(r,r.__value),G(r,"class","svelte-1xjkx8r"),G(s,"class","svelte-1xjkx8r"),G(n,"for","report_single"),G(n,"class","svelte-1xjkx8r"),G(u,"type","radio"),G(u,"id","report_all"),G(u,"name","single_or_all"),u.__value="all",Q(u,u.__value),G(u,"class","svelte-1xjkx8r"),G(p,"class","svelte-1xjkx8r"),G(h,"for","report_all"),tt(h,"border-bottom","none"),G(h,"class","svelte-1xjkx8r"),x.p(r,u)},m(v,x){F(v,e,x),F(v,i,x),F(v,n,x),L(n,r),r.checked=r.__value===t[3],L(n,a),L(n,s),L(s,o),L(s,l),L(s,c),F(v,d,x),F(v,h,x),L(h,u),u.checked=u.__value===t[3],L(h,f),L(h,p),L(p,g),L(p,m),L(p,b),_||(y=[U(r,"change",t[12]),U(u,"change",t[13])],_=!0)},p(t,e){8&e&&(r.checked=r.__value===t[3]),1&e&&w!==(w=t[0].name+"")&&Z(l,w),8&e&&(u.checked=u.__value===t[3]),2&e&&$!==($=t[1].files.length+"")&&Z(m,$)},d(t){t&&(H(e),H(i),H(n),H(d),H(h)),x.r(),_=!1,v(y)}}}function cf(t){var e,i,n;return{c(){(e=V("div")).innerHTML="<p>The revenge porn category is for blackmail content and\n\t\t\t\t\tnon-consensual deepfake porn. If you use this category for\n\t\t\t\t\tcopyright violations then your report will be ignored.</p>",i=q(),n=V("br"),G(e,"class","highlight_yellow"),tt(e,"text-align","initial")},m(t,r){F(t,e,r),F(t,i,r),F(t,n,r)},p:h,d(t){t&&(H(e),H(i),H(n))}}}function df(t){var e,i,n,r,a,s,o,l,c;return{c(){(e=V("div")).innerHTML="<p>The child abuse category is only for cases where real\n\t\t\t\t\tchildren were abused. This is not for fictional works.</p>",i=q(),n=V("br"),r=q(),(a=V("div")).textContent="If this file is an encrypted archive, please provide the password so we can verify the contents",s=q(),o=V("input"),G(e,"class","highlight_yellow"),tt(e,"text-align","initial"),G(o,"type","text"),G(o,"placeholder","Password..."),G(o,"class","svelte-1xjkx8r")},m(d,h){F(d,e,h),F(d,i,h),F(d,n,h),F(d,r,h),F(d,a,h),F(d,s,h),F(d,o,h),Q(o,t[7]),l||(c=U(o,"input",t[14]),l=!0)},p(t,e){128&e&&o.value!==t[7]&&Q(o,t[7])},d(t){t&&(H(e),H(i),H(n),H(r),H(a),H(s),H(o)),l=!1,c()}}}function hf(t){var e,i,n;return i=new cc({}),{c(){e=V("div"),Nt(i.$$.fragment),G(e,"class","spinner_container svelte-1xjkx8r")},m(t,r){F(t,e,r),Vt(i,e,null),n=!0},i(t){n||(At(i.$$.fragment,t),n=!0)},o(t){Lt(i.$$.fragment,t),n=!1},d(t){t&&H(e),Wt(i)}}}function uf(t){var e,i,n=t[21].text+"";return{c(){e=V("div"),i=B(n),et(e,"highlight_green",t[21].success),et(e,"highlight_red",!t[21].success)},m(t,n){F(t,e,n),L(e,i)},p(t,r){32&r&&n!==(n=t[21].text+"")&&Z(i,n),32&r&&et(e,"highlight_green",t[21].success),32&r&&et(e,"highlight_red",!t[21].success)},d(t){t&&H(e)}}}function ff(t){for(var e,i,n,r,a,s,o,l,d,h,u,f,p,g,m,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O,A,j,E,I,R=t[6].length+"",W=It(t[8]),Y=[],X=0;X<W.length;X+=1)Y[X]=of(af(t,W,X));var K=""!==t[1].id&&""!==t[0].id&&lf(t);function J(t,e){return"child_abuse"===t[2]?df:"revenge_porn"===t[2]?cf:void 0}for(var et=J(t),it=et&&et(t),nt=t[4]&&hf(),rt=It(t[5]),at=[],st=0;st<rt.length;st+=1)at[st]=uf(rf(t,rt,st));return{c(){e=V("div"),(i=V("p")).innerHTML='If you think this file violates pixeldrain&#39;s\n\t\t<a href="/abuse">content policy</a> you can report it for moderation\n\t\twith this form. For copyright infringement notices or urgent matters\n\t\tplease use our\n\t\t<a href="/abuse#toc_2">abuse e-mail address</a>.',n=q(),r=V("form"),(a=V("h3")).textContent="Abuse type",s=q(),(o=V("p")).textContent="Which type of abuse is shown in this file? Pick the most\n\t\t\tappropriate one.",l=q();for(var t=0;t<Y.length;t+=1)Y[t].c();d=q(),K&&K.c(),h=q(),(u=V("h3")).textContent="Description",f=q(),it&&it.c(),p=q(),g=V("div"),m=B("Please provide some context for your report. Why do you think this\n\t\t\tfile violates the content policy? ("),b=B(R),x=B("/500)"),_=q(),y=V("textarea"),w=q(),($=V("div")).textContent="This is not a contact form. You will not receive a reply to any\n\t\t\tquestions asked in this description field.",k=q(),(M=V("h3")).textContent="Send",C=q(),nt&&nt.c(),S=q();for(var c=0;c<at.length;c+=1)at[c].c();T=q(),(P=V("p")).textContent="Abuse reports are manually reviewed. Normally this shouldn't\n\t\t\ttake more than 24 hours. During busy periods it can take\n\t\t\tlonger.",D=q(),(z=V("p")).textContent="Reports are sent for each file separately. Please wait until all\n\t\t\treports have been submitted after clicking submit.",O=q(),(A=V("div")).innerHTML='<button class="button_highlight abuse_report_submit" type="submit" style="justify-content: center; width: 100%; max-width: 200px"><i class="icon">send</i> <span>Submit report</span></button>',G(y,"placeholder","Context here..."),y.required=!0,G(y,"class","svelte-1xjkx8r"),tt(A,"text-align","center"),tt(r,"width","100%"),G(r,"class","report_form svelte-1xjkx8r"),G(e,"class","container svelte-1xjkx8r")},m(c,v){F(c,e,v),L(e,i),L(e,n),L(e,r),L(r,a),L(r,s),L(r,o),L(r,l);for(var R=0;R<Y.length;R+=1)Y[R]&&Y[R].m(r,null);L(r,d),K&&K.m(r,null),L(r,h),L(r,u),L(r,f),it&&it.m(r,null),L(r,p),L(r,g),L(g,m),L(g,b),L(g,x),L(r,_),L(r,y),Q(y,t[6]),L(r,w),L(r,$),L(r,k),L(r,M),L(r,C),nt&&nt.m(r,null),L(r,S);for(var H=0;H<at.length;H+=1)at[H]&&at[H].m(r,null);L(r,T),L(r,P),L(r,D),L(r,z),L(r,O),L(r,A),j=!0,E||(I=[U(y,"input",t[15]),U(r,"submit",t[9])],E=!0)},p(t,e){var i=c(e,1)[0];if(261&i){var n;for(W=It(t[8]),n=0;n<W.length;n+=1){var a=af(t,W,n);Y[n]?Y[n].p(a,i):(Y[n]=of(a),Y[n].c(),Y[n].m(r,d))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=W.length}if(""!==t[1].id&&""!==t[0].id?K?K.p(t,i):((K=lf(t)).c(),K.m(r,h)):K&&(K.d(1),K=null),et===(et=J(t))&&it?it.p(t,i):(it&&it.d(1),(it=et&&et(t))&&(it.c(),it.m(r,p))),(!j||64&i)&&R!==(R=t[6].length+"")&&Z(b,R),64&i&&Q(y,t[6]),t[4]?nt?16&i&&At(nt,1):((nt=hf()).c(),At(nt,1),nt.m(r,S)):nt&&(zt(),Lt(nt,1,1,()=>{nt=null}),Ot()),32&i){var s;for(rt=It(t[5]),s=0;s<rt.length;s+=1){var o=rf(t,rt,s);at[s]?at[s].p(o,i):(at[s]=uf(o),at[s].c(),at[s].m(r,T))}for(;s<at.length;s+=1)at[s].d(1);at.length=rt.length}},i(t){j||(At(nt),j=!0)},o(t){Lt(nt),j=!1},d(t){t&&H(e),N(Y,t),K&&K.d(),it&&it.d(),nt&&nt.d(),N(at,t),E=!1,v(I)}}}function pf(t,e,n){var r=e.file,a=void 0===r?{id:"",name:"",get_href:"",mime_type:""}:r,s=e.list,l=void 0===s?{id:"",files:[]}:s,c=t=>t.startsWith("image/")||t.startsWith("video/")||"application/pdf"===t,d=[{type:"terrorism",name:"Terrorism",desc:"Videos, images or audio fragments showing or promoting the use\n\t\t\tof intentional violence to achieve political aims",filter:t=>c(t)||(t=>t.startsWith("audio/"))(t)},{type:"gore",name:"Gore",desc:"Graphic and shocking videos or images depicting severe harm to\n\t\t\thumans (or animals)",filter:c},{type:"child_abuse",name:"Child abuse",desc:"Videos or images depicting inappropriate touching or nudity of\n\t\t\tchildren under 18 years old"},{type:"zoophilia",name:"Zoophilia",desc:"Videos or images depicting of sexual acts being performed on\n\t\t\tanimals"},{type:"revenge_porn",name:"Revenge porn",desc:"Sexually explicit images or videos of individuals without their\n\t\t\tconsent and blackmail content"},{type:"doxing",name:"Doxing",desc:"Personally identifiable information being shared without the\n\t\t\tconsent of the owner. This includes things like passport scans,\n\t\t\te-mail addresses, telephone numbers and passwords"},{type:"malware",name:"Malware",desc:"Software programs designed to cause harm to computer systems",filter:t=>t.startsWith("application/")||t.startsWith("text/")}],h="",u="single",f=!1,p=[],g=function(){var t=i(o().m(function t(e){var i,r,s,c,d,g,m,x;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e.preventDefault(),""!==h){t.n=1;break}return n(5,p=[{success:!1,text:"Please select an abuse type"}]),t.a(2);case 1:if(!(v.length>500)){t.n=2;break}return n(5,p=[{success:!1,text:"Description is too long"}]),t.a(2);case 2:n(4,f=!0),i=[],""===a.id?n(3,u="all"):""===l.id&&n(3,u="single"),"all"===u?l.files.forEach(t=>{""===t.abuse_type&&i.push(t.id)}):i.push(a.id),(r=new FormData).append("type",h),r.append("description",b()),n(5,p=[]),s=0,c=i;case 3:if(!(s<c.length)){t.n=14;break}return d=c[s],t.p=4,t.n=5,fetch(window.api_endpoint+"/file/"+d+"/report_abuse",{method:"POST",body:r});case 5:if(!((g=t.v).status>=400)){t.n=10;break}return t.n=6,g.json();case 6:if("resource_already_exists"!==(m=t.v).value){t.n=7;break}throw"You have already reported this file";case 7:if("file_already_blocked"!==m.value){t.n=8;break}throw"This file has already been blocked";case 8:if("multiple_errors"!==m.value){t.n=9;break}throw m.errors[0].message;case 9:throw m.message;case 10:p.push({success:!0,text:"Report has been sent"}),t.n=12;break;case 11:t.p=11,x=t.v,p.push({success:!1,text:"Failed to send report: "+x});case 12:n(5,p);case 13:s++,t.n=3;break;case 14:n(4,f=!1);case 15:return t.a(2)}},t,null,[[4,11]])}));return function(e){return t.apply(this,arguments)}}(),v="",m="",b=()=>"child_abuse"===h?"Password: "+m+"\nDescription:\n"+v:v;return t.$$set=t=>{"file"in t&&n(0,a=t.file),"list"in t&&n(1,l=t.list)},[a,l,h,u,f,p,v,m,d,g,function(){h=this.__value,n(2,h)},[[],[]],function(){u=this.__value,n(3,u)},function(){u=this.__value,n(3,u)},function(){m=this.value,n(7,m)},function(){v=this.value,n(6,v)}]}class gf extends qt{constructor(t){super(),Bt(this,t,pf,ff,b,{file:0,list:1},nf)}}function vf(t){j(t,"svelte-1s8xgdt",".banner.svelte-1s8xgdt{display:block;margin:auto;transform-origin:0 0;font-size:1.2em;line-height:1.2em}.center.svelte-1s8xgdt{text-align:center}.support_banner.svelte-1s8xgdt{text-align:center;padding:2px}.socials.svelte-1s8xgdt{display:inline-block;text-align:center;margin:0 5px}@media(max-width: 600px){.banner.svelte-1s8xgdt{font-size:1em}.socials.svelte-1s8xgdt{font-size:0.9em}}")}function mf(t){var e;var i=void 0,n=i&&i(t);return{c(){n&&n.c(),e=Y()},m(t,i){n&&n.m(t,i),F(t,e,i)},p:h,i:h,o:h,d(t){t&&H(e),n&&n.d(t)}}}function bf(t){return ht(()=>{}),[]}class xf extends qt{constructor(t){super(),Bt(this,t,bf,mf,b,{},vf)}}function _f(t){j(t,"svelte-15cbknj",".sharebar.svelte-15cbknj.svelte-15cbknj{position:absolute;width:7em;left:-8em;bottom:0;top:0;overflow-y:scroll;overflow-x:hidden;background:var(--shaded_background);backdrop-filter:blur(4px);border-top-left-radius:16px;border-bottom-left-radius:16px;text-align:center;overflow:hidden;opacity:0;transition:left 0.4s, opacity 0.4s}.visible.svelte-15cbknj.svelte-15cbknj{left:calc(8em + 2px);opacity:1}.button_full_width.svelte-15cbknj.svelte-15cbknj{flex-direction:column;width:calc(100% - 6px)}.button_full_width.svelte-15cbknj>svg.svelte-15cbknj{height:3em;width:3em;fill:currentColor}")}function yf(t){var e,i,n,r,a,s,o,l,d,u,f,p,g,m,b;return{c(){e=V("div"),i=B("Share on:"),n=V("br"),r=q(),(a=V("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="svelte-15cbknj"><path d="M22 4H2v16h20V4zm-2 4l-8 5-8-5V6l8 5 8-5v2z"></path></svg>\n\t\tE-Mail',s=q(),(o=V("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24" class="svelte-15cbknj"><path d="M22,12.14C22,10.92 21,9.96 19.81,9.96C19.22,9.96 18.68,10.19 18.29,10.57C16.79,9.5 14.72,8.79 12.43,8.7L13.43,4L16.7,4.71C16.73,5.53 17.41,6.19 18.25,6.19C19.11,6.19 19.81,5.5 19.81,4.63C19.81,3.77 19.11,3.08 18.25,3.08C17.65,3.08 17.11,3.43 16.86,3.95L13.22,3.18C13.11,3.16 13,3.18 12.93,3.24C12.84,3.29 12.79,3.38 12.77,3.5L11.66,8.72C9.33,8.79 7.23,9.5 5.71,10.58C5.32,10.21 4.78,10 4.19,10C2.97,10 2,10.96 2,12.16C2,13.06 2.54,13.81 3.29,14.15C3.25,14.37 3.24,14.58 3.24,14.81C3.24,18.18 7.16,20.93 12,20.93C16.84,20.93 20.76,18.2 20.76,14.81C20.76,14.6 20.75,14.37 20.71,14.15C21.46,13.81 22,13.04 22,12.14M7,13.7C7,12.84 7.68,12.14 8.54,12.14C9.4,12.14 10.1,12.84 10.1,13.7A1.56,1.56 0 0,1 8.54,15.26C7.68,15.28 7,14.56 7,13.7M15.71,17.84C14.63,18.92 12.59,19 12,19C11.39,19 9.35,18.9 8.29,17.84C8.13,17.68 8.13,17.43 8.29,17.27C8.45,17.11 8.7,17.11 8.86,17.27C9.54,17.95 11,18.18 12,18.18C13,18.18 14.47,17.95 15.14,17.27C15.3,17.11 15.55,17.11 15.71,17.27C15.85,17.43 15.85,17.68 15.71,17.84M15.42,15.28C14.56,15.28 13.86,14.58 13.86,13.72A1.56,1.56 0 0,1 15.42,12.16C16.28,12.16 17,12.86 17,13.72C17,14.56 16.28,15.28 15.42,15.28Z"></path></svg>\n\t\tReddit',l=q(),(d=V("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24" class="svelte-15cbknj"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"></path></svg>\n\t\tTwitter',u=q(),(f=V("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24" class="svelte-15cbknj"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"></path></svg>\n\t\tFacebook',p=q(),(g=V("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24" class="svelte-15cbknj"><path d="M17,11H13V15.5C13,16.44 13.28,17 14.5,17H17V21C17,21 15.54,21.05 14.17,21.05C10.8,21.05 9.5,19 9.5,16.75V11H7V7C10.07,6.74 10.27,4.5 10.5,3H13V7H17"></path></svg>\n\t\tTumblr',G(a,"class","button_full_width svelte-15cbknj"),G(o,"class","button_full_width svelte-15cbknj"),G(d,"class","button_full_width svelte-15cbknj"),G(f,"class","button_full_width svelte-15cbknj"),G(g,"class","button_full_width svelte-15cbknj"),G(e,"class","sharebar svelte-15cbknj"),et(e,"visible",t[0])},m(c,h){F(c,e,h),L(e,i),L(e,n),L(e,r),L(e,a),L(e,s),L(e,o),L(e,l),L(e,d),L(e,u),L(e,f),L(e,p),L(e,g),m||(b=[U(a,"click",t[1]),U(o,"click",t[2]),U(d,"click",t[3]),U(f,"click",t[4]),U(g,"click",t[5])],m=!0)},p(t,i){1&c(i,1)[0]&&et(e,"visible",t[0])},i:h,o:h,d(t){t&&H(e),m=!1,v(b)}}}function wf(t,e,i){var n=e.visible,r=void 0!==n&&n;return t.$$set=t=>{"visible"in t&&i(0,r=t.visible)},[r,()=>{window.open("mailto:please@set.address?subject=File%20on%20pixeldrain&body="+encodeURIComponent(window.location.href))},()=>{window.open("https://www.reddit.com/submit?url="+encodeURIComponent(window.location.href))},()=>{window.open("https://twitter.com/share?url="+encodeURIComponent(window.location.href))},()=>{window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(window.location.href))},()=>{window.open("http://www.tumblr.com/share/link?url="+encodeURIComponent(window.location.href))},()=>{i(0,r=!0)},()=>{i(0,r=!1)}]}class $f extends qt{constructor(t){super(),Bt(this,t,wf,yf,b,{visible:0,show:6,hide:7},_f)}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}}function kf(t,e){var i=e.from,n=e.to,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=getComputedStyle(t),s="none"===a.transform?"":a.transform,o=c(a.transformOrigin.split(" ").map(parseFloat),2),l=o[0],d=o[1],h=i.left+i.width*l/n.width-(n.left+l),u=i.top+i.height*d/n.height-(n.top+d),f=r.delay,p=void 0===f?0:f,g=r.duration,v=void 0===g?t=>120*Math.sqrt(t):g,b=r.easing,x=void 0===b?Gt:b;return{delay:p,duration:m(v)?v(Math.sqrt(h*h+u*u)):v,easing:x,css:(t,e)=>{var r=e*h,a=e*u,o=t+e*i.width/n.width,l=t+e*i.height/n.height;return"transform: ".concat(s," translate(").concat(r,"px, ").concat(a,"px) scale(").concat(o,", ").concat(l,");")}}}var Mf=A.window;function Cf(t){j(t,"svelte-1cha9u3","#directory_element.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{flex:1 1 auto;display:flex;flex-direction:column;overflow:auto;text-align:left}.directory_sorters.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{flex:0 0 auto;display:flex;flex-direction:row;overflow:hidden;background:var(--body_background);min-width:850px;border-top-left-radius:8px;border-top-right-radius:8px;border-bottom:1px solid var(--separator)}.sorter_button.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{display:inline-block;margin:4px 10px;text-align:initial;background:none;box-shadow:none}.sorter_button.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3:hover{background:var(--input_hover_background)}.directory_sorters.svelte-1cha9u3>.svelte-1cha9u3.svelte-1cha9u3:first-child,.node.svelte-1cha9u3>.svelte-1cha9u3.svelte-1cha9u3:first-child{flex-shrink:1;flex-grow:1}.directory_sorters.svelte-1cha9u3>.svelte-1cha9u3.svelte-1cha9u3:not(:first-child),.node.svelte-1cha9u3>.svelte-1cha9u3.svelte-1cha9u3:not(:first-child){flex-shrink:0;flex-grow:0}#directory_area.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{flex:1 1 auto;margin:0;padding:0;overflow-x:auto;background:var(--body_background);border-bottom-left-radius:8px;border-bottom-right-radius:8px}#node_container.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{display:block;min-width:850px}#footer.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{flex-shrink:0;color:var(--background_text_color);padding:4px}.node.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{display:flex;flex-direction:row;position:static;height:40px;overflow:hidden;margin:0;color:var(--body_text_color);text-decoration:none;transition:background 0.2s}.node.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3:hover:not(.node_selected){background:var(--input_hover_background);color:var(--input_text);text-decoration:none}.node_selected.svelte-1cha9u3.svelte-1cha9u3.svelte-1cha9u3{background:var(--highlight_background);color:var(--highlight_text_color)}.node.svelte-1cha9u3>div.svelte-1cha9u3.svelte-1cha9u3{height:100%;overflow:hidden;margin:auto 10px;padding:4px;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.node.svelte-1cha9u3>div.svelte-1cha9u3>span.svelte-1cha9u3{margin:auto;display:block;text-overflow:ellipsis;white-space:nowrap}.node.svelte-1cha9u3>div.svelte-1cha9u3>img.svelte-1cha9u3{max-height:100%;margin-right:6px;width:auto;min-width:auto;float:left;display:block}")}function Sf(t,e,i){var n=t.slice();return n[28]=e[i],n[30]=i,n}function Tf(t,e,i){var n=t.slice();return n[31]=e[i],n}function Pf(t){var e,i,n,r,a,s=t[31].name+"";return{c(){e=V("button"),i=B(s),n=q(),tt(e,"min-width",t[31].width),G(e,"class","sorter_button svelte-1cha9u3")},m(s,o){F(s,e,o),L(e,i),L(e,n),r||(a=U(e,"click",function(){m(t[5](t[31].field))&&t[5](t[31].field).apply(this,arguments)}),r=!0)},p(n,r){t=n,16&r[0]&&s!==(s=t[31].name+"")&&Z(i,s),16&r[0]&&tt(e,"min-width",t[31].width)},d(t){t&&H(e),r=!1,a()}}}function Df(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v,m,b,_,y,w,$,k,M,C=t[28].name+"",S=ke(new Date(t[28].dateCreated),!0,!0,!1)+"",T=t[28].sizeLabel+"",P=t[28].type+"";function D(){return t[17](t[30])}return{c(){e=V("a"),i=V("div"),n=V("img"),a=q(),s=V("span"),o=B(C),l=q(),c=V("div"),d=V("span"),h=B(S),u=q(),f=V("div"),p=V("span"),g=B(T),v=q(),m=V("div"),b=V("span"),_=B(P),y=q(),x(n.src,r=t[28].icon)||G(n,"src",r),G(n,"alt","thumbnail"),G(n,"class","svelte-1cha9u3"),G(s,"class","svelte-1cha9u3"),G(i,"class","svelte-1cha9u3"),G(d,"class","svelte-1cha9u3"),tt(c,"width",t[4][1].width),G(c,"class","svelte-1cha9u3"),G(p,"class","svelte-1cha9u3"),tt(f,"width",t[4][2].width),G(f,"class","svelte-1cha9u3"),G(b,"class","svelte-1cha9u3"),tt(m,"width",t[4][3].width),G(m,"class","svelte-1cha9u3"),G(e,"class","node svelte-1cha9u3"),G(e,"href",w=t[28].href),G(e,"target","_blank"),G(e,"rel","noreferrer"),G(e,"title",$=t[28].name),et(e,"node_selected",t[28].selected)},m(t,r){F(t,e,r),L(e,i),L(i,n),L(i,a),L(i,s),L(s,o),L(e,l),L(e,c),L(c,d),L(d,h),L(e,u),L(e,f),L(f,p),L(p,g),L(e,v),L(e,m),L(m,b),L(b,_),L(e,y),k||(M=U(e,"click",X(D)),k=!0)},p(i,a){t=i,8&a[0]&&!x(n.src,r=t[28].icon)&&G(n,"src",r),8&a[0]&&C!==(C=t[28].name+"")&&Z(o,C),8&a[0]&&S!==(S=ke(new Date(t[28].dateCreated),!0,!0,!1)+"")&&Z(h,S),16&a[0]&&tt(c,"width",t[4][1].width),8&a[0]&&T!==(T=t[28].sizeLabel+"")&&Z(g,T),16&a[0]&&tt(f,"width",t[4][2].width),8&a[0]&&P!==(P=t[28].type+"")&&Z(_,P),16&a[0]&&tt(m,"width",t[4][3].width),8&a[0]&&w!==(w=t[28].href)&&G(e,"href",w),8&a[0]&&$!==($=t[28].name)&&G(e,"title",$),8&a[0]&&et(e,"node_selected",t[28].selected)},d(t){t&&H(e),k=!1,M()}}}function zf(t){var e,i=t[28].visible&&!t[28].filtered&&Df(t);return{c(){i&&i.c(),e=Y()},m(t,n){i&&i.m(t,n),F(t,e,n)},p(t,n){t[28].visible&&!t[28].filtered?i?i.p(t,n):((i=Df(t)).c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&H(e),i&&i.d(t)}}}function Of(t){for(var e,i,n,r,a,s,o,l,c,d,u=It(t[4]),f=[],p=0;p<u.length;p+=1)f[p]=Pf(Tf(t,u,p));for(var g=It(t[3]),m=[],b=0;b<g.length;b+=1)m[b]=zf(Sf(t,g,b));return{c(){e=V("div"),i=V("div");for(var c=0;c<f.length;c+=1)f[c].c();n=q(),r=V("div"),a=V("div");for(var d=0;d<m.length;d+=1)m[d].c();s=q(),o=V("div"),l=B(t[2]),G(i,"class","directory_sorters svelte-1cha9u3"),G(a,"id","node_container"),G(a,"class","directory_node_container svelte-1cha9u3"),G(r,"id","directory_area"),G(r,"class","directory_area svelte-1cha9u3"),G(o,"id","footer"),G(o,"class","svelte-1cha9u3"),G(e,"id","directory_element"),G(e,"class","svelte-1cha9u3")},m(h,u){F(h,e,u),L(e,i);for(var p=0;p<f.length;p+=1)f[p]&&f[p].m(i,null);L(e,n),L(e,r),L(r,a);for(var g=0;g<m.length;g+=1)m[g]&&m[g].m(a,null);t[18](a),t[19](r),L(e,s),L(e,o),L(o,l),c||(d=[U(Mf,"keydown",t[7]),U(Mf,"keyup",t[7]),U(r,"scroll",t[6])],c=!0)},p(t,e){if(48&e[0]){var n;for(u=It(t[4]),n=0;n<u.length;n+=1){var r=Tf(t,u,n);f[n]?f[n].p(r,e):(f[n]=Pf(r),f[n].c(),f[n].m(i,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}if(280&e[0]){var s;for(g=It(t[3]),s=0;s<g.length;s+=1){var o=Sf(t,g,s);m[s]?m[s].p(o,e):(m[s]=zf(o),m[s].c(),m[s].m(a,null))}for(;s<m.length;s+=1)m[s].d(1);m.length=g.length}4&e[0]&&Z(l,t[2])},i:h,o:h,d(i){i&&H(e),N(f,i),N(m,i),t[18](null),t[19](null),c=!1,v(d)}}}function Af(t,e,i){var n,r,a="Loading...",s=[],o="",l=t=>{if(t=t.toLowerCase(),o=t,""===t){for(var e in s)i(3,s[e].filtered=!1,s);return u(""),void p()}for(var n in s)s[n].name.toLowerCase().includes(t)?i(3,s[n].filtered=!1,s):i(3,s[n].filtered=!0,s);u(""),p()},c="dateCreated",d=!1,h=[{name:"Name",field:"name",width:""},{name:"Creation date",field:"dateCreated",width:"160px"},{name:"Size",field:"size",width:"90px"},{name:"Type",field:"type",width:"200px"}],u=t=>{""===t?t=c:c!==t?(d=!0,c=t):c===t&&(d=!d);var e,n,r=0;for(var a in h)h[a].field==t&&(r=a),i(4,h[a].name=h[a].name.replace(" ","").replace(" ",""),h);i(4,h[r].name=d?" "+h[r].name:" "+h[r].name,h),i(4,h),s.sort((t,i)=>(e=t[c],n=i[c],"number"==typeof e?d?e-n:n-e:d?e.localeCompare(n,void 0,{numeric:!0}):n.localeCompare(e,void 0,{numeric:!0}))),p()},f=!1,p=()=>{var t=n.scrollTop-n.scrollTop%40,e=Math.floor(t/40)-5;e<0&&(e=0);var o=Math.ceil((t+n.clientHeight)/40)+5;o>s.length&&(o=s.length-1),i(1,r.style.paddingTop=40*e+"px",r);var l=0,c=0,d=0,h=0;for(var u in s)l>=e&&l<=o&&!s[u].filtered?i(3,s[u].visible=!0,s):i(3,s[u].visible=!1,s),s[u].filtered||(l++,c+=s[u].size,s[u].selected&&(d++,h+=s[u].size));i(1,r.style.height=40*l+"px",r),i(2,a=l+" items ("+xe(c,4)+")"),0!==d&&i(2,a+=", "+d+" selected ("+xe(h,4)+")")},g=!1,v=!1,m=e.multi_select,b=void 0===m||m,x=-1,_=t=>{if(g){if(b&&v&&-1!=x){var e=x,n=x;x<t?n=t:e=t;for(var r=e;r<=n&&!s[r].filtered;r++)r!=x&&i(3,s[r].selected=!s[r].selected,s)}else{if(!b)for(var a in s)i(3,s[a].selected=!1,s);i(3,s[t].selected=!s[t].selected,s)}x=t,p()}else window.open(s[t].href,"_blank")};return t.$$set=t=>{"multi_select"in t&&i(16,b=t.multi_select)},[n,r,a,s,h,u,t=>{f||(f=!0,setTimeout(()=>{p(),f=!1},100))},t=>{"Shift"===t.key&&(v="keydown"===t.type)},_,()=>{i(3,s=[])},(t,e,i,n,r,a,o,l)=>{s.push({id:t,icon:e,name:i,href:n,type:r,size:a,sizeLabel:o,dateCreated:l,selected:!1,filtered:!1,visible:!1})},()=>{l(o)},()=>{var t=[];for(var e in s)s[e].selected&&t.push(s[e]);return t},l,()=>{for(var t in s)if(s[t].visible&&!s[t].filtered){window.open(s[t].href,"_blank");break}},t=>{if(g=t,!t){for(var e in s)i(3,s[e].selected=!1,s);p()}},b,t=>{_(t)},function(t){gt[t?"unshift":"push"](()=>{i(1,r=t)})},function(t){gt[t?"unshift":"push"](()=>{i(0,n=t)})}]}class Lf extends qt{constructor(t){super(),Bt(this,t,Af,Of,b,{reset:9,addFile:10,renderFiles:11,getSelectedFiles:12,search:13,searchSubmit:14,setSelectionMode:15,multi_select:16},Cf,[-1,-1])}get reset(){return this.$$.ctx[9]}get addFile(){return this.$$.ctx[10]}get renderFiles(){return this.$$.ctx[11]}get getSelectedFiles(){return this.$$.ctx[12]}get search(){return this.$$.ctx[13]}get searchSubmit(){return this.$$.ctx[14]}get setSelectionMode(){return this.$$.ctx[15]}}var jf=A.window;function Ef(t){j(t,"svelte-wksniz",".dir_container.svelte-wksniz{height:100%;width:100%;display:flex;flex-direction:column;overflow:hidden}.header.svelte-wksniz{flex-grow:1;flex-shrink:1;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:1em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.title.svelte-wksniz{flex-grow:1;flex-shrink:1;text-align:center;font-size:1.2em}.search.svelte-wksniz{min-width:100px;max-width:300px;flex-grow:1;flex-shrink:1;align-self:stretch}@media(max-width: 700px){.title.svelte-wksniz{display:none}.search.svelte-wksniz{max-width:none}}.button.svelte-wksniz{flex-grow:0;flex-shrink:0}")}function If(t){var e,i,n,r={multi_select:t[0]};return i=new Lf({props:r}),t[10](i),{c(){e=V("div"),Nt(i.$$.fragment),G(e,"class","dir_container svelte-wksniz")},m(t,r){F(t,e,r),Vt(i,e,null),n=!0},p(t,e){var n={};1&e&&(n.multi_select=t[0]),i.$set(n)},i(t){n||(At(i.$$.fragment,t),n=!0)},o(t){Lt(i.$$.fragment,t),n=!1},d(n){n&&H(e),t[10](null),Wt(i)}}}function Rf(t){var e,i,n,r,a,s,o,l,c,d,h;return{c(){e=V("div"),(i=V("button")).innerHTML='<i class="icon">close</i> Cancel',n=q(),r=V("div"),a=B(t[1]),s=q(),o=V("input"),l=q(),(c=V("button")).innerHTML='<i class="icon">done</i> Add',G(i,"class","button round svelte-wksniz"),G(r,"class","title svelte-wksniz"),G(o,"class","search svelte-wksniz"),G(o,"type","text"),G(o,"placeholder","press / to search"),G(c,"class","button button_highlight round svelte-wksniz"),G(e,"class","header svelte-wksniz"),G(e,"slot","title")},m(u,f){F(u,e,f),L(e,i),L(e,n),L(e,r),L(r,a),L(e,s),L(e,o),t[9](o),L(e,l),L(e,c),d||(h=[U(i,"click",function(){m(t[2].hide)&&t[2].hide.apply(this,arguments)}),U(o,"keyup",t[5]),U(c,"click",t[6])],d=!0)},p(e,i){t=e,2&i&&Z(a,t[1])},d(i){i&&H(e),t[9](null),d=!1,v(h)}}}function Ff(t){var e,i,n,r;return e=new me({props:{width:"1400px",height:"1200px",$$slots:{title:[Rf],default:[If]},$$scope:{ctx:t}}}),t[11](e),{c(){Nt(e.$$.fragment)},m(a,s){Vt(e,a,s),i=!0,n||(r=U(jf,"keydown",t[7]),n=!0)},p(t,i){var n=c(i,1)[0],r={};16415&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[11](null),Wt(e,i),n=!1,r()}}}function Hf(t,e,n){var r,a,s,l=ut(),c=e.multi_select,d=void 0===c||c,h=e.title,u=void 0===h?"":h,f=function(){var t=i(o().m(function t(){return o().w(function(t){for(;;)switch(t.n){case 0:return r.show(),t.n=1,yt();case 1:a.setSelectionMode(!0),p();case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),p=()=>{fetch(window.api_endpoint+"/user/files").then(t=>(t.ok||Promise.reject("yo"),t.json())).then(t=>{for(var e in a.reset(),t.files)a.addFile(t.files[e].id,window.api_endpoint+"/file/"+t.files[e].id+"/thumbnail?width=32&height=32",t.files[e].name,"/u/"+t.files[e].id,t.files[e].mime_type,t.files[e].size,xe(t.files[e].size,4),t.files[e].date_upload);a.renderFiles()}).catch(t=>{throw t})};return t.$$set=t=>{"multi_select"in t&&n(0,d=t.multi_select),"title"in t&&n(1,u=t.title)},[d,u,r,a,s,t=>{27===t.keyCode&&(t.preventDefault(),n(4,s.value="",s),s.blur()),requestAnimationFrame(()=>{a.search(s.value)})},()=>{var t=a.getSelectedFiles();t.length>0&&l("files",t),r.hide()},t=>{r.is_visible()&&(t.ctrlKey||t.altKey||t.metaKey||document.activeElement.type&&"text"===document.activeElement.type||"/"===t.key&&(t.preventDefault(),s.focus()))},f,function(t){gt[t?"unshift":"push"](()=>{n(4,s=t)})},function(t){gt[t?"unshift":"push"](()=>{n(3,a=t)})},function(t){gt[t?"unshift":"push"](()=>{n(2,r=t)})}]}class Nf extends qt{constructor(t){super(),Bt(this,t,Hf,Ff,b,{multi_select:0,title:1,open:8},Ef)}get open(){return this.$$.ctx[8]}}function Vf(t){j(t,"svelte-zfpa77",".gallery.svelte-zfpa77.svelte-zfpa77{width:100%;max-height:100%;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center}.file.svelte-zfpa77.svelte-zfpa77{width:200px;max-width:42%;height:200px;margin:8px;overflow:hidden;border-radius:8px;background:var(--input_background);word-break:break-all;text-align:center;line-height:1.2em;display:inline-block;text-overflow:ellipsis;text-decoration:none;vertical-align:top;color:var(--body_text_color);transition:background 0.2s, padding 0.2s, box-shadow 0.2s;box-shadow:1px 1px 0px 0px var(--shadow_color)}.file.svelte-zfpa77.svelte-zfpa77:hover{background:var(--input_hover_background)}.highlight.svelte-zfpa77.svelte-zfpa77{box-shadow:0 0 0px 2px var(--highlight_color);text-decoration:none}.icon_container.svelte-zfpa77.svelte-zfpa77{display:flex;flex-direction:column;margin:3px;height:148px;border-radius:6px;background-position:center;background-size:contain;background-repeat:no-repeat;font-size:22px;text-align:left}.icon_container.editing.svelte-zfpa77.svelte-zfpa77{box-shadow:inset 0 60px 40px -20px var(--body_color)}.icon_container.wide.svelte-zfpa77.svelte-zfpa77{background-size:cover}.button_row.svelte-zfpa77.svelte-zfpa77{display:flex;flex-direction:row}.button_row.svelte-zfpa77>.icon.svelte-zfpa77{flex:0 0 auto;color:var(--body_text_color)}.button_row.svelte-zfpa77>button.svelte-zfpa77{flex:0 0 auto;padding:0}.button_row.svelte-zfpa77>.separator.svelte-zfpa77{flex:1 1 auto}.add_button.svelte-zfpa77.svelte-zfpa77{width:200px;max-width:42%;height:200px;margin:8px;border-radius:8px;background:var(--body_color);text-align:center;line-height:1.2em;display:inline-block;vertical-align:top;color:var(--body_text_color);display:flex;flex-direction:column}.add_button.svelte-zfpa77>.svelte-zfpa77{flex:1 1 auto;font-size:1.5em;cursor:pointer;flex-direction:column;justify-content:center}.grow.svelte-zfpa77.svelte-zfpa77{flex:1 1 auto}")}function Wf(t,e,i){var n=t.slice();n[26]=e[i],n[29]=i;var r=fc(n[26].id);return n[27]=r,n}function Bf(t){var e,i,n,r,a,s;return{c(){e=V("div"),(i=V("button")).innerHTML='<i class="icon">cloud_upload</i>\n\t\t\t\tUpload files',n=q(),(r=V("button")).innerHTML='<i class="icon">add</i>\n\t\t\t\tAdd files',G(i,"class","add_button_part svelte-zfpa77"),G(r,"class","add_button_part svelte-zfpa77"),G(e,"class","add_button svelte-zfpa77"),G(e,"role","listitem"),et(e,"highlight",!t[3]&&-2===t[2])},m(o,l){F(o,e,l),L(e,i),L(e,n),L(e,r),a||(s=[U(i,"click",t[13]),U(r,"click",function(){m(t[1].open)&&t[1].open.apply(this,arguments)}),U(e,"drop",X(t[14])),U(e,"dragover",K(X(t[12]))),U(e,"dragenter",t[15]),U(e,"dragend",t[16])],a=!0)},p(i,n){t=i,12&n&&et(e,"highlight",!t[3]&&-2===t[2])},d(t){t&&H(e),a=!1,v(s)}}}function qf(t){var e,i,n,r,a,s,o,l,c,d,h,u;function f(){return t[17](t[29])}function p(){return t[18](t[29])}function g(){return t[19](t[29])}return{c(){e=V("div"),(i=V("i")).textContent="drag_indicator",n=q(),r=V("div"),a=q(),(s=V("button")).textContent="chevron_left",o=q(),(l=V("button")).textContent="chevron_right",c=q(),(d=V("button")).textContent="delete",G(i,"class","icon svelte-zfpa77"),tt(i,"cursor","grab"),G(r,"class","separator svelte-zfpa77"),G(s,"class","icon svelte-zfpa77"),G(l,"class","icon svelte-zfpa77"),G(d,"class","icon svelte-zfpa77"),G(e,"class","button_row svelte-zfpa77")},m(t,v){F(t,e,v),L(e,i),L(e,n),L(e,r),L(e,a),L(e,s),L(e,o),L(e,l),L(e,c),L(e,d),h||(u=[U(s,"click",K(X(f))),U(l,"click",K(X(p))),U(d,"click",K(X(g)))],h=!0)},p(e,i){t=e},d(t){t&&H(e),h=!1,v(u)}}}function Yf(t){var e,i,n,r;return n=new wc({props:{no_margin:!0,used:t[27].pos,total:t[27].dur}}),{c(){e=V("div"),i=q(),Nt(n.$$.fragment),G(e,"class","grow svelte-zfpa77")},m(t,a){F(t,e,a),F(t,i,a),Vt(n,t,a),r=!0},p(t,e){var i={};1&e&&(i.used=t[27].pos),1&e&&(i.total=t[27].dur),n.$set(i)},i(t){r||(At(n.$$.fragment,t),r=!0)},o(t){Lt(n.$$.fragment,t),r=!1},d(t){t&&(H(e),H(i)),Wt(n,t)}}}function Uf(t,e){var i,n,r,a,s,o,l,c,d,u,p,g,m=e[26].name+"",b=h,x=e[0].can_edit&&qf(e),_=null!==e[27]&&Yf(e);function y(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e[20](e[29],...i)}function w(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e[21](e[29],...i)}function $(){return e[22](e[29])}return{key:t,first:null,c(){i=V("a"),n=V("div"),x&&x.c(),r=q(),_&&_.c(),a=q(),s=B(m),o=q(),G(n,"class","icon_container svelte-zfpa77"),tt(n,"background-image","url('"+e[26].icon_href+"?width=256&height=256')"),et(n,"editing",e[0].can_edit),et(n,"wide","image"===Kt(e[26])||"video"===Kt(e[26])),G(i,"href",l="#item="+e[29]),G(i,"class","file svelte-zfpa77"),G(i,"draggable",c=e[0].can_edit),et(i,"highlight",e[3]&&e[2]===e[29]),this.first=i},m(t,l){F(t,i,l),L(i,n),x&&x.m(n,null),L(n,r),_&&_.m(n,null),L(i,a),L(i,s),L(i,o),u=!0,p||(g=[U(i,"dragstart",y),U(i,"drop",X(w)),U(i,"dragover",K(X(e[11]))),U(i,"dragenter",$),U(i,"dragend",e[23])],p=!0)},p(t,a){(e=t)[0].can_edit?x?x.p(e,a):((x=qf(e)).c(),x.m(n,r)):x&&(x.d(1),x=null),null!==e[27]?_?(_.p(e,a),1&a&&At(_,1)):((_=Yf(e)).c(),At(_,1),_.m(n,null)):_&&(zt(),Lt(_,1,1,()=>{_=null}),Ot()),(!u||1&a)&&tt(n,"background-image","url('"+e[26].icon_href+"?width=256&height=256')"),(!u||1&a)&&et(n,"editing",e[0].can_edit),(!u||1&a)&&et(n,"wide","image"===Kt(e[26])||"video"===Kt(e[26])),(!u||1&a)&&m!==(m=e[26].name+"")&&Z(s,m),(!u||1&a&&l!==(l="#item="+e[29]))&&G(i,"href",l),(!u||1&a&&c!==(c=e[0].can_edit))&&G(i,"draggable",c),(!u||13&a)&&et(i,"highlight",e[3]&&e[2]===e[29])},r(){d=i.getBoundingClientRect()},f(){lt(i),b()},a(){b(),b=function(t,e,i,n){if(!e)return h;var r=t.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return h;var a,s=i(t,{from:e,to:r},n),o=s.delay,l=void 0===o?0:o,c=s.duration,d=void 0===c?300:c,u=s.easing,p=void 0===u?f:u,g=s.start,v=void 0===g?T()+l:g,m=s.end,b=void 0===m?v+d:m,x=s.tick,_=void 0===x?h:x,y=s.css,w=!0,$=!1;function k(){y&&ot(t,a),w=!1}return O(t=>{if(!$&&t>=v&&($=!0),$&&t>=b&&(_(1,0),k()),!w)return!1;if($){var e=0+1*p((t-v)/d);_(e,1-e)}return!0}),y&&(a=st(t,0,1,d,l,p,y)),l||($=!0),_(0,1),k}(i,d,kf,{duration:400})},i(t){u||(At(_),u=!0)},o(t){Lt(_),u=!1},d(t){t&&H(i),x&&x.d(),_&&_.d(),p=!1,v(g)}}}function Xf(t){for(var e,i,n,r,a,s=[],o=new Map,l=t[0].can_edit&&Bf(t),d=It(t[0].files),h=t=>t[26],u=0;u<d.length;u+=1){var f=Wf(t,d,u),p=h(f);o.set(p,s[u]=Uf(p,f))}return r=new Nf({props:{multi_select:!0,title:"Select files to add to album"}}),t[24](r),r.$on("files",t[25]),{c(){e=V("div"),l&&l.c(),i=q();for(var t=0;t<s.length;t+=1)s[t].c();n=q(),Nt(r.$$.fragment),G(e,"class","gallery svelte-zfpa77")},m(t,o){F(t,e,o),l&&l.m(e,null),L(e,i);for(var c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);F(t,n,o),Vt(r,t,o),a=!0},p(t,n){var a=c(n,1)[0];if(t[0].can_edit?l?l.p(t,a):((l=Bf(t)).c(),l.m(e,i)):l&&(l.d(1),l=null),1997&a){d=It(t[0].files),zt();for(var u=0;u<s.length;u+=1)s[u].r();s=Ht(s,a,h,0,t,d,o,e,Ft,Uf,null,Wf);for(var f=0;f<s.length;f+=1)s[f].a();Ot()}r.$set({})},i(t){if(!a){for(var e=0;e<d.length;e+=1)At(s[e]);At(r.$$.fragment,t),a=!0}},o(t){for(var e=0;e<s.length;e+=1)Lt(s[e]);Lt(r.$$.fragment,t),a=!1},d(i){i&&(H(e),H(n)),l&&l.d();for(var a=0;a<s.length;a+=1)s[a].d();t[24](null),Wt(r,i)}}}function Kf(t,e,n){var r,a=ut(),s=e.list,l=void 0===s?{files:[],can_edit:!1}:s,c=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:i=l.files,e.forEach(t=>{i.push(t)}),a("update_list",i);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:(i=l.files).splice(e,1),n(0,l.files=i,l),a("update_list",i);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=i(o().m(function t(e){var i,r;return o().w(function(t){for(;;)switch(t.n){case 0:if(0!==e){t.n=1;break}return t.a(2);case 1:i=l.files,r=[i[e-1],i[e]],i[e]=r[0],i[e-1]=r[1],n(0,l.files=i,l),a("update_list",i);case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=i(o().m(function t(e){var i,r;return o().w(function(t){for(;;)switch(t.n){case 0:if(!(e>=l.files.length-1)){t.n=1;break}return t.a(2);case 1:i=l.files,r=[i[e+1],i[e]],i[e]=r[0],i[e+1]=r[1],n(0,l.files=i,l),a("update_list",i);case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),f=-1,p=!1,g=(t,e)=>{n(3,p=!0),t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move",t.dataTransfer.setData("text/plain",e)},v=(t,e)=>{if(n(2,f=-1),n(3,p=!1),0===t.dataTransfer.files.length){if(-2!==e){t.dataTransfer.dropEffect="move";var i=parseInt(t.dataTransfer.getData("text/plain")),r=l.files;if(i<e)r.splice(e+1,0,r[i]),r.splice(i,1);else{if(!(i>e))return;r.splice(e,0,r[i]),r.splice(i+1,1)}a("update_list",r)}}else a("upload_files",t.dataTransfer.files)};return t.$$set=t=>{"list"in t&&n(0,l=t.list)},[l,r,f,p,a,c,d,h,u,g,v,function(e){ft.call(this,t,e)},function(e){ft.call(this,t,e)},t=>a("pick_files"),t=>v(t,-2),()=>n(2,f=-2),()=>{n(2,f=-1)},t=>{h(t)},t=>{u(t)},t=>{d(t)},(t,e)=>g(e,t),(t,e)=>v(e,t),t=>n(2,f=t),()=>{n(2,f=-1),n(3,p=!1)},function(t){gt[t?"unshift":"push"](()=>{n(1,r=t)})},t=>{c(t.detail)}]}class Gf extends qt{constructor(t){super(),Bt(this,t,Kf,Xf,b,{list:0},Vf)}}var Jf=A.document;function Zf(t){j(t,"svelte-xo1k99",".captcha_container.svelte-xo1k99{text-align:center}.captcha_container.svelte-xo1k99>div{display:inline-block}")}function Qf(t){var e;return{c(){(e=V("script")).innerHTML="",x(e.src,"https://www.google.com/recaptcha/api.js?onload=captcha_script_loaded&render=explicit")||G(e,"src","https://www.google.com/recaptcha/api.js?onload=captcha_script_loaded&render=explicit")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function tp(t){var e,i,n,r,a,s;return{c(){e=V("p"),i=B(t[7]),n=q(),r=V("p"),a=B("Reponse code: "),s=B(t[6]),G(e,"class","indent"),G(r,"class","indent")},m(t,o){F(t,e,o),L(e,i),F(t,n,o),F(t,r,o),L(r,a),L(r,s)},p(t,e){128&e&&Z(i,t[7]),64&e&&Z(s,t[6])},d(t){t&&(H(e),H(n),H(r))}}}function ep(t){var e;return{c(){(e=V("p")).textContent="A lot of downloads have originated from this IP address lately.\n\t\t\tPlease prove that you are not a robot:",G(e,"class","indent")},m(t,i){F(t,e,i)},p:h,d(t){t&&H(e)}}}function ip(t){var e;return{c(){(e=V("p")).textContent="According to our scanning systems this file may contain a virus.\n\t\t\tYou can continue downloading this file at your own risk, but you\n\t\t\twill have to prove that you're a human first.",G(e,"class","indent")},m(t,i){F(t,e,i)},p:h,d(t){t&&H(e)}}}function np(t){var e;return{c(){(e=V("p")).textContent="This file is using a suspicious amount of bandwidth relative to\n\t\t\tits popularity. To continue downloading this file you will have\n\t\t\tto prove that you're a human first.",G(e,"class","indent")},m(t,i){F(t,e,i)},p:h,d(t){t&&H(e)}}}function rp(t){var e,i,n,r;function a(t,e){return"rate_limit"===t[2]?np:"malware"===t[2]?ip:"ip_rate_limit"===t[2]?ep:tp}var s=a(t),o=s(t);return{c(){o.c(),e=q(),i=V("br"),n=q(),G(r=V("div"),"class","captcha_container svelte-xo1k99")},m(a,s){o.m(a,s),F(a,e,s),F(a,i,s),F(a,n,s),F(a,r,s),t[12](r)},p(t,i){s===(s=a(t))&&o?o.p(t,i):(o.d(1),(o=s(t))&&(o.c(),o.m(e.parentNode,e)))},d(a){a&&(H(e),H(i),H(n),H(r)),o.d(a),t[12](null)}}}function ap(t){var e,i,n,r,a,s;return{c(){e=V("p"),i=B("Can't download file: "),n=B(t[6]),r=q(),a=V("p"),s=B(t[7])},m(t,o){F(t,e,o),L(e,i),L(e,n),F(t,r,o),F(t,a,o),L(a,s)},p(t,e){64&e&&Z(n,t[6]),128&e&&Z(s,t[7])},d(t){t&&(H(e),H(r),H(a))}}}function sp(t){var e,i,n,r,a,s,o=t[0]&&Qf(),l={title:t[3],width:"500px",$$slots:{default:[rp]},$$scope:{ctx:t}};return n=new me({props:l}),t[13](n),a=new me({props:{title:"Download error",width:"500px",padding:!0,$$slots:{default:[ap]},$$scope:{ctx:t}}}),t[14](a),{c(){o&&o.c(),e=Y(),i=q(),Nt(n.$$.fragment),r=q(),Nt(a.$$.fragment)},m(t,l){o&&o.m(Jf.head,null),L(Jf.head,e),F(t,i,l),Vt(n,t,l),F(t,r,l),Vt(a,t,l),s=!0},p(t,i){var r=c(i,1)[0];t[0]?o||((o=Qf()).c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null);var s={};8&r&&(s.title=t[3]),65748&r&&(s.$$scope={dirty:r,ctx:t}),n.$set(s);var l={};65728&r&&(l.$$scope={dirty:r,ctx:t}),a.$set(l)},i(t){s||(At(n.$$.fragment,t),At(a.$$.fragment,t),s=!0)},o(t){Lt(n.$$.fragment,t),Lt(a.$$.fragment,t),s=!1},d(s){s&&(H(i),H(r)),o&&o.d(s),H(e),t[13](null),Wt(n,s),t[14](null),Wt(a,s)}}}function op(t,e,n){var r,a,s=e.file,l=void 0===s?{id:"",name:"",availability:"",download_href:""}:s,c=e.list,d=void 0===c?{id:"",title:"",download_href:""}:c,h=!1,u="",f="",p=null,g="",v="",m=(t,e)=>{var i=document.createElement("a");i.href=t,i.download=e,i.dispatchEvent(new MouseEvent("click"))};return t.$$set=t=>{"file"in t&&n(8,l=t.file),"list"in t&&n(9,d=t.list)},[h,r,u,f,a,p,g,v,l,d,()=>{if(!window.viewer_data.captcha_key)return console.debug("Server doesn't support captcha, starting download",l.download_href),void m(l.download_href,l.name);if(""===l.availability)return console.debug("File is available, starting download",l.download_href),void m(l.download_href,l.name);if(!l.availability.endsWith("_captcha_required"))return n(6,g=l.availability),n(7,v=l.availability_message),p.show(),void console.debug("File is unavailable, showing error message");console.debug("File is not readily available, showing captcha dialog");var t=t=>{console.debug("Captcha validation successful, starting download",l.download_href),m(l.download_href+"&recaptcha_response="+t,l.name),r.hide()};window.captcha_script_loaded=i(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return r.show(),e.n=1,yt();case 1:grecaptcha.render(a,{sitekey:window.viewer_data.captcha_key,theme:"dark",callback:t});case 2:return e.a(2)}},e)})),"file_rate_limited_captcha_required"===l.availability?(n(2,u="rate_limit"),n(3,f="Rate limiting enabled!")):"virus_detected_captcha_required"===l.availability?(n(2,u="malware"),n(3,f="Malware warning!")):"ip_download_limited_captcha_required"===l.availability||"ip_transfer_limited_captcha_required"===l.availability?(n(2,u="ip_rate_limit"),n(3,f="IP address rate limited")):(n(3,f="CAPTCHA required"),n(6,g=l.availability),n(7,v=l.availability_message)),h?(console.debug("Captcha script is already loaded. Show the modal"),captcha_script_loaded()):(console.debug("Captcha script has not been loaded yet. Embedding now"),n(0,h=!0))},()=>{""!==d.id&&m(d.download_href,d.title+".zip")},function(t){gt[t?"unshift":"push"](()=>{n(4,a=t)})},function(t){gt[t?"unshift":"push"](()=>{n(1,r=t)})},function(t){gt[t?"unshift":"push"](()=>{n(5,p=t)})}]}class lp extends qt{constructor(t){super(),Bt(this,t,op,sp,b,{file:8,list:9,download_file:10,download_list:11},Zf)}get download_file(){return this.$$.ctx[10]}get download_list(){return this.$$.ctx[11]}}function cp(t){j(t,"svelte-1bp6kn9",".border_top.svelte-1bp6kn9{border-top:solid 2px var(--separator)}.image.svelte-1bp6kn9{display:block;margin:auto;max-height:90px;max-width:100%}@media(max-height: 600px){.image.svelte-1bp6kn9{max-height:60px}}")}function dp(t){var e;function i(t,e){return t[1]?up:hp}var n=i(t),r=n(t);return{c(){e=V("div"),r.c(),G(e,"class","svelte-1bp6kn9"),et(e,"border_top",t[2])},m(t,i){F(t,e,i),r.m(e,null)},p(t,a){n===(n=i(t))&&r?r.p(t,a):(r.d(1),(r=n(t))&&(r.c(),r.m(e,null))),4&a&&et(e,"border_top",t[2])},d(t){t&&H(e),r.d()}}}function hp(t){var e,i;return{c(){G(e=V("img"),"class","image svelte-1bp6kn9"),x(e.src,i=t[0])||G(e,"src",i),G(e,"alt","User-provided banner")},m(t,i){F(t,e,i)},p(t,n){1&n&&!x(e.src,i=t[0])&&G(e,"src",i)},d(t){t&&H(e)}}}function up(t){var e,i,n;return{c(){e=V("a"),G(i=V("img"),"class","image svelte-1bp6kn9"),x(i.src,n=t[0])||G(i,"src",n),G(i,"alt","User-provided banner"),G(e,"href",t[1]),G(e,"target","_blank"),G(e,"rel","noreferrer")},m(t,n){F(t,e,n),L(e,i)},p(t,r){1&r&&!x(i.src,n=t[0])&&G(i,"src",n),2&r&&G(e,"href",t[1])},d(t){t&&H(e)}}}function fp(t){var e,i=t[0]&&dp(t);return{c(){i&&i.c(),e=Y()},m(t,n){i&&i.m(t,n),F(t,e,n)},p(t,n){var r=c(n,1)[0];t[0]?i?i.p(t,r):((i=dp(t)).c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:h,o:h,d(t){t&&H(e),i&&i.d(t)}}}function pp(t,e,i){var n=e.src,r=void 0===n?"":n,a=e.link,s=void 0===a?"":a,o=e.border_top,l=void 0!==o&&o;return t.$$set=t=>{"src"in t&&i(0,r=t.src),"link"in t&&i(1,s=t.link),"border_top"in t&&i(2,l=t.border_top)},[r,s,l]}class gp extends qt{constructor(t){super(),Bt(this,t,pp,fp,b,{src:0,link:1,border_top:2},cp)}}function vp(t){j(t,"svelte-1xodoj",".container.svelte-1xodoj{position:fixed;top:10px;right:10px;height:120px;width:120px}")}function mp(t){var e,i,n;return i=new cc({}),{c(){e=V("div"),Nt(i.$$.fragment),G(e,"class","container svelte-1xodoj")},m(t,r){F(t,e,r),Vt(i,e,null),n=!0},i(t){n||(At(i.$$.fragment,t),n=!0)},o(t){Lt(i.$$.fragment,t),n=!1},d(t){t&&H(e),Wt(i)}}}function bp(t){var e,i,n=t[0]&&mp();return{c(){n&&n.c(),e=Y()},m(t,r){n&&n.m(t,r),F(t,e,r),i=!0},p(t,i){var r=c(i,1)[0];t[0]?n?1&r&&At(n,1):((n=mp()).c(),At(n,1),n.m(e.parentNode,e)):n&&(zt(),Lt(n,1,1,()=>{n=null}),Ot())},i(t){i||(At(n),i=!0)},o(t){Lt(n),i=!1},d(t){t&&H(e),n&&n.d(t)}}}function xp(t,e,i){var n=e.loading,r=void 0!==n&&n;return t.$$set=t=>{"loading"in t&&i(0,r=t.loading)},[r]}class _p extends qt{constructor(t){super(),Bt(this,t,xp,bp,b,{loading:0},vp)}}function yp(t){j(t,"svelte-wn2jie",".progress_bar_outer.svelte-wn2jie{position:relative;display:block;width:100%;height:18px;font-size:15px;line-height:18px;overflow:hidden}.progress_bar_inner.svelte-wn2jie{position:absolute;display:block;background:var(--highlight_background);height:100%;width:0;transition:width 5s linear;text-align:right;overflow:hidden;white-space:nowrap;color:var(--highlight_text_color);padding-right:4px;padding-left:4px;z-index:2}.progress_bar_text.svelte-wn2jie{position:absolute;display:block;top:0;left:4px;z-index:1}")}function wp(t){var e,i,n,r,a;return{c(){e=V("div"),i=B(t[2]),n=q(),r=V("div"),a=B(t[2]),G(e,"class","progress_bar_text svelte-wn2jie"),G(r,"class","progress_bar_inner svelte-wn2jie"),tt(r,"width",t[1]+"%")},m(t,s){F(t,e,s),L(e,i),F(t,n,s),F(t,r,s),L(r,a)},p(t,e){4&e&&Z(i,t[2]),4&e&&Z(a,t[2]),2&e&&tt(r,"width",t[1]+"%")},d(t){t&&(H(e),H(n),H(r))}}}function $p(t){var e,i=t[0].limits_init&&wp(t);return{c(){e=V("div"),i&&i.c(),G(e,"class","progress_bar_outer svelte-wn2jie"),G(e,"title",t[2])},m(t,n){F(t,e,n),i&&i.m(e,null)},p(t,n){var r=c(n,1)[0];t[0].limits_init?i?i.p(t,r):((i=wp(t)).c(),i.m(e,null)):i&&(i.d(1),i=null),4&r&&G(e,"title",t[2])},i:h,o:h,d(t){t&&H(e),i&&i.d()}}}function kp(t,e,i){var n;_(t,Sc,t=>i(0,n=t));var r=0,a="";return t.$$.update=()=>{1&t.$$.dirty&&!0===n.limits_init&&(0===n.limits.transfer_limit?i(1,r=0):n.limits.transfer_limit_used/n.limits.transfer_limit>1?i(1,r=100):i(1,r=n.limits.transfer_limit_used/n.limits.transfer_limit*100),i(2,a="Download limit used: "+xe(n.limits.transfer_limit_used,3)+" of "+xe(n.limits.transfer_limit,3)))},[n,r,a]}class Mp extends qt{constructor(t){super(),Bt(this,t,kp,$p,b,{},yp)}}function Cp(t){j(t,"svelte-15dc38",".label.svelte-15dc38{text-align:left;padding-left:10px;font-size:0.8em;line-height:0.7em;margin-top:0.5em}.stat.svelte-15dc38{text-align:center}")}function Sp(t){var e,i,n,r,a,s,o,l,d,u,f,p,g,v,m,b,x,_,y,w,$=t[0].files.length+"",k=be(t[2])+"",M=be(t[1])+"",C=xe(t[3],3)+"";return{c(){e=V("div"),(i=V("div")).textContent="Files",n=q(),r=V("div"),a=B($),s=q(),(o=V("div")).textContent="Views",l=q(),d=V("div"),u=B(k),f=q(),(p=V("div")).textContent="Downloads",g=q(),v=V("div"),m=B(M),b=q(),(x=V("div")).textContent="Size",_=q(),y=V("div"),w=B(C),G(i,"class","label svelte-15dc38"),G(r,"class","stat svelte-15dc38"),G(o,"class","label svelte-15dc38"),G(d,"class","stat svelte-15dc38"),G(p,"class","label svelte-15dc38"),G(v,"class","stat svelte-15dc38"),G(x,"class","label svelte-15dc38"),G(y,"class","stat svelte-15dc38")},m(t,c){F(t,e,c),L(e,i),L(e,n),L(e,r),L(r,a),L(e,s),L(e,o),L(e,l),L(e,d),L(d,u),L(e,f),L(e,p),L(e,g),L(e,v),L(v,m),L(e,b),L(e,x),L(e,_),L(e,y),L(y,w)},p(t,e){var i=c(e,1)[0];1&i&&$!==($=t[0].files.length+"")&&Z(a,$),4&i&&k!==(k=be(t[2])+"")&&Z(u,k),2&i&&M!==(M=be(t[1])+"")&&Z(m,M),8&i&&C!==(C=xe(t[3],3)+"")&&Z(w,C)},i:h,o:h,d(t){t&&H(e)}}}function Tp(t,e,i){var n,r,a,s=e.list,o=void 0===s?{files:[]}:s;return t.$$set=t=>{"list"in t&&i(0,o=t.list)},t.$$.update=()=>{1&t.$$.dirty&&i(3,n=o.files.reduce((t,e)=>t+e.size,0)),1&t.$$.dirty&&i(2,r=o.files.reduce((t,e)=>t+e.views,0)),1&t.$$.dirty&&i(1,a=o.files.reduce((t,e)=>(0===e.size?t+=e.downloads:t+=Math.round((e.bandwidth_used+e.bandwidth_used_paid)/e.size),t),0))},[o,a,r,n]}class Pp extends qt{constructor(t){super(),Bt(this,t,Tp,Sp,b,{list:0},Cp)}}function Dp(t){j(t,"svelte-1ynjlv4",".drag_target.svelte-1ynjlv4{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:50px;font-size:2em;background-color:rgba(0, 0, 0, 0.5);border-radius:100px;box-shadow:0 0 10px 10px rgba(0, 0, 0, 0.5)}")}function zp(t){var e,i,n;return{c(){(e=V("div")).textContent="Drop files here to upload them",G(e,"class","drag_target svelte-1ynjlv4")},m(t,i){F(t,e,i),n=!0},i(t){n||(t&&wt(()=>{n&&(i||(i=Et(e,Jt,{duration:200},!0)),i.run(1))}),n=!0)},o(t){t&&(i||(i=Et(e,Jt,{duration:200},!1)),i.run(0)),n=!1},d(t){t&&H(e),t&&i&&i.end()}}}function Op(t){var e,i,n,r=t[0]&&zp();return{c(){r&&r.c(),e=Y()},m(a,s){r&&r.m(a,s),F(a,e,s),i||(n=[U(window,"dragover",K(X(t[3]))),U(window,"dragenter",K(X(t[4]))),U(window,"dragleave",K(X(t[5]))),U(window,"drop",t[1]),U(window,"paste",t[2])],i=!0)},p(t,i){var n=c(i,1)[0];t[0]?r?1&n&&At(r,1):((r=zp()).c(),At(r,1),r.m(e.parentNode,e)):r&&(zt(),Lt(r,1,1,()=>{r=null}),Ot())},i(t){At(r)},o(t){Lt(r)},d(t){t&&H(e),r&&r.d(t),i=!1,v(n)}}}function Ap(t,e,i){var n=ut(),r=!1;return[r,t=>{i(0,r=!1),t.dataTransfer&&t.dataTransfer.items.length>0&&(t.preventDefault(),t.stopPropagation(),n("upload",t.dataTransfer.files))},t=>{0!==t.clipboardData.files.length&&(t.preventDefault(),t.stopPropagation(),n("upload",t.clipboardData.files))},()=>{i(0,r=!0)},()=>{i(0,r=!0)},()=>{i(0,r=!1)}]}class Lp extends qt{constructor(t){super(),Bt(this,t,Ap,Op,b,{},Dp)}}function jp(t){j(t,"svelte-1204y2u",".upload_progress.svelte-1204y2u{display:block;padding:2px 4px 1px 4px;margin:4px;border-radius:4px}.error.svelte-1204y2u{background:var(--danger_color);color:var(--highlight_text_color)}")}function Ep(t){var e,i,n,r,a;return{c(){e=B(t[4]),i=V("br"),n=q(),r=B(t[3]),a=V("br")},m(t,s){F(t,e,s),F(t,i,s),F(t,n,s),F(t,r,s),F(t,a,s)},p(t,i){16&i&&Z(e,t[4]),8&i&&Z(r,t[3])},d(t){t&&(H(e),H(i),H(n),H(r),H(a))}}}function Ip(t){var e,i,n,r,a,s,o,l,d=t[0].name+"",h=""!==t[3]&&Ep(t);return s=new wc({props:{total:t[1],used:t[2]}}),{c(){e=V("div"),i=B(d),n=V("br"),r=q(),h&&h.c(),a=q(),Nt(s.$$.fragment),G(e,"class","upload_progress svelte-1204y2u"),et(e,"error","error"===t[0].status)},m(t,o){F(t,e,o),L(e,i),L(e,n),L(e,r),h&&h.m(e,null),L(e,a),Vt(s,e,null),l=!0},p(t,n){var r=c(n,1)[0];(!l||1&r)&&d!==(d=t[0].name+"")&&Z(i,d),""!==t[3]?h?h.p(t,r):((h=Ep(t)).c(),h.m(e,a)):h&&(h.d(1),h=null);var o={};2&r&&(o.total=t[1]),4&r&&(o.used=t[2]),s.$set(o),(!l||1&r)&&et(e,"error","error"===t[0].status)},i(t){l||(At(s.$$.fragment,t),t&&wt(()=>{l&&(o||(o=Et(e,Jt,{duration:200},!0)),o.run(1))}),l=!0)},o(t){Lt(s.$$.fragment,t),t&&(o||(o=Et(e,Jt,{duration:200},!1)),o.run(0)),l=!1},d(t){t&&H(e),h&&h.d(),Wt(s),t&&o&&o.end()}}}function Rp(t,e,n){var r=ut(),a=e.job,s=void 0===a?{file:null,name:"",id:"",status:""}:a,l=e.total,c=void 0===l?0:l,d=e.loaded,h=void 0===d?0:d,u="",f="";return t.$$set=t=>{"job"in t&&n(0,s=t.job),"total"in t&&n(1,c=t.total),"loaded"in t&&n(2,h=t.loaded)},[s,c,h,u,f,()=>{((t,e,i,n,r)=>{if(0===window.user.subscription.file_size_limit&&(window.user.subscription.file_size_limit=2e10),t.size>window.user.subscription.file_size_limit)on_failure("file_too_large","This file is too large. Check out the Pro subscription to increase the file size limit");else{var a=new XMLHttpRequest;a.open("PUT",window.api_endpoint+"/file/"+encodeURIComponent(e),!0),a.timeout=864e5,a.upload.addEventListener("progress",t=>{i&&t.lengthComputable&&i(t.loaded,t.total)}),a.onreadystatechange=()=>{if(4===a.readyState)if(a.status>=100&&a.status<400)n(JSON.parse(a.response).id);else if(a.status>=400){var t;console.log("Upload error. status: "+a.status+" response: "+a.response),t=429===a.status?{value:"too_many_requests",message:"Too many requests. Please wait a few seconds"}:JSON.parse(a.response),r(t.value,t.message)}else 0===a.status?r("request_failed","Your request did not arrive, check your network connection"):r(a.responseText,a.responseText)},a.send(t)}})(s.file,s.name,(t,e)=>{n(2,h=t),n(1,c=e)},function(){var t=i(o().m(function t(e){return o().w(function(t){for(;;)switch(t.n){case 0:console.log("finsished",e),n(0,s.status="finished",s),n(0,s.id=e,s),r("finished");case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),(t,e)=>{console.log("error",t,e),n(3,u=t),n(4,f=e),n(0,s.status="error",s),r("finished")}),n(0,s.status="uploading",s)}]}class Fp extends qt{constructor(t){super(),Bt(this,t,Rp,Ip,b,{job:0,total:1,loaded:2,start:5},jp)}get start(){return this.$$.ctx[5]}}function Hp(t){j(t,"svelte-1nv7phm",".upload_input.svelte-1nv7phm{visibility:hidden;position:fixed;width:0;height:0}.upload_widget.svelte-1nv7phm{position:fixed;display:flex;flex-direction:column;width:500px;max-width:80%;height:auto;max-height:50%;right:20px;bottom:20px;border-radius:20px 20px 8px 8px;overflow:hidden;box-shadow:1px 1px 8px var(--shadow_color)}.header.svelte-1nv7phm{flex:0 0 auto;background:var(--background_color);color:var(--background_text_color);text-align:center;font-size:1.2em;padding:4px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.body.svelte-1nv7phm{flex:1 1 auto;background:var(--body_color);color:var(--body_text_color);overflow-y:auto;text-align:left}")}function Np(t,e,i){var n=t.slice();return n[17]=e[i],n[18]=e,n[19]=i,n}function Vp(t){var e,i,n,r,a,s;function o(t,e){return"idle"===t[5]?qp:"uploading"===t[5]?Bp:"finished"===t[5]?Wp:void 0}for(var l=o(t),c=l&&l(t),d=It(t[4]),h=[],u=0;u<d.length;u+=1)h[u]=Up(Np(t,d,u));var f=t=>Lt(h[t],1,1,()=>{h[t]=null});return{c(){e=V("div"),i=V("div"),c&&c.c(),n=q(),r=V("div");for(var t=0;t<h.length;t+=1)h[t].c();G(i,"class","header svelte-1nv7phm"),G(r,"class","body svelte-1nv7phm"),G(e,"class","upload_widget svelte-1nv7phm")},m(t,a){F(t,e,a),L(e,i),c&&c.m(i,null),L(e,n),L(e,r);for(var o=0;o<h.length;o+=1)h[o]&&h[o].m(r,null);s=!0},p(t,e){if(l!==(l=o(t))&&(c&&c.d(1),(c=l&&l(t))&&(c.c(),c.m(i,null))),144&e){var n;for(d=It(t[4]),n=0;n<d.length;n+=1){var a=Np(t,d,n);h[n]?(h[n].p(a,e),At(h[n],1)):(h[n]=Up(a),h[n].c(),At(h[n],1),h[n].m(r,null))}for(zt(),n=d.length;n<h.length;n+=1)f(n);Ot()}},i(t){if(!s){for(var i=0;i<d.length;i+=1)At(h[i]);t&&wt(()=>{s&&(a||(a=Et(e,Jt,{duration:200},!0)),a.run(1))}),s=!0}},o(t){h=h.filter(Boolean);for(var i=0;i<h.length;i+=1)Lt(h[i]);t&&(a||(a=Et(e,Jt,{duration:200},!1)),a.run(0)),s=!1},d(t){t&&H(e),c&&c.d(),N(h,t),t&&a&&a.end()}}}function Wp(t){var e;return{c(){e=B("Done")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Bp(t){var e;return{c(){e=B("Uploading files...")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function qp(t){var e;return{c(){e=B("Waiting for files")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Yp(t){var e,i,n=t[18],r=t[19],a=()=>t[11](e,n,r),s=()=>t[11](null,n,r),o={job:t[17]};return e=new Fp({props:o}),a(),e.$on("finished",t[7]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){n===t[18]&&r===t[19]||(s(),n=t[18],r=t[19],a());var o={};16&i&&(o.job=t[17]),e.$set(o)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){s(),Wt(e,t)}}}function Up(t){var e,i,n="finished"!==t[17].status&&Yp(t);return{c(){n&&n.c(),e=Y()},m(t,r){n&&n.m(t,r),F(t,e,r),i=!0},p(t,i){"finished"!==t[17].status?n?(n.p(t,i),16&i&&At(n,1)):((n=Yp(t)).c(),At(n,1),n.m(e.parentNode,e)):n&&(zt(),Lt(n,1,1,()=>{n=null}),Ot())},i(t){i||(At(n),i=!0)},o(t){Lt(n),i=!1},d(t){t&&H(e),n&&n.d(t)}}}function Xp(t){var e,i;return(e=new Lp({})).$on("upload",t[12]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p:h,i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Kp(t){var e,i,n,r,a,s,o,l=t[3]&&Vp(t),d=t[0]&&Xp(t);return{c(){e=V("input"),i=q(),l&&l.c(),n=q(),d&&d.c(),r=Y(),G(e,"class","upload_input svelte-1nv7phm"),G(e,"type","file"),G(e,"name","file"),e.multiple="multiple"},m(c,h){F(c,e,h),t[10](e),F(c,i,h),l&&l.m(c,h),F(c,n,h),d&&d.m(c,h),F(c,r,h),a=!0,s||(o=[U(window,"beforeunload",t[8]),U(e,"change",t[6])],s=!0)},p(t,e){var i=c(e,1)[0];t[3]?l?(l.p(t,i),8&i&&At(l,1)):((l=Vp(t)).c(),At(l,1),l.m(n.parentNode,n)):l&&(zt(),Lt(l,1,1,()=>{l=null}),Ot()),t[0]?d?(d.p(t,i),1&i&&At(d,1)):((d=Xp(t)).c(),At(d,1),d.m(r.parentNode,r)):d&&(zt(),Lt(d,1,1,()=>{d=null}),Ot())},i(t){a||(At(l),At(d),a=!0)},o(t){Lt(l),Lt(d),a=!1},d(a){a&&(H(e),H(i),H(n),H(r)),t[10](null),l&&l.d(a),d&&d.d(a),s=!1,v(o)}}}function Gp(t,e,n){var r,a=ut(),s=e.drop_upload,l=void 0!==s&&s,c=!1,d=[],h=0,u=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:if(0!==e.length){t.n=1;break}return t.a(2);case 1:i=0;case 2:if(!(i<e.length)){t.n=5;break}if(""!==e[i].type||0!==e[i].size){t.n=3;break}return t.a(3,4);case 3:d.push({task_id:h,file:e[i],name:e[i].name,component:null,id:"",status:"queued",total_size:e[i].size,loaded_size:0}),h++;case 4:i++,t.n=2;break;case 5:return n(4,d),n(3,c=!0),t.n=6,yt();case 6:g();case 7:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),f=0,p="idle",g=()=>{for(var t=0;t<d.length&&f<3;t++)d[t]&&"queued"===d[t].status&&(f++,d[t].component.start(),n(4,d[t].status="uploading",d));if(0===f){n(5,p="finished");var e=[];d.forEach(t=>{"finished"===t.status&&""!==t.id&&e.push(t.id)}),a("uploads_finished",e),n(4,d=[]),n(3,c=!1)}else n(5,p="uploading")};return t.$$set=t=>{"drop_upload"in t&&n(0,l=t.drop_upload)},[l,u,r,c,d,p,t=>{u(t.target.files),n(2,r.nodeValue="",r)},t=>{f--,n(4,d),g()},t=>"uploading"===p?(t.preventDefault(),t.returnValue="If you close this page your files will stop uploading. Do you want to continue?",t.returnValue):null,()=>{r.click()},function(t){gt[t?"unshift":"push"](()=>{n(2,r=t)})},function(t,e,i){gt[t?"unshift":"push"](()=>{e[i].component=t,n(4,d)})},t=>u(t.detail)]}class Jp extends qt{constructor(t){super(),Bt(this,t,Gp,Kp,b,{pick_files:9,drop_upload:0,upload_files:1},Hp)}get pick_files(){return this.$$.ctx[9]}get upload_files(){return this.$$.ctx[1]}}var Zp=A.window;function Qp(t){var e,i,n,r;return e=new Jp({props:{}}),t[7](e),e.$on("uploads_finished",t[8]),{c(){Nt(e.$$.fragment)},m(a,s){Vt(e,a,s),i=!0,n||(r=U(Zp,"paste",t[2]),n=!0)},p(t,i){c(i,1)[0];e.$set({})},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[7](null),Wt(e,i),n=!1,r()}}}function tg(t,e,n){var r,a=ut(),s=e.list,l=void 0===s?{title:"",files:[],info_href:""}:s,c=function(){var t=i(o().m(function t(e){var i,n,r,s,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(a("loading",!0),0!==l.files.length){t.n=8;break}return t.p=1,t.n=2,fetch(l.info_href,{method:"DELETE"});case 2:if(!((i=t.v).status>=400)){t.n=4;break}return t.n=3,i.json();case 3:throw t.v.message;case 4:window.close(),t.n=6;break;case 5:t.p=5,s=t.v,alert("Failed to delete album: "+s);case 6:return t.p=6,a("loading",!1),t.f(6);case 7:return t.a(2);case 8:return n={title:l.title,files:[]},e.forEach(t=>{n.files.push({id:t.id})}),t.p=9,t.n=10,fetch(l.info_href,{method:"PUT",body:JSON.stringify(n)});case 10:if(!((r=t.v).status>=400)){t.n=12;break}return t.n=11,r.json();case 11:throw t.v.message;case 12:t.n=14;break;case 13:t.p=13,c=t.v,alert("Failed to update album: "+c);case 14:return t.p=14,a("loading",!1),a("reload"),t.f(14);case 15:return t.a(2)}},t,null,[[9,13,14,15],[1,5,6,7]])}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:return i=l.files,e.forEach(t=>{i.push({id:t})}),t.n=1,c(i);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();return t.$$set=t=>{"list"in t&&n(3,l=t.list)},[r,d,t=>{0!==t.clipboardData.files.length&&(t.preventDefault(),t.stopPropagation(),r.upload_files(t.clipboardData.files))},l,c,()=>r.pick_files(),t=>r.upload_files(t),function(t){gt[t?"unshift":"push"](()=>{n(0,r=t)})},t=>d(t.detail)]}class eg extends qt{constructor(t){super(),Bt(this,t,tg,Qp,b,{list:3,update:4,pick_files:5,upload_files:6})}get update(){return this.$$.ctx[4]}get pick_files(){return this.$$.ctx[5]}get upload_files(){return this.$$.ctx[6]}}function ig(t){j(t,"svelte-1x1207","svg.svelte-1x1207{fill:currentColor;animation:svelte-1x1207-rotation 20s infinite linear}@keyframes svelte-1x1207-rotation{from{transform:rotate(0deg)}to{transform:rotate(359deg)}}")}function ng(t){var e,i;return{c(){e=W("svg"),G(i=W("path"),"d","m142 2.23c-77 0-139 62.5-139 140 0 77 62.5 139 139 139 77 0 139-62.5 139-139 1e-3 -77-62.5-140-139-140zm0 258c-65.7 0-119-53.2-119-119s53.2-119 119-119c65.7 0 119 53.2 119 119 0 65.7-53.2 119-119 119zm0-219c-55.1 0-99.8 44.7-99.8 99.8 0 55.1 44.7 99.8 99.8 99.8s99.8-44.7 99.8-99.8c0-55.1-44.7-99.8-99.8-99.8zm49.3 36c8.69 0 15.7 7.04 15.7 15.7 0 8.69-7.04 15.7-15.7 15.7s-15.7-7.04-15.7-15.7c0-8.69 7.04-15.7 15.7-15.7zm-49.3-20c8.69 0 15.7 7.04 15.7 15.7 0 8.69-7.04 15.7-15.7 15.7s-15.7-7.04-15.7-15.7c0-8.69 7.04-15.7 15.7-15.7zm-48.7 20c8.69 0 15.7 7.04 15.7 15.7 0 8.69-7.04 15.7-15.7 15.7s-15.7-7.04-15.7-15.7c-1e-3 -8.69 7.04-15.7 15.7-15.7zm-35 63.8c0-8.69 7.04-15.7 15.7-15.7s15.7 7.04 15.7 15.7c0 8.69-7.04 15.7-15.7 15.7-8.69 0-15.7-7.04-15.7-15.7zm35 65.6c-8.69 0-15.7-7.04-15.7-15.7s7.04-15.7 15.7-15.7 15.7 7.04 15.7 15.7-7.04 15.7-15.7 15.7zm48.7 20.7c-8.69 0-15.7-7.04-15.7-15.7 0-8.69 7.04-15.7 15.7-15.7 8.69 0 15.7 7.04 15.7 15.7 1e-3 8.68-7.04 15.7-15.7 15.7zm2e-3 -47c-21.2 0-38.5-17.2-38.5-38.5 0-21.2 17.2-38.5 38.5-38.5 21.2 0 38.5 17.2 38.5 38.5 0 21.2-17.2 38.5-38.5 38.5zm49.3 26.3c-8.69 0-15.7-7.04-15.7-15.7s7.04-15.7 15.7-15.7 15.7 7.04 15.7 15.7-7.04 15.7-15.7 15.7zm18.6-49.9c-8.69 0-15.7-7.04-15.7-15.7 0-8.69 7.04-15.7 15.7-15.7s15.7 7.04 15.7 15.7c0 8.69-7.04 15.7-15.7 15.7z"),G(e,"style",t[0]),G(e,"enable-background","new 0 0 283.46 283.46"),G(e,"version","1.1"),G(e,"viewBox","0 0 288 288"),G(e,"xmlns","http://www.w3.org/2000/svg"),G(e,"class","svelte-1x1207")},m(t,n){F(t,e,n),L(e,i)},p(t,i){1&c(i,1)[0]&&G(e,"style",t[0])},i:h,o:h,d(t){t&&H(e)}}}function rg(t,e,i){var n=e.style;return t.$$set=t=>{"style"in t&&i(0,n=t.style)},[n]}class ag extends qt{constructor(t){super(),Bt(this,t,rg,ng,b,{style:0},ig)}}function sg(t){j(t,"svelte-5rfe5m",".red.svelte-5rfe5m{color:var(--danger_color)}.green.svelte-5rfe5m{color:var(--highlight_color)}")}function og(t){var e,i,n,r,a,s=(t[1]/1e6).toLocaleString(void 0,{minimumFractionDigits:t[2],maximumFractionDigits:t[2]})+"";return{c(){e=V("span"),i=B(t[0]),n=q(),r=V("span"),a=B(s),G(r,"class","svelte-5rfe5m"),et(r,"red",t[1]<0),et(r,"green",t[1]>0)},m(t,s){F(t,e,s),L(e,i),L(e,n),L(e,r),L(r,a)},p(t,e){var n=c(e,1)[0];1&n&&Z(i,t[0]),6&n&&s!==(s=(t[1]/1e6).toLocaleString(void 0,{minimumFractionDigits:t[2],maximumFractionDigits:t[2]})+"")&&Z(a,s),2&n&&et(r,"red",t[1]<0),2&n&&et(r,"green",t[1]>0)},i:h,o:h,d(t){t&&H(e)}}}function lg(t,e,i){var n=e.symbol,r=void 0===n?"":n,a=e.amount,s=void 0===a?0:a,o=e.precision,l=void 0===o?2:o;return t.$$set=t=>{"symbol"in t&&i(0,r=t.symbol),"amount"in t&&i(1,s=t.amount),"precision"in t&&i(2,l=t.precision)},[r,s,l]}class cg extends qt{constructor(t){super(),Bt(this,t,lg,og,b,{symbol:0,amount:1,precision:2},sg)}}var dg=()=>void 0!==window.api_endpoint?window.api_endpoint:(console.warn("api_endpoint property is not defined on window"),"/api"),hg=function(){var t=i(o().m(function t(e){var i,n;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.text();case 1:if(i=t.v,!(e.status>=400)){t.n=2;break}try{n=JSON.parse(i)}catch(t){n=i}throw n;case 2:return t.a(2,JSON.parse(i))}},t)}));return function(e){return t.apply(this,arguments)}}(),ug=t=>{for(var e=new FormData,i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];void 0!==t[r]&&(t[r]instanceof Date?e.append(r,new Date(t[r]).toISOString()):"object"==typeof t[r]?e.append(r,JSON.stringify(t[r])):e.append(r,t[r]))}return e},fg=function(){var t=i(o().m(function t(){var e;return o().w(function(t){for(;;)switch(t.n){case 0:if(void 0===window.user){t.n=1;break}return t.a(2,window.user);case 1:return console.warn("user property is not defined on window"),e=hg,t.n=2,fetch(dg()+"/user");case 2:return t.n=3,e(t.v);case 3:return t.a(2,t.v)}},t)}));return function(){return t.apply(this,arguments)}}(),pg=function(){var t=i(o().m(function t(e){var i,n,r,a;return o().w(function(t){for(;;)switch(t.n){case 0:return a=hg,t.n=1,fetch(dg()+"/user",{method:"PUT",body:ug(e)});case 1:for(a(t.v),i=0,n=Object.keys(e);i<n.length;i++)r=n[i],window.user[r]=e[r];case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),gg=kc({subscription:{}},t=>{fg().then(e=>{t(e)}).catch(t=>{alert("Could not fetch user:\n"+JSON.stringify(t))})});function vg(t){j(t,"svelte-ugxk4z","dialog.svelte-ugxk4z{background-color:var(--card_color);color:var(--body_text_color);border-radius:8px;border:none;padding:4px;margin:0;box-shadow:2px 2px 10px -4px #000000}")}function mg(t){var e,i,n,r,a=t[4].default,s=y(a,t,t[3],null);return{c(){e=V("dialog"),s&&s.c(),G(e,"class","svelte-ugxk4z")},m(a,o){F(a,e,o),s&&s.m(e,null),t[5](e),i=!0,n||(r=U(e,"click",t[1]),n=!0)},p(t,e){var n=c(e,1)[0];s&&s.p&&(!i||8&n)&&k(s,a,t,t[3],i?$(a,t[3],n,null):M(t[3]),null)},i(t){i||(At(s,t),i=!0)},o(t){Lt(s,t),i=!1},d(i){i&&H(e),s&&s.d(i),t[5](null),n=!1,r()}}}function bg(t,e,i){var n,r=e.$$slots,a=void 0===r?{}:r,s=e.$$scope;return t.$$set=t=>{"$$scope"in t&&i(3,s=t.$$scope)},[n,t=>{t.target===n&&n.close()},t=>{n.showModal();var e=n.getBoundingClientRect(),r=window.innerWidth-e.width-2,a=window.innerHeight-e.height-2,s=Math.max(t.left+t.width/2-e.width/2,2),o=Math.max(t.bottom,2);i(0,n.style.left=Math.round(Math.min(s,r))+"px",n),i(0,n.style.top=Math.round(Math.min(o,a))+"px",n)},s,a,function(t){gt[t?"unshift":"push"](()=>{i(0,n=t)})}]}class xg extends qt{constructor(t){super(),Bt(this,t,bg,mg,b,{open:2},vg)}get open(){return this.$$.ctx[2]}}function _g(t){j(t,"svelte-kgdr85",".wrapper.svelte-kgdr85{flex-grow:0;flex-shrink:0;display:inline-flex;align-self:center}.button.svelte-kgdr85{flex:0 0 content}.button_username.svelte-kgdr85{margin:0 4px}.menu.svelte-kgdr85{display:flex;flex-direction:column;max-width:15em}.separator.svelte-kgdr85{height:1px;margin:2px 0;width:100%;background-color:var(--separator)}.stats_table.svelte-kgdr85{display:grid;grid-template-columns:auto auto;gap:0.2em 1em;margin:3px}@media(max-width: 800px){.hide_name.svelte-kgdr85{display:none}}")}function yg(t){var e,i;return e=new ag({props:{style:"height: 1.6em; width: 1.6em;"}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function wg(t){var e,i,n,r,a,s,o,l;return e=new oe({props:{link_href:"/",link_target:t[6],icon:"home",label:"Home"}}),n=new oe({props:{link_href:"/#pro",link_target:t[6],icon:"star",label:"Get Premium"}}),a=new oe({props:{link_href:"/login",link_target:t[6],icon:"person",label:"Log in"}}),o=new oe({props:{link_href:"/register",link_target:t[6],icon:"person",label:"Register"}}),{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment),r=q(),Nt(a.$$.fragment),s=q(),Nt(o.$$.fragment)},m(t,c){Vt(e,t,c),F(t,i,c),Vt(n,t,c),F(t,r,c),Vt(a,t,c),F(t,s,c),Vt(o,t,c),l=!0},p(t,i){var r={};64&i&&(r.link_target=t[6]),e.$set(r);var s={};64&i&&(s.link_target=t[6]),n.$set(s);var l={};64&i&&(l.link_target=t[6]),a.$set(l);var c={};64&i&&(c.link_target=t[6]),o.$set(c)},i(t){l||(At(e.$$.fragment,t),At(n.$$.fragment,t),At(a.$$.fragment,t),At(o.$$.fragment,t),l=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),Lt(a.$$.fragment,t),Lt(o.$$.fragment,t),l=!1},d(t){t&&(H(i),H(r),H(s)),Wt(e,t),Wt(n,t),Wt(a,t),Wt(o,t)}}}function $g(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,v,m,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O,A,j,E,I,R,N,W,U,X,K,J,Q,tt=t[7].subscription.name+"",et=xe(t[7].filesystem_storage_used,3)+"",it=xe(t[7].monthly_transfer_used,3)+"";e=new oe({props:{link_href:"/user",link_target:t[6],icon:"dashboard",label:"Dashboard"}});var nt="prepaid"===t[7].subscription.type&&kg(t),rt=[Cg,Mg],at=[];function st(t,e){return t[7].subscription.filesystem_access?0:1}k=st(t),M=at[k]=rt[k](t),S=new oe({props:{link_href:"/filesystem",link_target:t[6],icon:"description",label:"Filesystem Guide"}}),z=new oe({props:{link_href:"/user/filemanager#files",link_target:t[6],icon:"image",label:"My Files"}}),A=new oe({props:{link_href:"/user/filemanager#lists",link_target:t[6],icon:"photo_library",label:"My Albums"}}),R=new oe({props:{link_href:"/user/settings",link_target:t[6],icon:"settings",label:"Account Settings"}}),W=new oe({props:{link_href:"/user/subscription",link_target:t[6],icon:"shopping_cart",label:"Subscription"}}),X=new oe({props:{link_href:"/user/prepaid/transactions",link_target:t[6],icon:"receipt",label:"Transactions"}});var ot=t[7].is_admin&&Sg(t);return{c(){Nt(e.$$.fragment),i=q(),n=V("div"),r=q(),a=V("div"),(s=V("div")).textContent="Subscription",o=q(),l=V("div"),c=B(tt),d=q(),nt&&nt.c(),h=q(),(u=V("div")).textContent="Storage used",f=q(),p=V("div"),g=B(et),v=q(),(m=V("div")).textContent="Transfer used",b=q(),x=V("div"),_=B(it),y=q(),w=V("div"),$=q(),M.c(),C=q(),Nt(S.$$.fragment),T=q(),P=V("div"),D=q(),Nt(z.$$.fragment),O=q(),Nt(A.$$.fragment),j=q(),E=V("div"),I=q(),Nt(R.$$.fragment),N=q(),Nt(W.$$.fragment),U=q(),Nt(X.$$.fragment),K=q(),ot&&ot.c(),J=Y(),G(n,"class","separator svelte-kgdr85"),G(a,"class","stats_table svelte-kgdr85"),G(w,"class","separator svelte-kgdr85"),G(P,"class","separator svelte-kgdr85"),G(E,"class","separator svelte-kgdr85")},m(t,M){Vt(e,t,M),F(t,i,M),F(t,n,M),F(t,r,M),F(t,a,M),L(a,s),L(a,o),L(a,l),L(l,c),L(a,d),nt&&nt.m(a,null),L(a,h),L(a,u),L(a,f),L(a,p),L(p,g),L(a,v),L(a,m),L(a,b),L(a,x),L(x,_),F(t,y,M),F(t,w,M),F(t,$,M),at[k].m(t,M),F(t,C,M),Vt(S,t,M),F(t,T,M),F(t,P,M),F(t,D,M),Vt(z,t,M),F(t,O,M),Vt(A,t,M),F(t,j,M),F(t,E,M),F(t,I,M),Vt(R,t,M),F(t,N,M),Vt(W,t,M),F(t,U,M),Vt(X,t,M),F(t,K,M),ot&&ot.m(t,M),F(t,J,M),Q=!0},p(t,i){var n={};64&i&&(n.link_target=t[6]),e.$set(n),(!Q||128&i)&&tt!==(tt=t[7].subscription.name+"")&&Z(c,tt),"prepaid"===t[7].subscription.type?nt?(nt.p(t,i),128&i&&At(nt,1)):((nt=kg(t)).c(),At(nt,1),nt.m(a,h)):nt&&(zt(),Lt(nt,1,1,()=>{nt=null}),Ot()),(!Q||128&i)&&et!==(et=xe(t[7].filesystem_storage_used,3)+"")&&Z(g,et),(!Q||128&i)&&it!==(it=xe(t[7].monthly_transfer_used,3)+"")&&Z(_,it);var r=k;(k=st(t))===r?at[k].p(t,i):(zt(),Lt(at[r],1,1,()=>{at[r]=null}),Ot(),(M=at[k])?M.p(t,i):(M=at[k]=rt[k](t)).c(),At(M,1),M.m(C.parentNode,C));var s={};64&i&&(s.link_target=t[6]),S.$set(s);var o={};64&i&&(o.link_target=t[6]),z.$set(o);var l={};64&i&&(l.link_target=t[6]),A.$set(l);var d={};64&i&&(d.link_target=t[6]),R.$set(d);var u={};64&i&&(u.link_target=t[6]),W.$set(u);var f={};64&i&&(f.link_target=t[6]),X.$set(f),t[7].is_admin?ot?(ot.p(t,i),128&i&&At(ot,1)):((ot=Sg(t)).c(),At(ot,1),ot.m(J.parentNode,J)):ot&&(zt(),Lt(ot,1,1,()=>{ot=null}),Ot())},i(t){Q||(At(e.$$.fragment,t),At(nt),At(M),At(S.$$.fragment,t),At(z.$$.fragment,t),At(A.$$.fragment,t),At(R.$$.fragment,t),At(W.$$.fragment,t),At(X.$$.fragment,t),At(ot),Q=!0)},o(t){Lt(e.$$.fragment,t),Lt(nt),Lt(M),Lt(S.$$.fragment,t),Lt(z.$$.fragment,t),Lt(A.$$.fragment,t),Lt(R.$$.fragment,t),Lt(W.$$.fragment,t),Lt(X.$$.fragment,t),Lt(ot),Q=!1},d(t){t&&(H(i),H(n),H(r),H(a),H(y),H(w),H($),H(C),H(T),H(P),H(D),H(O),H(j),H(E),H(I),H(N),H(U),H(K),H(J)),Wt(e,t),nt&&nt.d(),at[k].d(t),Wt(S,t),Wt(z,t),Wt(A,t),Wt(R,t),Wt(W,t),Wt(X,t),ot&&ot.d(t)}}}function kg(t){var e,i,n,r,a;return r=new cg({props:{amount:t[7].balance_micro_eur}}),{c(){(e=V("div")).textContent="Credit",i=q(),n=V("div"),Nt(r.$$.fragment)},m(t,s){F(t,e,s),F(t,i,s),F(t,n,s),Vt(r,n,null),a=!0},p(t,e){var i={};128&e&&(i.amount=t[7].balance_micro_eur),r.$set(i)},i(t){a||(At(r.$$.fragment,t),a=!0)},o(t){Lt(r.$$.fragment,t),a=!1},d(t){t&&(H(e),H(i),H(n)),Wt(r)}}}function Mg(t){var e,i;return e=new oe({props:{link_href:"/#pro",link_target:t[6],icon:"star",label:"Get Premium"}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};64&i&&(n.link_target=t[6]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Cg(t){var e,i;return e=new oe({props:{link_href:"/d/me",link_target:t[6],icon:"folder",label:"My Filesystem"}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};64&i&&(n.link_target=t[6]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Sg(t){var e,i,n,r;return n=new oe({props:{link_href:"/admin",link_target:t[6],icon:"admin_panel_settings",label:"Admin Panel"}}),{c(){e=V("div"),i=q(),Nt(n.$$.fragment),G(e,"class","separator svelte-kgdr85")},m(t,a){F(t,e,a),F(t,i,a),Vt(n,t,a),r=!0},p(t,e){var i={};64&e&&(i.link_target=t[6]),n.$set(i)},i(t){r||(At(n.$$.fragment,t),r=!0)},o(t){Lt(n.$$.fragment,t),r=!1},d(t){t&&(H(e),H(i)),Wt(n,t)}}}function Tg(t){var e,i,n,r,a=[$g,wg],s=[];function o(t,e){return void 0!==t[7].username&&""!==t[7].username?0:1}return i=o(t),n=s[i]=a[i](t),{c(){e=V("div"),n.c(),G(e,"class","menu svelte-kgdr85")},m(t,n){F(t,e,n),s[i].m(e,null),r=!0},p(t,r){var l=i;(i=o(t))===l?s[i].p(t,r):(zt(),Lt(s[l],1,1,()=>{s[l]=null}),Ot(),(n=s[i])?n.p(t,r):(n=s[i]=a[i](t)).c(),At(n,1),n.m(e,null))},i(t){r||(At(n),r=!0)},o(t){Lt(n),r=!1},d(t){t&&H(e),s[i].d()}}}function Pg(t){var e,i,n,r,a,s,o,l,d,h,u=(""===t[7].username?t[0]:t[7].username)+"",f=!t[2]&&yg();return o=new xg({props:{$$slots:{default:[Tg]},$$scope:{ctx:t}}}),t[11](o),{c(){e=V("div"),i=V("button"),f&&f.c(),n=q(),r=V("span"),a=B(u),s=q(),Nt(o.$$.fragment),G(r,"class","button_username svelte-kgdr85"),et(r,"hide_name",t[1]),G(i,"class","button round svelte-kgdr85"),G(i,"title","Menu"),G(i,"style",t[3]),G(e,"class","wrapper svelte-kgdr85")},m(c,u){F(c,e,u),L(e,i),f&&f.m(i,null),L(i,n),L(i,r),L(r,a),t[10](i),F(c,s,u),Vt(o,c,u),l=!0,d||(h=U(i,"click",t[8]),d=!0)},p(t,e){var s=c(e,1)[0];t[2]?f&&(zt(),Lt(f,1,1,()=>{f=null}),Ot()):f?4&s&&At(f,1):((f=yg()).c(),At(f,1),f.m(i,n)),(!l||129&s)&&u!==(u=(""===t[7].username?t[0]:t[7].username)+"")&&Z(a,u),(!l||2&s)&&et(r,"hide_name",t[1]),(!l||8&s)&&G(i,"style",t[3]);var d={};4288&s&&(d.$$scope={dirty:s,ctx:t}),o.$set(d)},i(t){l||(At(f),At(o.$$.fragment,t),l=!0)},o(t){Lt(f),Lt(o.$$.fragment,t),l=!1},d(i){i&&(H(e),H(s)),f&&f.d(),t[10](null),t[11](null),Wt(o,i),d=!1,h()}}}function Dg(t,e,i){var n,r,a,s;_(t,gg,t=>i(7,r=t));var o=e.no_login_label,l=void 0===o?"Pixeldrain":o,c=e.hide_name,d=void 0===c||c,h=e.hide_logo,u=void 0!==h&&h,f=e.style,p=void 0===f?"":f,g=e.embedded,v=void 0!==g&&g;return t.$$set=t=>{"no_login_label"in t&&i(0,l=t.no_login_label),"hide_name"in t&&i(1,d=t.hide_name),"hide_logo"in t&&i(2,u=t.hide_logo),"style"in t&&i(3,p=t.style),"embedded"in t&&i(9,v=t.embedded)},t.$$.update=()=>{512&t.$$.dirty&&i(6,n=v?"_blank":"_self")},[l,d,u,p,a,s,n,r,()=>s.open(a.getBoundingClientRect()),v,function(t){gt[t?"unshift":"push"](()=>{i(4,a=t)})},function(t){gt[t?"unshift":"push"](()=>{i(5,s=t)})}]}class zg extends qt{constructor(t){super(),Bt(this,t,Dg,Pg,b,{no_login_label:0,hide_name:1,hide_logo:2,style:3,embedded:9},_g)}}function Og(t){j(t,"svelte-1l5wwe8",".buttons.svelte-1l5wwe8{display:flex;flex-direction:row;justify-content:space-around;gap:10px}.button.svelte-1l5wwe8{flex:1 1 auto;margin:0;font-size:1.2em;justify-content:center}")}function Ag(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,m,b,x,_,y;function w(e){t[7](e)}var $={};return void 0!==t[1]&&($.loading=t[1]),e=new _p({props:$}),gt.push(()=>function(t,e,i){var n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=i,i(t.$$.ctx[n]))}(e,"loading",w)),{c(){Nt(e.$$.fragment),n=q(),r=V("section"),a=V("p"),s=B("Hi! "),o=B(t[2]),l=B(" wants you to sponsor their pixeldrain account. This\n\t\t\twill give them 0.01 every day in pixeldrain prepaid credit. They\n\t\t\tcan use this credit to get a discount on their file storage and\n\t\t\tsharing costs. Here is a short summary of what this entails:"),c=q(),(d=V("ul")).innerHTML='<li>Sponsoring only works while you have an active subscription\n\t\t\t\tplan. When your subscription deactivates the creator will no\n\t\t\t\tlonger receive commissions.</li> <li>Pixeldrain credit cannot be cashed out. So they are not earning\n\t\t\t\treal money with this.</li> <li>This does not cost you any extra money. The commissions paid out\n\t\t\t\tto the creator are paid for by pixeldrain itself.</li> <li>You can change who you are sponsoring at any time on your <a href="/user/settings">account settings page</a>.</li> <li>If you want to know more about the affiliate program check out\n\t\t\t\tthe <a href="/about#toc_12">Q&amp;A page</a>.</li>',h=q(),(u=V("p")).textContent="If you click 'Accept' then the requested affiliate code will be\n\t\t\tadded to your account and the creator will start earning. If you\n\t\t\tchoose 'Deny' then we will never show this pop-up again.",f=q(),p=V("div"),(g=V("button")).textContent="Deny",m=q(),(b=V("button")).textContent="Accept",G(g,"class","button button_red svelte-1l5wwe8"),G(b,"class","button button_highlight svelte-1l5wwe8"),G(p,"class","buttons svelte-1l5wwe8")},m(i,v){Vt(e,i,v),F(i,n,v),F(i,r,v),L(r,a),L(a,s),L(a,o),L(a,l),L(r,c),L(r,d),L(r,h),L(r,u),L(r,f),L(r,p),L(p,g),L(p,m),L(p,b),x=!0,_||(y=[U(g,"click",t[8]),U(b,"click",t[9])],_=!0)},p(t,n){var r,a={};!i&&2&n&&(i=!0,a.loading=t[1],r=()=>i=!1,mt.push(r)),e.$set(a),(!x||4&n)&&Z(o,t[2])},i(t){x||(At(e.$$.fragment,t),x=!0)},o(t){Lt(e.$$.fragment,t),x=!1},d(t){t&&(H(n),H(r)),Wt(e,t),_=!1,v(y)}}}function Lg(t){var e,i;return e=new me({props:{title:"Affiliate sponsoring request",width:"700px",$$slots:{default:[Ag]},$$scope:{ctx:t}}}),t[10](e),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n=c(i,1)[0],r={};4102&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[10](null),Wt(e,i)}}}function jg(t,e,n){var r,a,s,l=e.always,c=void 0!==l&&l,d=!1,h=function(){var t=i(o().m(function t(e){var i;return o().w(function(t){for(;;)switch(t.n){case 0:return n(2,s=e),t.n=1,fg();case 1:if(i=t.v,null!==s){t.n=2;break}return t.a(2);case 2:if(s!==i.affiliate_user_name){t.n=3;break}return t.a(2);case 3:if(s!==i.username){t.n=4;break}return t.a(2);case 4:if(c){t.n=7;break}if(""!==i.subscription.id){t.n=5;break}return t.a(2);case 5:if(""===i.affiliate_user_name){t.n=6;break}return t.a(2);case 6:if("1"!==localStorage.getItem("affiliate_deny")){t.n=7;break}return t.a(2);case 7:if(!0!==d){t.n=8;break}return t.a(2);case 8:d=!0,r.show();case 9:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();ht(()=>h(new URLSearchParams(document.location.search).get("ref")));var u=function(){var t=i(o().m(function t(){var e;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return n(1,a=!0),t.p=1,t.n=2,pg({affiliate_user_name:s});case 2:r.hide(),t.n=4;break;case 3:t.p=3,e=t.v,alert(e);case 4:return t.p=4,n(1,a=!1),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),f=()=>{localStorage.setItem("affiliate_deny","1"),r.hide()};return t.$$set=t=>{"always"in t&&n(5,c=t.always)},[r,a,s,u,f,c,h,function(t){n(1,a=t)},t=>f(),t=>u(),function(t){gt[t?"unshift":"push"](()=>{n(0,r=t)})}]}class Eg extends qt{constructor(t){super(),Bt(this,t,jg,Lg,b,{always:5,prompt:6},Og)}get prompt(){return this.$$.ctx[6]}}var Ig=A.window;function Rg(t){j(t,"svelte-jngqwx",".file_viewer.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{position:absolute;display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden;background:var(--body_background)}.headerbar.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{flex-grow:0;flex-shrink:0;display:flex;flex-direction:row;text-align:left;align-items:center}@media(max-height: 600px){.headerbar.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{padding:1px}}.headerbar.svelte-jngqwx>.svelte-jngqwx.svelte-jngqwx{flex-grow:0;flex-shrink:0;margin:3px}.headerbar.svelte-jngqwx>.file_viewer_headerbar_title.svelte-jngqwx.svelte-jngqwx{flex-grow:1;flex-shrink:1;display:flex;flex-direction:column;overflow:hidden;line-height:1.2em;white-space:nowrap;text-overflow:ellipsis;justify-content:center}.headerbar.svelte-jngqwx>button.svelte-jngqwx>.icon.svelte-jngqwx{font-size:1.6em}.file_preview_row.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{flex-grow:1;flex-shrink:1;position:relative;display:block}.file_preview.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{position:absolute;left:0;right:0;top:0;bottom:0;display:block;min-height:100px;min-width:100px;transition:left 0.5s;overflow:auto;text-align:center;border-radius:8px;border:2px solid var(--separator)}.file_preview.toolbar_visible.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{left:8.2em}.file_preview.custom_background.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{background-size:cover;background-position:center}.toolbar.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{position:absolute;width:8.2em;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;left:-8.2em;bottom:0;top:0;padding:0;text-align:left;transition:left 0.5s, right 0.5s;z-index:1}.toolbar.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx::-webkit-scrollbar{display:none}.toolbar.toolbar_visible.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{left:0}.toolbar_button.svelte-jngqwx.svelte-jngqwx.svelte-jngqwx{width:calc(100% - 4px)}.toolbar_button.svelte-jngqwx>span.svelte-jngqwx.svelte-jngqwx{vertical-align:middle}.toolbar.svelte-jngqwx>.separator.svelte-jngqwx.svelte-jngqwx{height:2px;width:100%;margin:4px 0;background-color:var(--separator)}")}function Fg(t){var e,i,n=t[5].title+"";return{c(){e=B(n),i=V("br")},m(t,n){F(t,e,n),F(t,i,n)},p(t,i){32&i[0]&&n!==(n=t[5].title+"")&&Z(e,n)},d(t){t&&(H(e),H(i))}}}function Hg(t){var e,i=t[4].name+"";return{c(){e=B(i)},m(t,i){F(t,e,i)},p(t,n){16&n[0]&&i!==(i=t[4].name+"")&&Z(e,i)},d(t){t&&H(e)}}}function Ng(t){var e,i;return{c(){e=V("a"),(i=V("i")).textContent="open_in_new",G(i,"class","icon"),G(i,"id","btn_fullscreen_icon"),G(e,"href",window.location.pathname),G(e,"target","_blank"),G(e,"class","button round svelte-jngqwx"),G(e,"title","Open this page in a new tab"),G(e,"rel","noreferrer")},m(t,n){F(t,e,n),L(e,i)},p:h,d(t){t&&H(e)}}}function Vg(t){var e,i,n={files:t[5].files};return e=new zu({props:n}),t[46](e),e.$on("set_file",t[47]),e.$on("toggle_gallery",t[42]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};32&i[0]&&(n.files=t[5].files),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[46](null),Wt(e,i)}}}function Wg(t){var e,i;return e=new Pp({props:{list:t[5]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};32&i[0]&&(n.list=t[5]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function Bg(t){var e,i;return e=new ju({props:{file:t[4]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};16&i[0]&&(n.file=t[4]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function qg(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">download</i> <span class="svelte-jngqwx">Download</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Save this file to your computer"),et(e,"button_red",!1===t[4].can_download)},m(r,a){F(r,e,a),i||(n=U(e,"click",function(){m(t[15].download_file)&&t[15].download_file.apply(this,arguments)}),i=!0)},p(i,n){t=i,16&n[0]&&et(e,"button_red",!1===t[4].can_download)},d(t){t&&H(e),i=!1,n()}}}function Yg(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">download</i> <span class="svelte-jngqwx">DL all files</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Download all files in this album as a zip archive")},m(r,a){F(r,e,a),i||(n=U(e,"click",function(){m(t[15].download_list)&&t[15].download_list.apply(this,arguments)}),i=!0)},p(e,i){t=e},d(t){t&&H(e),i=!1,n()}}}function Ug(t){var e,i;return{c(){(e=V("u")).textContent="C",i=B("opy link")},m(t,n){F(t,e,n),F(t,i,n)},p:h,d(t){t&&(H(e),H(i))}}}function Xg(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">share</i> <span class="svelte-jngqwx">Share</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Share this file on social media"),et(e,"button_highlight",t[12])},m(r,a){F(r,e,a),i||(n=U(e,"click",t[37]),i=!0)},p(t,i){4096&i[0]&&et(e,"button_highlight",t[12])},d(t){t&&H(e),i=!1,n()}}}function Kg(t){var e;return{c(){(e=V("i")).textContent="fullscreen",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Gg(t){var e;return{c(){(e=V("i")).textContent="fullscreen_exit",G(e,"class","icon")},m(t,i){F(t,e,i)},d(t){t&&H(e)}}}function Jg(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">help</i> <span class="svelte-jngqwx">Deta<u>i</u>ls</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Information and statistics about this file"),et(e,"button_highlight",t[19])},m(r,a){F(r,e,a),i||(n=U(e,"click",function(){m(t[17].toggle)&&t[17].toggle.apply(this,arguments)}),i=!0)},p(i,n){t=i,524288&n[0]&&et(e,"button_highlight",t[19])},d(t){t&&H(e),i=!1,n()}}}function Zg(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">edit</i> <span class="svelte-jngqwx"><u>E</u>dit</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Edit or delete this file or album"),et(e,"button_highlight",t[23])},m(r,a){F(r,e,a),i||(n=U(e,"click",function(){m(t[22].toggle)&&t[22].toggle.apply(this,arguments)}),i=!0)},p(i,n){t=i,8388608&n[0]&&et(e,"button_highlight",t[23])},d(t){t&&H(e),i=!1,n()}}}function Qg(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">save_alt</i> <span class="svelte-jngqwx"><u>G</u>rab file</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Copy this file to your own pixeldrain account")},m(r,a){F(r,e,a),i||(n=U(e,"click",t[44]),i=!0)},p:h,d(t){t&&H(e),i=!1,n()}}}function tv(t){var e,i,n;return{c(){(e=V("button")).innerHTML='<i class="icon">code</i> <span class="svelte-jngqwx">Embed</span>',G(e,"class","toolbar_button svelte-jngqwx"),G(e,"title","Include this file in your own webpages"),et(e,"button_highlight",t[27])},m(r,a){F(r,e,a),i||(n=U(e,"click",function(){m(t[26].toggle)&&t[26].toggle.apply(this,arguments)}),i=!0)},p(i,n){t=i,134217728&n[0]&&et(e,"button_highlight",t[27])},d(t){t&&H(e),i=!1,n()}}}function ev(t){var e,i;return(e=new Gf({props:{list:t[5]}})).$on("reload",t[39]),e.$on("update_list",t[53]),e.$on("pick_files",t[54]),e.$on("upload_files",t[55]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};32&i[0]&&(n.list=t[5]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function iv(t){var e,i,n={is_list:t[6]};return e=new Mu({props:n}),t[49](e),e.$on("download",function(){m(t[15].download_file)&&t[15].download_file.apply(this,arguments)}),e.$on("prev",t[50]),e.$on("next",t[51]),e.$on("loading",t[52]),e.$on("reload",t[39]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(i,n){t=i;var r={};64&n[0]&&(r.is_list=t[6]),e.$set(r)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[49](null),Wt(e,i)}}}function nv(t){var e,i;return e=new gp({props:{src:t[32],link:t[33]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};2&i[1]&&(n.src=t[32]),4&i[1]&&(n.link=t[33]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function rv(t){var e,i,n,r;return e=new xf({}),n=new Mp({}),{c(){Nt(e.$$.fragment),i=q(),Nt(n.$$.fragment)},m(t,a){Vt(e,t,a),F(t,i,a),Vt(n,t,a),r=!0},p:h,i(t){r||(At(e.$$.fragment,t),At(n.$$.fragment,t),r=!0)},o(t){Lt(e.$$.fragment,t),Lt(n.$$.fragment,t),r=!1},d(t){t&&H(i),Wt(e,t),Wt(n,t)}}}function av(t){var e,i;return e=new sc({props:{file:t[4]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};16&i[0]&&(n.file=t[4]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function sv(t){var e,i;return{c(){x((e=V("img")).src,i=window.api_endpoint+"/misc/qr?text="+encodeURIComponent(window.location.href))||G(e,"src",i),G(e,"alt","QR code"),tt(e,"display","block"),tt(e,"width","100%")},m(t,i){F(t,e,i)},p:h,d(t){t&&H(e)}}}function ov(t){var e,i;return(e=new Wu({props:{file:t[4],list:t[5]}})).$on("reload",t[39]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};16&i[0]&&(n.file=t[4]),32&i[0]&&(n.list=t[5]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function lv(t){var e,i;return e=new ef({props:{file:t[4],list:t[5]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};16&i[0]&&(n.file=t[4]),32&i[0]&&(n.list=t[5]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function cv(t){var e,i;return e=new gf({props:{file:t[4],list:t[5]}}),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};16&i[0]&&(n.file=t[4]),32&i[0]&&(n.list=t[5]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(t){Wt(e,t)}}}function dv(t){var e,i,n={list:t[5]};return e=new eg({props:n}),t[69](e),e.$on("reload",t[39]),e.$on("loading",t[70]),{c(){Nt(e.$$.fragment)},m(t,n){Vt(e,t,n),i=!0},p(t,i){var n={};32&i[0]&&(n.list=t[5]),e.$set(n)},i(t){i||(At(e.$$.fragment,t),i=!0)},o(t){Lt(e.$$.fragment,t),i=!1},d(i){t[69](null),Wt(e,i)}}}function hv(t){var e,i,n,r,a,s,o,l,c,d,h,u,f,p,g,b,x,_,y,w,$,k,M,C,S,T,P,D,z,O,A,j,E,I,R,N,W,B,Y,X,K,J,Z,Q,it,nt,rt,at,st,ot,lt,ct,dt,ht,ut,ft,pt,gt,vt,mt,bt,xt,_t,yt,wt,$t,kt;a=new zg({props:{embedded:t[1]}});var Mt=""!==t[5].title&&Fg(t),Ct=""!==t[4].name&&Hg(t),St=t[1]&&Ng(),Tt=t[6]&&"file"===t[3]&&Vg(t);u=new gp({props:{src:t[29],link:t[30],border_top:!0}});var Pt=[Bg,Wg],Dt=[];function jt(t,e){return"file"===t[3]?0:"gallery"===t[3]?1:-1}~(b=jt(t))&&(x=Dt[b]=Pt[b](t));var Et="file"===t[3]&&!t[34]&&qg(t),It=t[6]&&t[7]&&!t[34]&&Yg(t),Rt={text:window.location.href,style:"width: calc(100% - 4px)",$$slots:{default:[Ug]},$$scope:{ctx:t}};M=new vh({props:Rt}),t[48](M);var Ft=!t[35]&&Xg(t);function Ht(t,e){return t[13]?Gg:Kg}var Bt=Ht(t),qt=Bt(t),Yt="file"===t[3]&&Jg(t),Ut=(t[4].can_edit||t[5].can_edit)&&Zg(t),Xt="file"===t[3]&&window.user_authenticated&&!t[34]&&Qg(t),Kt=!t[34]&&tv(t),Gt=[iv,ev],Jt=[];function Zt(t,e){return"file"===t[3]?0:"gallery"===t[3]?1:-1}~(K=Zt(t))&&(J=Jt[K]=Gt[K](t));Q=new $f({props:{}}),t[57](Q);var Qt=[rv,nv],te=[];function ee(t,e){return t[2]?0:t[32]?1:-1}~(nt=ee(t))&&(rt=te[nt]=Qt[nt](t)),st=new me({props:{title:"File details",width:"1000px",$$slots:{default:[av]},$$scope:{ctx:t}}}),t[58](st),st.$on("is_visible",t[59]),lt=new me({props:{title:"QR code",width:"500px",$$slots:{default:[sv]},$$scope:{ctx:t}}}),t[60](lt),lt.$on("is_visible",t[61]);var ie={title:"Editing "+t[4].name,$$slots:{default:[ov]},$$scope:{ctx:t}};dt=new me({props:ie}),t[62](dt),dt.$on("is_visible",t[63]),ut=new me({props:{title:"Embed file",width:"820px",$$slots:{default:[lv]},$$scope:{ctx:t}}}),t[64](ut),ut.$on("is_visible",t[65]),pt=new me({props:{title:"Report abuse",width:"800px",$$slots:{default:[cv]},$$scope:{ctx:t}}}),t[66](pt),pt.$on("is_visible",t[67]);var ne={file:t[4],list:t[5]};vt=new lp({props:ne}),t[68](vt);var re=t[6]&&t[5].can_edit&&dv(t);xt=new _p({props:{loading:t[0]}});return yt=new Eg({props:{}}),t[71](yt),{c(){e=V("div"),i=V("div"),(n=V("button")).innerHTML='<i class="icon svelte-jngqwx">menu</i>',r=q(),Nt(a.$$.fragment),s=q(),o=V("div"),Mt&&Mt.c(),l=q(),Ct&&Ct.c(),c=q(),St&&St.c(),d=q(),Tt&&Tt.c(),h=q(),Nt(u.$$.fragment),f=q(),p=V("div"),g=V("div"),x&&x.c(),_=q(),y=V("div"),w=q(),Et&&Et.c(),$=q(),It&&It.c(),k=q(),Nt(M.$$.fragment),C=q(),Ft&&Ft.c(),S=q(),(T=V("button")).innerHTML='<i class="icon">qr_code</i> <span class="svelte-jngqwx">QR code</span>',P=q(),D=V("button"),qt.c(),z=q(),(O=V("span")).textContent="Fullscreen",A=q(),Yt&&Yt.c(),j=q(),E=V("div"),I=q(),Ut&&Ut.c(),R=q(),Xt&&Xt.c(),N=q(),(W=V("button")).innerHTML='<i class="icon">flag</i> <span class="svelte-jngqwx">Report</span>',B=q(),Kt&&Kt.c(),Y=q(),X=V("div"),J&&J.c(),Z=q(),Nt(Q.$$.fragment),it=q(),rt&&rt.c(),at=q(),Nt(st.$$.fragment),ot=q(),Nt(lt.$$.fragment),ct=q(),Nt(dt.$$.fragment),ht=q(),Nt(ut.$$.fragment),ft=q(),Nt(pt.$$.fragment),gt=q(),Nt(vt.$$.fragment),mt=q(),re&&re.c(),bt=q(),Nt(xt.$$.fragment),_t=q(),Nt(yt.$$.fragment),G(n,"class","round svelte-jngqwx"),tt(n,"line-height","1em"),G(n,"title","Open or close the toolbar"),et(n,"button_highlight",t[14]),G(o,"class","file_viewer_headerbar_title svelte-jngqwx"),G(i,"class","headerbar svelte-jngqwx"),G(y,"class","separator svelte-jngqwx"),G(T,"class","toolbar_button svelte-jngqwx"),G(T,"title","Show a QR code with a link to this page. Useful for sharing files in-person"),et(T,"button_highlight",t[21]),G(O,"class","svelte-jngqwx"),G(D,"class","toolbar_button svelte-jngqwx"),G(D,"title","Open page in full screen mode"),et(D,"button_highlight",t[13]),G(E,"class","separator svelte-jngqwx"),G(W,"class","toolbar_button svelte-jngqwx"),G(W,"title","Report this file as abusive"),et(W,"button_highlight",t[25]),G(g,"class","toolbar svelte-jngqwx"),et(g,"toolbar_visible",t[14]),G(X,"class","file_preview svelte-jngqwx"),et(X,"checkers",!t[31]),et(X,"custom_background",!!t[31]),et(X,"toolbar_visible",t[14]),G(p,"class","file_preview_row svelte-jngqwx"),G(e,"class","file_viewer svelte-jngqwx")},m(v,x){F(v,e,x),L(e,i),L(i,n),L(i,r),Vt(a,i,null),L(i,s),L(i,o),Mt&&Mt.m(o,null),L(o,l),Ct&&Ct.m(o,null),L(i,c),St&&St.m(i,null),L(e,d),Tt&&Tt.m(e,null),L(e,h),Vt(u,e,null),L(e,f),L(e,p),L(p,g),~b&&Dt[b].m(g,null),L(g,_),L(g,y),L(g,w),Et&&Et.m(g,null),L(g,$),It&&It.m(g,null),L(g,k),Vt(M,g,null),L(g,C),Ft&&Ft.m(g,null),L(g,S),L(g,T),L(g,P),L(g,D),qt.m(D,null),L(D,z),L(D,O),L(g,A),Yt&&Yt.m(g,null),L(g,j),L(g,E),L(g,I),Ut&&Ut.m(g,null),L(g,R),Xt&&Xt.m(g,null),L(g,N),L(g,W),L(g,B),Kt&&Kt.m(g,null),L(p,Y),L(p,X),~K&&Jt[K].m(X,null),t[56](X),L(p,Z),Vt(Q,p,null),L(e,it),~nt&&te[nt].m(e,null),L(e,at),Vt(st,e,null),L(e,ot),Vt(lt,e,null),L(e,ct),Vt(dt,e,null),L(e,ht),Vt(ut,e,null),L(e,ft),Vt(pt,e,null),L(e,gt),Vt(vt,e,null),L(e,mt),re&&re.m(e,null),L(e,bt),Vt(xt,e,null),L(e,_t),Vt(yt,e,null),t[72](e),wt=!0,$t||(kt=[U(Ig,"keydown",t[45]),U(Ig,"hashchange",t[40]),U(n,"click",t[38]),U(T,"click",function(){m(t[20].toggle)&&t[20].toggle.apply(this,arguments)}),U(D,"click",t[43]),U(W,"click",function(){m(t[24].toggle)&&t[24].toggle.apply(this,arguments)})],$t=!0)},p(r,s){t=r,(!wt||16384&s[0])&&et(n,"button_highlight",t[14]);var c={};2&s[0]&&(c.embedded=t[1]),a.$set(c),""!==t[5].title?Mt?Mt.p(t,s):((Mt=Fg(t)).c(),Mt.m(o,l)):Mt&&(Mt.d(1),Mt=null),""!==t[4].name?Ct?Ct.p(t,s):((Ct=Hg(t)).c(),Ct.m(o,null)):Ct&&(Ct.d(1),Ct=null),t[1]?St?St.p(t,s):((St=Ng()).c(),St.m(i,null)):St&&(St.d(1),St=null),t[6]&&"file"===t[3]?Tt?(Tt.p(t,s),72&s[0]&&At(Tt,1)):((Tt=Vg(t)).c(),At(Tt,1),Tt.m(e,h)):Tt&&(zt(),Lt(Tt,1,1,()=>{Tt=null}),Ot());var d={};536870912&s[0]&&(d.src=t[29]),1073741824&s[0]&&(d.link=t[30]),u.$set(d);var f=b;(b=jt(t))===f?~b&&Dt[b].p(t,s):(x&&(zt(),Lt(Dt[f],1,1,()=>{Dt[f]=null}),Ot()),~b?((x=Dt[b])?x.p(t,s):(x=Dt[b]=Pt[b](t)).c(),At(x,1),x.m(g,_)):x=null),"file"!==t[3]||t[34]?Et&&(Et.d(1),Et=null):Et?Et.p(t,s):((Et=qg(t)).c(),Et.m(g,$)),t[6]&&t[7]&&!t[34]?It?It.p(t,s):((It=Yg(t)).c(),It.m(g,k)):It&&(It.d(1),It=null);var p={};8192&s[2]&&(p.$$scope={dirty:s,ctx:t}),M.$set(p),t[35]?Ft&&(Ft.d(1),Ft=null):Ft?Ft.p(t,s):((Ft=Xg(t)).c(),Ft.m(g,S)),(!wt||2097152&s[0])&&et(T,"button_highlight",t[21]),Bt!==(Bt=Ht(t))&&(qt.d(1),(qt=Bt(t))&&(qt.c(),qt.m(D,z))),(!wt||8192&s[0])&&et(D,"button_highlight",t[13]),"file"===t[3]?Yt?Yt.p(t,s):((Yt=Jg(t)).c(),Yt.m(g,j)):Yt&&(Yt.d(1),Yt=null),t[4].can_edit||t[5].can_edit?Ut?Ut.p(t,s):((Ut=Zg(t)).c(),Ut.m(g,R)):Ut&&(Ut.d(1),Ut=null),"file"===t[3]&&window.user_authenticated&&!t[34]?Xt?Xt.p(t,s):((Xt=Qg(t)).c(),Xt.m(g,N)):Xt&&(Xt.d(1),Xt=null),(!wt||33554432&s[0])&&et(W,"button_highlight",t[25]),t[34]?Kt&&(Kt.d(1),Kt=null):Kt?Kt.p(t,s):((Kt=tv(t)).c(),Kt.m(g,null)),(!wt||16384&s[0])&&et(g,"toolbar_visible",t[14]);var v=K;(K=Zt(t))===v?~K&&Jt[K].p(t,s):(J&&(zt(),Lt(Jt[v],1,1,()=>{Jt[v]=null}),Ot()),~K?((J=Jt[K])?J.p(t,s):(J=Jt[K]=Gt[K](t)).c(),At(J,1),J.m(X,null)):J=null),(!wt||1&s[1])&&et(X,"checkers",!t[31]),(!wt||1&s[1])&&et(X,"custom_background",!!t[31]),(!wt||16384&s[0])&&et(X,"toolbar_visible",t[14]);Q.$set({});var m=nt;(nt=ee(t))===m?~nt&&te[nt].p(t,s):(rt&&(zt(),Lt(te[m],1,1,()=>{te[m]=null}),Ot()),~nt?((rt=te[nt])?rt.p(t,s):(rt=te[nt]=Qt[nt](t)).c(),At(rt,1),rt.m(e,at)):rt=null);var y={};16&s[0]|8192&s[2]&&(y.$$scope={dirty:s,ctx:t}),st.$set(y);var w={};8192&s[2]&&(w.$$scope={dirty:s,ctx:t}),lt.$set(w);var C={};16&s[0]&&(C.title="Editing "+t[4].name),48&s[0]|8192&s[2]&&(C.$$scope={dirty:s,ctx:t}),dt.$set(C);var P={};48&s[0]|8192&s[2]&&(P.$$scope={dirty:s,ctx:t}),ut.$set(P);var O={};48&s[0]|8192&s[2]&&(O.$$scope={dirty:s,ctx:t}),pt.$set(O);var A={};16&s[0]&&(A.file=t[4]),32&s[0]&&(A.list=t[5]),vt.$set(A),t[6]&&t[5].can_edit?re?(re.p(t,s),96&s[0]&&At(re,1)):((re=dv(t)).c(),At(re,1),re.m(e,bt)):re&&(zt(),Lt(re,1,1,()=>{re=null}),Ot());var L={};1&s[0]&&(L.loading=t[0]),xt.$set(L);yt.$set({})},i(t){wt||(At(a.$$.fragment,t),At(Tt),At(u.$$.fragment,t),At(x),At(M.$$.fragment,t),At(J),At(Q.$$.fragment,t),At(rt),At(st.$$.fragment,t),At(lt.$$.fragment,t),At(dt.$$.fragment,t),At(ut.$$.fragment,t),At(pt.$$.fragment,t),At(vt.$$.fragment,t),At(re),At(xt.$$.fragment,t),At(yt.$$.fragment,t),wt=!0)},o(t){Lt(a.$$.fragment,t),Lt(Tt),Lt(u.$$.fragment,t),Lt(x),Lt(M.$$.fragment,t),Lt(J),Lt(Q.$$.fragment,t),Lt(rt),Lt(st.$$.fragment,t),Lt(lt.$$.fragment,t),Lt(dt.$$.fragment,t),Lt(ut.$$.fragment,t),Lt(pt.$$.fragment,t),Lt(vt.$$.fragment,t),Lt(re),Lt(xt.$$.fragment,t),Lt(yt.$$.fragment,t),wt=!1},d(i){i&&H(e),Wt(a),Mt&&Mt.d(),Ct&&Ct.d(),St&&St.d(),Tt&&Tt.d(),Wt(u),~b&&Dt[b].d(),Et&&Et.d(),It&&It.d(),t[48](null),Wt(M),Ft&&Ft.d(),qt.d(),Yt&&Yt.d(),Ut&&Ut.d(),Xt&&Xt.d(),Kt&&Kt.d(),~K&&Jt[K].d(),t[56](null),t[57](null),Wt(Q),~nt&&te[nt].d(),t[58](null),Wt(st),t[60](null),Wt(lt),t[62](null),Wt(dt),t[64](null),Wt(ut),t[66](null),Wt(pt),t[68](null),Wt(vt),re&&re.d(),Wt(xt),t[71](null),Wt(yt),t[72](null),$t=!1,v(kt)}}}function uv(t,e,n){var r,a,s,l,c,d,h,u,f,p,g,v,m=!0,b=!1,x=!1,_="",y=Yt,w=Ut,$=!1,k=!1,M=!1,C=!1,S=()=>{if(navigator.share){var t=y.name;return $&&(t=w.title),void navigator.share({title:t,text:"I would like to share '"+t+"' with you",url:window.location.href})}n(12,M=!M),M?l.show():l.hide()},T=window.innerWidth>600,P=!1,D=!1,z=!1,O=!1,A=!1;ht(()=>{var t=window.viewer_data;n(1,b=t.embedded),b&&n(14,T=!1),"list"===t.type?I(t.api_response):(n(5,w.files=[t.api_response],w),F(0)),n(2,x=w.files[0].show_ads),n(0,m=!1)});var L,j,E=function(){var t=i(o().m(function t(){var e,i,r,a,s,l,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n(0,m=!0),!$){t.n=8;break}return t.p=1,t.n=2,fetch(w.info_href);case 2:if(!((e=t.v).status>=400)){t.n=4;break}return t.n=3,e.json();case 3:throw t.v.message;case 4:return r=I,t.n=5,e.json();case 5:r(t.v),t.n=7;break;case 6:t.p=6,a=t.v,alert(a);case 7:t.n=14;break;case 8:return t.p=8,t.n=9,fetch(y.info_href);case 9:if(!((i=t.v).status>=400)){t.n=11;break}return t.n=10,i.json();case 10:throw t.v.message;case 11:return s=n,t.n=12,i.json();case 12:l=t.v,s(5,w.files=[l],w),F(0),t.n=14;break;case 13:t.p=13,c=t.v,alert(c);case 14:n(0,m=!1);case 15:return t.a(2)}},t,null,[[8,13],[1,6]])}));return function(){return t.apply(this,arguments)}}(),I=t=>{t.download_href=window.api_endpoint+"/list/"+t.id+"/zip",t.info_href=window.api_endpoint+"/list/"+t.id,n(7,k=!0),t.files.forEach(t=>{Xt(t),t.can_download||n(7,k=!1)}),n(5,w=t),n(6,$=!0),0!==t.files.length&&U(t.files[0]),R()},R=()=>{var t=location.hash.match(/item=([\d]+)/),e=parseInt(t?t[1]:null);Number.isInteger(e)?F(e):"gallery"!==_&&(n(3,_="gallery"),n(4,y=Yt),document.title=w.title+" ~ pixeldrain")},F=function(){var t=i(o().m(function t(e){return o().w(function(t){for(;;)switch(t.n){case 0:if(e>=w.files.length?e=0:e<0&&(e=w.files.length-1),w.files[e]!==y){t.n=1;break}return console.debug("ignoring request to load the same file that is currently loaded"),t.a(2);case 1:if(console.debug("received request to open file",e),Xt(w.files[e]),n(4,y=w.files[e]),"file"===_){t.n=2;break}return n(3,_="file"),t.n=2,yt();case 2:a.set_file(y),$?(window.location.hash="#item="+e,document.title=y.name+" ~ "+w.title+" ~ pixeldrain",s.set_item(e)):document.title=y.name+" ~ pixeldrain",U(y);case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),H="",N="",V="",W="",B="",q=!1,Y=!1,U=t=>{t.branding&&(t.branding.header_image&&n(29,H=window.api_endpoint+"/file/"+t.branding.header_image),t.branding.header_link&&n(30,N=t.branding.header_link),t.branding.footer_image&&n(32,W=window.api_endpoint+"/file/"+t.branding.footer_image),t.branding.footer_link&&n(33,B=t.branding.footer_link),t.branding.affiliate_prompt&&u.prompt(t.branding.affiliate_prompt),t.branding.disable_download_button&&!t.can_edit&&n(34,q=!0),t.branding.disable_share_button&&!t.can_edit&&n(35,Y=!0),t.branding.background_image?(n(31,V=window.api_endpoint+"/file/"+t.branding.background_image),n(28,L.style.backgroundImage="url('"+V+"')",L)):n(28,L.style.backgroundImage="",L))},X=function(){var t=i(o().m(function t(){var e,i,n,r,a;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(window.user_authenticated){t.n=1;break}return t.a(2);case 1:return(e=new FormData).append("grab_file",y.id),t.p=2,t.n=3,fetch(window.api_endpoint+"/file",{method:"POST",body:e});case 3:if(!((i=t.v).status>=400)){t.n=5;break}return t.n=4,i.json();case 4:throw t.v.message;case 5:return n=window,t.n=6,i.json();case 6:r=t.v.id,n.open.call(n,"/u/"+r,"_blank"),t.n=8;break;case 7:return t.p=7,a=t.v,alert("Failed to grab file: "+a),t.a(2);case 8:return t.a(2)}},t,null,[[2,7]])}));return function(){return t.apply(this,arguments)}}();return[m,b,x,_,y,w,$,k,r,a,s,l,M,C,T,c,d,h,u,P,f,D,p,z,g,O,v,A,L,H,N,V,W,B,q,Y,j,S,()=>{n(14,T=!T),!T&&M&&S()},E,R,F,()=>{window.location.hash="gallery"===_?"#item=0":""},()=>{if(C||document.fullscreenElement){try{document.exitFullscreen()}catch(t){console.debug("Failed to exit fullscreen",t)}n(13,C=!1)}else r.requestFullscreen(),n(13,C=!0)},X,t=>{if(!(t.ctrlKey||t.altKey||t.metaKey||document.activeElement.type&&("text"===document.activeElement.type||"email"===document.activeElement.type||"textarea"===document.activeElement.type)))switch(console.debug("Key pressed: "+t.key),t.key){case"a":case"ArrowLeft":s&&s.prev();break;case"d":case"ArrowRight":s&&s.next();break;case" ":a.toggle_playback()&&(t.preventDefault(),t.stopPropagation());break;case"m":a.toggle_mute();break;case"h":a.seek(-20);break;case"j":a.seek(-5);break;case"k":a.seek(5);break;case"l":a.seek(20);break;case",":a.seek(-.04);break;case".":a.seek(.04);break;case"s":case"S":t.shiftKey?c.download_list():c.download_file();break;case"r":g.toggle();break;case"c":j.copy();break;case"i":h.toggle();break;case"e":(y.can_edit||w.can_edit)&&p.toggle();break;case"g":X();break;case"q":window.close();break;case"u":d&&d.pick_files()}},function(t){gt[t?"unshift":"push"](()=>{n(10,s=t)})},t=>F(t.detail),function(t){gt[t?"unshift":"push"](()=>{n(36,j=t)})},function(t){gt[t?"unshift":"push"](()=>{n(9,a=t)})},()=>{s&&s.prev()},()=>{s&&s.next()},t=>{n(0,m=t.detail)},t=>d.update(t.detail),()=>d.pick_files(),t=>d.upload_files(t.detail),function(t){gt[t?"unshift":"push"](()=>{n(28,L=t)})},function(t){gt[t?"unshift":"push"](()=>{n(11,l=t)})},function(t){gt[t?"unshift":"push"](()=>{n(17,h=t)})},t=>{n(19,P=t.detail)},function(t){gt[t?"unshift":"push"](()=>{n(20,f=t)})},t=>{n(21,D=t.detail)},function(t){gt[t?"unshift":"push"](()=>{n(22,p=t)})},t=>{n(23,z=t.detail)},function(t){gt[t?"unshift":"push"](()=>{n(26,v=t)})},t=>{n(27,A=t.detail)},function(t){gt[t?"unshift":"push"](()=>{n(24,g=t)})},t=>{n(25,O=t.detail)},function(t){gt[t?"unshift":"push"](()=>{n(15,c=t)})},function(t){gt[t?"unshift":"push"](()=>{n(16,d=t)})},t=>{n(0,m=t.detail)},function(t){gt[t?"unshift":"push"](()=>{n(18,u=t)})},function(t){gt[t?"unshift":"push"](()=>{n(8,r=t)})}]}return new class extends qt{constructor(t){super(),Bt(this,t,uv,hv,b,{},Rg,[-1,-1,-1])}}({target:document.getElementById("body"),props:{}})}();
//# sourceMappingURL=file_viewer.js.map
